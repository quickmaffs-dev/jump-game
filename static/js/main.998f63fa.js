/*! For license information please see main.998f63fa.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var h=0;h<s.length;h++)r.call(o,s[h])&&(u[s[h]]=o[s[h]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,A);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,A);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,A);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=60103,I=60106,E=60107,_=60108,x=60114,C=60109,S=60110,T=60112,N=60113,R=60120,P=60115,D=60116,B=60121,O=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;b=U("react.element"),I=U("react.portal"),E=U("react.fragment"),_=U("react.strict_mode"),x=U("react.profiler"),C=U("react.provider"),S=U("react.context"),T=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),D=U("react.lazy"),B=U("react.block"),U("react.scope"),O=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var q,Q="function"===typeof Symbol&&Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}function V(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var z=!1;function K(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function W(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case x:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case B:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ce(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ae={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ae.hasOwnProperty(e)&&Ae[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ae).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ae[t]=Ae[e]}))}));var Ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Ie[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,Te=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function Re(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Be(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Le=De,Me=!1,Fe=!1;function Ue(){null===Se&&null===Te||(Oe(),Pe())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Qe=!1;if(h)try{var je={};Object.defineProperty(je,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ye){Qe=!1}function Ve(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,Ke=null,We=!1,Ge=null,He={onError:function(e){ze=!0,Ke=e}};function Ye(e,t,n,r,i,a,o,s,u){ze=!1,Ke=null,Ve.apply(He,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function At(e,t,n){mt(e)&&n.delete(t)}function kt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(At),ht.forEach(At)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function bt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function It(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},_t={},xt={};function Ct(e){if(_t[e])return _t[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return _t[e]=n[t];return e}h&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var St=Ct("animationend"),Tt=Ct("animationiteration"),Nt=Ct("animationstart"),Rt=Ct("transitionend"),Pt=new Map,Dt=new Map,Bt=["abort","abort",St,"animationEnd",Tt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=Lt):0!==(s&=a)&&(r=Mt(s),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Qt(24&~t))?qt(10,t):e;case 10:return 0===(e=Qt(192&~t))?qt(8,t):e;case 8:return 0===(e=Qt(3584&~t))&&(0===(e=Qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Qt(e){return e&-e}function jt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Me||Oe();var i=Zt,a=Me;Me=!0;try{Be(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Xt(e,t,n,r){Ht(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,yt(ht.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Or(e,t,r,null,n)}}}function $t(e,t,n,r){var i=xe(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Or(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),An=un(i({},pn,{relatedTarget:0})),kn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=un(wn),In=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Cn}var Tn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Tn),Rn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=un(Bn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,qn=h&&(!Mn||Fn&&8<Fn&&11>=Fn),Qn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Re(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Xn(e){Tr(e,0)}function Zn(e){if(X(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Jn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Hn(t,Jn,e,xe(e)),e=Xn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=h&&"documentMode"in document&&11>=document.documentMode,Ar=null,kr=null,wr=null,br=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==Ar||Ar!==Z(r)||("selectionStart"in(r=Ar)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(kr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Bt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Er.length;_r++)Dt.set(Er[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),ze){if(!ze)throw Error(o(198));var l=Ke;ze=!1,Ke=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Sr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Sr(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Cr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Br(a,e,i,t),o.add(s))}function Br(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=xe(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=An;break;case"focusout":c="blur",u=An;break;case"beforeblur":case"afterblur":u=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case St:case Tt:case Nt:u=kn;break;case Rt:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=qe(p,f))&&l.push(Lr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=f;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==h&&Ur(o,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Gn(s))if(er)y=cr;else{y=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(Ar=g,kr=r,wr=null);break;case"focusout":wr=kr=Ar=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Ir(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Ir(o,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Kn?Vn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(qn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==A?"onCompositionEnd"===A&&Kn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(g=Mr(r,A)).length&&(A=new In(A,e,null,n,i),o.push({event:A,listeners:g}),m?A.data=m:null!==(m=zn(n))&&(A.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Qn);case"textInput":return(e=t.data)===Qn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Tr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=qe(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=qe(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=qe(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=qe(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function qr(){}var Qr=null,jr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Xr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xr,$r="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function yi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function Ai(e,t,n){if(di.current!==fi)throw Error(o(168));hi(di,t),hi(pi,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var Ii=null,Ei=null,_i=a.unstable_runWithPriority,xi=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Si=a.unstable_shouldYield,Ti=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Bi=a.unstable_NormalPriority,Oi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ti?Ti:function(){},Ui=null,qi=null,Qi=!1,ji=Ni(),Vi=1e4>ji?Ni:function(){return Ni()-ji};function zi(){switch(Ri()){case Pi:return 99;case Di:return 98;case Bi:return 97;case Oi:return 96;case Li:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Bi;case 96:return Oi;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),_i(e,t)}function Gi(e,t,n){return e=Ki(e),xi(e,t,n)}function Hi(){if(null!==qi){var e=qi;qi=null,Ci(e)}Yi()}function Yi(){if(!Qi&&null!==Ui){Qi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),xi(Pi,Hi),n}finally{Qi=!1}}}var Ji=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,h=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=h,Qs|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ha(e,i),pu(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function Aa(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function Ia(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ia(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ia(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ia(e,null,t),n.return=e,n;case I:return(t=Xu(t,e.mode,n)).return=e,t}if(ba(t)||j(t))return(t=Hu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(ba(n)||j(n))return null!==i?null:h(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=p(h,i,v,s[v],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var A=d(i,v,m.value,c);if(null===A){null===v&&(v=g);break}e&&v&&null===A.alternate&&t(i,v),s=a(A,s,y),null===h?l=A:h.sibling=A,h=A,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=a(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=a(m,s,y),null===h?l=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case b:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ia(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Hu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ia(e,r,a),u.return=e,e=u)}return s(e);case I:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(ba(a))return v(e,r,a,u);if(j(a))return y(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var xa=_a(!0),Ca=_a(!1),Sa={},Ta=ci(Sa),Na=ci(Sa),Ra=ci(Sa);function Pa(e){if(e===Sa)throw Error(o(174));return e}function Da(e,t){switch(hi(Ra,t),hi(Na,e),hi(Ta,Sa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ta),hi(Ta,t)}function Ba(){li(Ta),li(Na),li(Ra)}function Oa(e){Pa(Ra.current);var t=Pa(Ta.current),n=pe(t,e.type);t!==n&&(hi(Na,e),hi(Ta,n))}function La(e){Na.current===e&&(li(Ta),li(Na))}var Ma=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,qa=null,Qa=!1;function ja(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function za(e){if(Qa){var t=qa;if(t){var n=t;if(!Va(e,t)){if(!(t=Hr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,Qa=!1,void(Ua=e);ja(Ua,n)}Ua=e,qa=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Qa=!1,Ua=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Wa(e){if(e!==Ua)return!1;if(!Qa)return Ka(e),Qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=qa;t;)ja(e,t),t=Hr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qa=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qa=null}}else qa=Ua?Hr(e.stateNode.nextSibling):null;return!0}function Ga(){qa=Ua=null,Qa=!1}var Ha=[];function Ya(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Ja=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Do:Bo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Oo,e=n(r,i)}while(ro)}if(Ja.current=Po,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=r):u=u.next=h,$a.lanes|=l,Qs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Ha.push(t))),e)return n(t._source);throw Ha.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],h=c[0];c=to;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var y=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-zt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:h}).dispatch=l=Ro.bind(null,$a,e),c.queue=e,c.baseQueue=null,h=fo(i,t,n),c.memoizedState=c.baseState=h),h}function vo(e,t,n){return po(uo(),e,t,n)}function yo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,$a,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},so().memoizedState=e}function Ao(){return uo().memoizedState}function ko(e,t,n,r){var i=so();$a.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}$a.flags|=e,i.memoizedState=go(1|t,n,a,r)}function bo(e,t){return ko(516,4,e,t)}function Io(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)}function Co(){}function So(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=zi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=fu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,$a,e),[r.memoizedState,e]},useRef:mo,useState:yo,useDebugValue:Co,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return bo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return mo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Qa){var e=!1,t=function(e){return{$$typeof:O,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,go(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Bo={readContext:oa,useCallback:So,useContext:oa,useEffect:Io,useImperativeHandle:xo,useLayoutEffect:Eo,useMemo:To,useReducer:lo,useRef:Ao,useState:function(){return lo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Io((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[Ao().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:So,useContext:oa,useEffect:Io,useImperativeHandle:xo,useLayoutEffect:Eo,useMemo:To,useReducer:ho,useRef:Ao,useState:function(){return ho(co)},useDebugValue:Co,useDeferredValue:function(e){var t=ho(co),n=t[0],r=t[1];return Io((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=ho(co)[0];return[Ao().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return ho(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):xa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function qo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Qo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return zo(e,t,n,r,a)}function jo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bu(t,r);return Fo(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Aa(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),sa=!1;var f=t.memoizedState;o.state=f,da(t,r,o,i),u=t.memoizedState,s!==r||f!==u||pi.current||sa?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=sa||ma(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=yi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&ka(t,o,r,u),sa=!1,f=t.memoizedState,o.state=f,da(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||pi.current||sa?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=sa||ma(t,n,c,r,f,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Da(e,t.containerInfo)}var Ho,Yo,Jo,Xo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(Ma,1&a),null===e?(void 0!==i.fallback&&za(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Hu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Hu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return Ba(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ta.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Nr(xr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=qr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Ho(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<xr.length;a++)Nr(xr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?be(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&me(e,h):"number"===typeof h&&me(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Nr("scroll",e):null!=h&&k(e,s,h,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=qr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Ta.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&Qs)&&0===(134217727&js)||mu(Ds,Os))),(r||n)&&(t.flags|=4),null);case 4:return Ba(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Ma.current,hi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return Iu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ba(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Ba(),null;case 10:return ra(e),null;case 23:case 24:return Iu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Ta.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(h in Ee(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var c=a[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===O?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))))}throw Error(o(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function As(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Ii,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){qu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){qu(t,a)}break;case 5:vs(t);break;case 4:_s(e,t)}}function ks(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Is(e,n,t):Es(e,n,t)}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(As(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(As(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function xs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?be(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):k(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=Vi(),ms(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,Ns=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Ds=null,Bs=null,Os=0,Ls=0,Ms=ci(0),Fs=0,Us=null,qs=0,Qs=0,js=0,Vs=0,zs=null,Ks=0,Ws=1/0;function Gs(){Ws=Vi()+500}var Hs,Ys=null,Js=!1,Xs=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&Ps)?Vi():-1!==su?su:su=Vi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=qs),0!==Ji.transition){0!==cu&&(cu=null!==zs?zs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Ps)&&98===e?e=qt(12,uu):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Vt(e,t,n),e===Ds&&(js|=t,4===Fs&&mu(e,Os));var r=zi();1===t?0!==(8&Ps)&&0===(48&Ps)?Au(e):(yu(e,n),0===Ps&&(Gs(),Hi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),zs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var h=Lt;a[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ds?Os:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ci(n)}15===t?(n=Au.bind(null,e),null===Ui?(Ui=[n],qi=xi(Pi,Yi)):Ui.push(n),n=Mi):14===t?n=Gi(99,Au.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Ou()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ds?Os:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=xu();for(Ds===e&&Os===r||(Gs(),Eu(e,r));;)try{Tu();break}catch(u){_u(e,u)}if(na(),Ns.current=a,Ps=i,null!==Bs?r=0:(Ds=null,Os=0,r=Fs),0!==(qs&js))Eu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cu(e,n))),1===r)throw t=Us,Eu(e,0),mu(e,n),yu(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Ks+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Kr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return yu(e,Vi()),e.callbackNode===t?gu.bind(null,e):null}function mu(e,t){for(t&=~Vs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Au(e){if(0!==(48&Ps))throw Error(o(327));if(Ou(),e===Ds&&0!==(e.expiredLanes&Os)){var t=Os,n=Cu(e,t);0!==(qs&js)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cu(e,t))),1===n)throw n=Us,Eu(e,0),mu(e,t),yu(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),yu(e,Vi()),null}function ku(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Hi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Hi())}}function bu(e,t){hi(Ms,Ls),Ls|=t,qs|=t}function Iu(){Ls=Ms.current,li(Ms)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Bs)for(n=Bs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Ba(),li(pi),li(di),Ya();break;case 5:La(r);break;case 4:Ba();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:Iu()}n=n.return}Ds=e,Bs=Wu(e.current,null),Os=Ls=qs=t,Fs=0,Us=null,Vs=js=Qs=0}function _u(e,t){for(;;){var n=Bs;try{if(na(),Ja.current=Po,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Rs.current=null,null===n||null===n.return){Fs=1,Us=t,Bs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Os,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Ma.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var y=f.updateQueue;if(null===y){var g=new Set;g.add(c),f.updateQueue=g}else y.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=la(-1,1);m.tag=2,ha(s,m)}s.lanes|=1;break e}u=void 0,s=t;var A=a.pingCache;if(null===A?(A=a.pingCache=new hs,u=new Set,A.set(c,u)):void 0===(u=A.get(c))&&(u=new Set,A.set(c,u)),!u.has(s)){u.add(s);var k=Qu.bind(null,a,c,s);c.then(k,k)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=u;var w=f.type,b=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zs||!Zs.has(b)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,ds(f,a,t));break e}}f=f.return}while(null!==f)}Ru(n)}catch(I){t=I,Bs===n&&null!==n&&(Bs=n=n.return);continue}break}}function xu(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Cu(e,t){var n=Ps;Ps|=16;var r=xu();for(Ds===e&&Os===t||Eu(e,t);;)try{Su();break}catch(i){_u(e,i)}if(na(),Ps=n,Ns.current=r,null!==Bs)throw Error(o(261));return Ds=null,Os=0,Fs}function Su(){for(;null!==Bs;)Nu(Bs)}function Tu(){for(;null!==Bs&&!Si();)Nu(Bs)}function Nu(e){var t=Hs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ru(e):Bs=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Bs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Bs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Bs=t);Bs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=zi();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Ou()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-zt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Bs=Ds=null,Os=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,Qr=Yt,gr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(x){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,y=s,g=null;t:for(;;){for(var m;y!==u||0!==a&&3!==y.nodeType||(f=h+a),y!==c||0!==l&&3!==y.nodeType||(d=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break t;if(g===u&&++p===a&&(f=h),g===c&&++v===l&&(d=h),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,hu=!1,Ys=r;do{try{Bu()}catch(x){if(null===Ys)throw Error(o(330));qu(Ys,x),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var A=Ys.flags;if(16&A&&me(Ys.stateNode,""),128&A){var k=Ys.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&A){case 2:bs(Ys),Ys.flags&=-3;break;case 6:bs(Ys),Ys.flags&=-3,xs(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,xs(Ys.alternate,Ys);break;case 4:xs(Ys.alternate,Ys);break;case 8:_s(s,u=Ys);var b=u.alternate;ks(u),null!==b&&ks(b)}Ys=Ys.nextEffect}}catch(x){if(null===Ys)throw Error(o(330));qu(Ys,x),Ys=Ys.nextEffect}}while(null!==Ys);if(w=jr,k=yr(),A=w.focusedElem,s=w.selectionRange,k!==A&&A&&A.ownerDocument&&vr(A.ownerDocument.documentElement,A)){null!==s&&gr(A)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in A?(A.selectionStart=k,A.selectionEnd=Math.min(w,A.value.length)):(w=(k=A.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),u=A.textContent.length,b=Math.min(s.start,u),s=void 0===s.end?b:Math.min(s.end,u),!w.extend&&b>s&&(u=s,s=b,b=u),u=pr(A,b),a=pr(A,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),b>s?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=A;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof A.focus&&A.focus(),A=0;A<k.length;A++)(w=k[A]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Qr,jr=Qr=null,e.current=n,Ys=r;do{try{for(A=e;null!==Ys;){var I=Ys.flags;if(36&I&&gs(A,Ys.alternate,Ys),128&I){k=void 0;var E=Ys.ref;if(null!==E){var _=Ys.stateNode;Ys.tag,k=_,"function"===typeof E?E(k):E.current=k}}Ys=Ys.nextEffect}}catch(x){if(null===Ys)throw Error(o(330));qu(Ys,x),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ps=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((I=Ys).sibling=null,I.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Ii,n,void 0,64===(64&n.current.flags))}catch(x){}if(yu(e,Vi()),Js)throw Js=!1,e=Xs,Xs=null,e;return 0!==(8&Ps)||Hi(),null}function Bu(){for(;null!==Ys;){var e=Ys.alternate;hu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(hu=!0):13===Ys.tag&&Ss(e,Ys)&&et(Ys,lu)&&(hu=!0));var t=Ys.flags;0!==(256&t)&&ys(e,Ys),0===(512&t)||$s||($s=!0,Gi(97,(function(){return Ou(),null}))),Ys=Ys.nextEffect}}function Ou(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),$s||($s=!0,Gi(97,(function(){return Ou(),null})))}function Mu(e,t){ru.push(t,e),$s||($s=!0,Gi(97,(function(){return Ou(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Hi(),!0}function Uu(e,t,n){ha(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(Vt(e,1,t),yu(e,t))}function qu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ds(n,e=cs(t,e),1);if(ha(n,i),i=fu(),null!==(n=vu(n,1)))Vt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Os&n)===n&&(4===Fs||3===Fs&&(62914560&Os)===Os&&500>Vi()-Ks?Eu(e,0):Vs|=n),yu(e,t)}function ju(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=qs),0===(t=Qt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(Vt(e,t,n),yu(e,n))}function Vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Vu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Hu(n.children,i,a,t);case L:s=8,i|=16;break;case _:s=8,i|=1;break;case x:return(e=zu(12,n,t,8|i)).elementType=x,e.type=x,e.lanes=a,e;case N:return(e=zu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=zu(19,n,t,i)).elementType=R,e.lanes=a,e;case M:return Yu(n,i,a,t);case F:return(e=zu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case S:s=9;break e;case T:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e;case B:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=zu(23,e,r,t)).elementType=M,e.lanes=n,e}function Ju(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=fu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=ki(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $u(e,t,null,n)}Hs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Oa(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(hi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);hi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,jo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=qo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(qa=Hr(t.stateNode.containerInfo.firstChild),Ua=t,a=Qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ha.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Oa(t),null===e&&za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==a&&zr(r,a)&&(t.flags|=16),Vo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&za(t),null;case 13:return Zo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(hi(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,ha(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),qo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),Aa(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return jo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=ku,Be=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Hi())}},Oe=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,Vi())}))}Hi()}(),Ou())},Le=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Hi())}};var uc={Events:[ri,ii,ai,Re,Pe,Ou,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Ii=hc.inject(lc),Ei=hc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ps=n,Hi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ku,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var A=m.prototype=new g;A.constructor=m,r(A,y.prototype),A.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!b.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+x(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+x(s=e[c],c);u+=C(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+x(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function S(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:S,forEach:function(e,t,n){S(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!b.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var A={};u(A,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(T([])));w&&w!==n&&r.call(w,a)&&(A=w);var b=m.prototype=y.prototype=Object.create(A);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=m,u(b,"constructor",m),u(m,"constructor",g),g.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},I(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,g=-1,m=5,A=0;t.unstable_shouldYield=function(){return t.unstable_now()>=A},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();A=e+m;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>_(o,n))void 0!==u&&0>_(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],C=[],S=1,T=null,N=3,R=!1,P=!1,D=!1;function B(e){for(var t=I(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,b(x,t)}t=I(C)}}function O(e){if(D=!1,B(e),!P)if(null!==I(x))P=!0,n(L);else{var t=I(C);null!==t&&r(O,t.startTime-e)}}function L(e,n){P=!1,D&&(D=!1,i()),R=!0;var a=N;try{for(B(n),T=I(x);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=T.callback;if("function"===typeof o){T.callback=null,N=T.priorityLevel;var s=o(T.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?T.callback=s:T===I(x)&&E(x),B(n)}else E(x);T=I(x)}if(null!==T)var u=!0;else{var c=I(C);null!==c&&r(O,c.startTime-n),u=!1}return u}finally{T=null,N=a,R=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return I(x)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:S++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,b(C,e),null===I(x)&&e===I(C)&&(D?i():D=!0,r(O,o-s))):(e.sortIndex=u,b(x,e),P||R||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},223:function(e,t,n){"use strict";e.exports=n.p+"static/media/coinCollect.b869895d7bb1d6fe2af8.mp3"},710:function(e,t,n){"use strict";e.exports=n.p+"static/media/coinMusic.e54b017f74b5b16dca58.mp3"},156:function(e,t,n){"use strict";e.exports=n.p+"static/media/jump.1d5b3091217d45498bfe.mp3"},957:function(e,t,n){"use strict";e.exports=n.p+"static/media/roblox.52c22e3a1d4a475a9b7a.mp3"},509:function(e,t,n){"use strict";e.exports=n.p+"static/media/success.7a7fcfe0d43a623b716e.mp3"},490:function(e,t,n){"use strict";e.exports=n.p+"static/media/zelda.02f21e059b4994917fd3.mp3"},114:function(e){"use strict";e.exports="data:image/png;base64,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"},802:function(e){"use strict";e.exports="data:image/jpeg;base64,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"},988:function(e,t,n){"use strict";e.exports=n.p+"static/media/backgroundTowers.3cdbb2028fadcb100aa5.png"},488:function(e,t,n){"use strict";e.exports=n.p+"static/media/cloud.6df42ca05b88c8cb7aa4.png"},817:function(e){"use strict";e.exports="data:image/gif;base64,R0lGODlh+gD6APcAAAAAAAAADAD/AAEBAAIBAQQCAQYGBgcFAwkGAgoGAgsHAgsHAwsLCxMMBRMRDhMTExUKARYRDBcPBRcXFxgaHBsfJR8TBh8bFyQkJCUeGSUgHCYYCiYmJigoKC4qJy8eDDc3Nzg4ODwnDz09PUA8N0NEREQsEkQ6MEREREU0IUcuEkdHR0wxE0xMTE5NTGNAGmNjY2ZEH3dNH3t7e4lcKoleLqdsKrByLbObg7d3L7hyJbihibi4uLp4ML69vcGBO8GGRcJ9MciBM9SqftmHLNmiZdqOOd+QOuHDpeTFp+Tk5OWUO+qXPeyQKu3LqPHRsfKdPvSaNvSdPvSeP/WfP/WmUPXVtPXcxfbYuvbZvPbZvfbav/bbwvbex/beyPfUsPfUsffVsvfWtPfWtffWtvfXtvfXuPfgyfiuXPjJl/jLnPjOofjPpPjSrPjUsPjYt/mhPvnHkfnHkvnIlfnKmvnLnPnRqPnizPrAgvrChfu6dPu8ePy1Z/y2afzFi/zewf2tVv2zY/24bP6eM/6jPv6jQf6kQP6lQv6pSv6sU/61XP+bLf+dL/+dMf+hOP+hOf+iOv+iO/+iPP+lQf+lQv+lQ/+mRf+nQ/+nR/+tRf+wRf+wRv+xR/+zRf+zR/+0SP+3Tf++TP+/Yv/BZv/Qnf/Rcf/Zof/dr//esf/lwv/mv//oxP/szf/71AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgACACwAAAAA+gD6AAAI/wAFCBxIsKDBgwgTKlzIsOFAFw8KAJhIsaLFixgzatwIQCIAhyBDihxJsqTJkygHwmBggADHlzBjWpRYIaXNmzhz6tQJw0EBlzKDCr1YoICHnUiTKl2ac6WBoVChFjBwlKnVq1izCnQKNKrXl1Orah1LtmxJrl/TbiwQQKzZt3DjqmTZVa1dimHl6t07Fu3dvx3b8h1MOKlfwHbzFl7M+ORhxGnZum1MubLCx5C9KrbMufPclpnVSvZMmvNKBgUOpD7AurXr17Bjy24Nc3Pp24VXegy9cQDH0biDD4YRQQKEBseTI1+uvDnz5Q2iS59O3fdvqsKzK+Uxo/sMGN7Bh/+HcYQJkyjnzy9Bzz59+/fuzUMxz2R+fflLDhlpAOAAR6riifddeOFpZyBDPHhAwQMMTsDgAw4+OIEJT7BBBykYYmhKhhtqyOGHH36iiSeclGiiiZmEcgh//m1kAAMSNhghhA+CwMOBOCIEwwQsMbDAiwz0+KIBJHhxhRZIarFFkktmoaQWTjb5ZJRaYHHFE1UMQgUcXHbZ5RSZLMEiRwQQAKSQQwYJ5AM5tkkQDxUs8FOZQNFpZgEn/EHGE2A8YYWff1rxBaB+DmpFoIb++QUWbSACCSaVRCqppHBwwsSYMtmpaZkGcODmpz5MAFpGA7SU5xtgkDHGqmK0KgarrsL/2iqsY1iRRaOQWELJrrzyWuml/f2F3adthjpqRgYMkCcqVqi66rPQRivts2Fogauuvfb6K6Z2DUssjsbWdVGyJ6TyhhXTpqvuGNVem622lnKrlmDfgiuquBaRq8obr67rL7XWOortu5RsG6xdZk5Wr3DhuqjsH8w6+++67QpM8K4Gt6hWwgsf2LBG5JqL7sT+VpzrxQXHe/DG3nbM8L0On7BvvySra/LA72Z8F8cuZ/cxsg9HXLPNAZ98sc4It9zzbT9jFPK5QxPt7tEqa5wWz0vjFipqBBTl9dcMACAzqq6WbfbZaINxq8VUMyEBAAh8LffX1m2U8I1Z4wYRvhW5/5TnH1aYIfjghBduOOFjbPEFIo/gnO2vCwxQN0eTY2Qmm3nj1hPfFnmwyh9YYJHF6KSXbvrppJtxRRiMO66tJ0xY/RLnFJmJQeaD8YADDtzpPoPvvuPwAw47EG988cjvPgQagTSviPPQB/K89NFPb730lhhSCcqHXAJHEDn0IP745IsfhBAfDCA7UR7MgMPv7wMf//u4M5VgBfhXQEH+/Fcgwx53uAMrBsiKVQzQgAVshSkWMQhHNHAQEHQgBB8YwQlS8IKOmMT2UEYJQ1DiE6AAoQhDSMJPfCIUoWAB3P7DgP3174UVGAHe6meYCgSAATfEYZByyAAZBOIJQHyCE/+CSEQnaEEOhbgEJpbIxCY68YlOtAQmXHexQ8BhS1i8oha3NAVDXMIEK7RbAHJIxh3ukEE03E4FGLApOxVFBn3QghnIQMcxnC0MXEiDJLzIwT768Y8cTKImwIiAlwygjZsKwO3SiJSmzYQAMhAFFsjQrHSBIY97vAQgN8nJPgqSkBsDgNIYeRNHVuQnkcSCGUY2rUvqkY+djKUsKfHJMKpllKRMiSnxAklJmoFm0nJlJmdJzE3WspB2oVcucbLLiaDSl8CMljBhWcxqouyYSVPYMk/SzI70UpXRhNY0NWnNcr4LmyzT5jZL0s1nglNd4zSnPHmFzqvhcp0kaec3fwn/T0xSc57lrOdXsIZPbsIsI+7kpyX9SU6ABvQSg7TlQO9Z0JDoM5UKbSVD/3iJjnq0o9v7aEMfGlFk2lOdFQXJRaHZz1eOFGWGiKlMZdrBmc5ToF4haEpHstJ3LtSlfeyoJCIhiaIWNRKGsAQhiEpUOBTCqVB9qlShusFAQhSU6dypSXqa0WBuFGWYcEQk4lCHOaThrHNggx4c4Yc1yEENcQBFJ0pIVxCGwhMd9ORVJZpTimp1IVwN57PieTGlIiIPW+jCFrjA2C2coQ170IIXsnAHK9RABjKgAWY1m9nNZlYKmSjEIa65V5NOFKV/VUhgWzrMi2FiEIHowhi+EAYw/9g2DF8wAxdw+wRVIKFMkitAcIPbFSZ4Ag5VPWdps5lanh4UIwkV7KoIS7DXBiILXWVVGOz4hFQkIQIDkNPcirIAAEjAuMglbUmZ21yLPpco+5TuGKj7LutywQzbVVd3k+CAlV3EPw1Ab3KzhdOo6LS9gH3vIzEqX/pma3uGUMQXspDfae23v+ujCIAFrF6snhTBKlXwKePL2n9m6xKGQIQewICFCkvrwv61yIaPO+BeFRgqBwYxQlb709ZWdxB8OEOL1wXjDE9kxum92I2HkmMdG4THGgVqYWFrhjLIdwxF1giSa0zP5WbVyQk+FnwZXOKX9sq6Pk1XljOy5Q7z1f/AfgWzAKDsVSkTzBKOUMQcr7xmjLRZyV7+sJwTQmdpfvXHfPDCkPXrXQxrGQABprGbTdtX1Mq50OI89LssAYlEzEEMVmY0f2NckT8TbMlCafKg5yziiQwgoaz06hx8fGdIIGLCLo5Wn/8LaQ4Der1fXvWTeTSV1BRbNQdAACRHgQUrhOHZ0I72F7YwaxP3Cs+KSJW/di3jXkv61yoAgHjH67XKWY4qMxQ2QSCyG8u9IBRGYqy8582FLdxhDUg1M6+se4VFq7nRpNawt5N86kts4gMyabflYIRgHwiABz6IuMQnfiMewAAGNfhOxjGu8e8AwQ942IPIQz5yke8BD3j/EIQhNIgybFeZzwA3crAiTfB3de8SNoiBZjm7c8/SwAKvJhMHZvBwHhj96EiveBp50AIUVOACFJhA1CkAdamHYAQwUIIXBHjAVhTwgKtohRoY0QgHmr2CEoQEl88M2zRbOOaPpvnad3WIQ3giFJ0woVxNCMK8o1CFlCbKA0AwggpkgAJURzzUqX71ERC9fjiowANYYgADLIDya4oADK60p0D56fN/ojYhJmGJ0pv+9KXXd7bQnF1dw53NA587PZ1qCDjENKqGoMIlMuHhjJgpSJRHU48Y4CAY0HAGa2wJnQCgqQMkAAZ3eMIc61hnWs+S9TAftcxN3ce6U8L7dD8E/6prh0hN5dD4kLehwmfy/FU8gY6xzrSdiYl9Ir/ez7G35vhlIrkXoR93yMdGa1EAMMAKXxB/hjZ/19d2rQct3FZq+VdN+xcUlfd/mRN5AUA7/YEAMLAKVnBleFRtqsdJ9SdqjgZ7cqd/gXZLDGCBeROAGpgaHfiB63JJdGB9smRdW9CAz/KAApeCEriCaVGBx7dG63dKB1CAB7guX9AFdZBv1mRf+GV/2hd3vlZMEygT/kdDGHiEeMGBHihfYbAFeWAJssdJECZhFGaCAXdkEYiFQvgVRFg/MLgWHGiA8iUGWZAGilAIk1BOKKZiLJZrDnh/vAaEcAhs3dKCXEgBAf/ghc4EhlYQaunyBWfABlBYTa8VZP72dlWIgldITFkYE3MIgGsUgxzYCm2AgNASgjgYS5ZAZZT4b5+If4goinHoFVuYfhlohx34Bf7iYDnIgNl3grYYirM0ijBRiplThxohg2FYg5q2gIHgdi9miN12i8mYi1Gxi6aIGmuRhAbIioM1jcNYjTy4Kj7ohtooS8r4EsyYN13oi9FYZlFIjFRojIeIjO7IjVDhjc14ir6Ih9KogOdoja5Xi/v4bYnYe0NoAC6YNTjgiJDYEZI4i9VnbbFUgrSoj9nIj7H0jiwUkUvjjAiViqtYkK/YSRzpiR4Jge0Ykv44FPEokTaEir//GIzmuJH4yIbb94a4qIgsSJI9Y5LQlYT12GMayZI92ZFtOHMg2Uki6SIQWYTg+IziuIT9JIL3iI7F+JTct41COYSMyIsVWQCSCIJcwJXVFIuB8HL5CJZAKZYOKYdVSYcC+Yx3+AVXZomYuJQkCGRCRoiFqJAfyZBBWZe6WJa4M5GPSI+TKF16yId+CIgptmKdmJAv+YNRyUlTCTJ3+Y04qYrkyC5kGCnmlIa45pNWiJh0+WaLSZQug4E4uQrAyIROuJKBGQj3RZg9iI0w2ZnGNJNCUZMlmZcIhZQ02E83CJibpIPpiGXAyZmu2Y9jKYeMGZBXmZxKWJrsspa6+ZxN/+mSchmTUkmcFBiaF6h+kHllwsiTXhmXP2menomeWpidL4ic0LWX7rmTTBmfrAmK1SmT16mL6imPFAmZGJmA4QlILXmNhhmcA3qeBdqN+Jk1RkkUKOmd7/mfCFmYm8mOwglIn4ksB2qTvaiXOamSzumg4wmhIQqVE1qfFfqPF3qcAoiVM9ifBgmfH/qbEUqdNfeagWegstkxAXiWWcmh/rmbP6qO0ymiMzqcNUqTN9oz86iiSRllDfpHD6qZ5Tmif1SiTnOiOIqTBGmPmviiYDqfYupHZDouVzqbCaqlkWkz1NalfuRyZPCVbjqlJGqfpGimRamfGgoDpMmEl5iJxf+0iYrmm1AapFI6pNapmBZ6pAtDm/R4m+kCam2gBzF1hn/EaZ4GavK1jjJKqQRqqf9IqC6ToTOhnGLIBXvQOPLEabe2hk75p6pKoaxqpZhaL0kajt25LnroB4TQoqOaZ9omn63ZqzT6q8Xpqh2TpSe5o0zoBWsACcrqR/yWmW36rKIKp4K6jHOKpIY6E/xJMXnarX3kcgsargIKrVQqrekZrN/imGd5kQ3WpOIJoLsqripYpcV5rgsDq6e0oSw6gv/6pNIpqak6rnpFsPfKhTe5qTrZox4anagalpUKm5dqlTEoqwvblQ7bsXP5sUXajdR6sEZIrONYsmsKsOTJqxL/a1UUe5/4SizWup/YqqaNyqYgGqaAOqblCo8tK6zpmrBKyKN62kdfOrQ2O7D2qrON+Jh2Gq/lqLFOyrFRGrFUC7KturOfgrBfiKgpiadsWUx86qcCG4Q5S4oGWy+aqqWcWomL6q4c5KjgKrVv25BiS5NJ+y1m60wk26ll8Kmhak2k+mlaG6kx6rGrGrgFS7ZuMqw6GrPpgke1SkWzhKurGbDzerOTJiyDy7PsaadXdqzJyrCAhG3NGqDHWLTkGrfmarltUrgW2bTZuq16C1aw1W+Q+rCRm7KTu7Jje7X7OoOPa5prS0zw6rajG7bIC6wi64uJCrT0J7RAWrz0Wa+U/1uxvFibd8ulv+ta3Au5REuvgWq78Di3hLu0eHG4Sum6Xpq+xLu+pPtrVTuouJsjmMudmlu/Juu1ECu5vhq+VmuW7SmzQUuzMKq/1Gu6/4sjuouWvKu91HiyX4vA0arAclvBB6KvCtqvXNuwBuy9bzqx/buMp1u28huJaMukJ+yiECyvs8u+Ruu+I2mxKXqttpmxT7u3+Iuy39u+LYy0ImwgF0y/5mu/3lrEHWy8CVy9lWuVSlqsGnyQKSzBcJvE//HCbtKzh7qlGQnFUCvFB0zFH2zFFAi/xHLB67rFPtrFU/vFIOzCS6wdJJy1JjzEwHvDfju9eOzGCyya2Ju2BP88sxy8xke8w2BMlXucHXULxOV7xgUsvTm8vwXHwy4CxzCco9xpxgx6vj8myN3rxYBryP6LxTCrlYv8wI2swrTLwnn8vpMsHGSsrj+7ue2KxhzUts5KyKtMwderommKt38JzMCbaH2byndczHcBkAiKtUB8p9PiqaCqPYzbaY57qlP8yLUbyaCZy8EhxzNsM7Rqq+YEurpas3+bmLfcw+OLscaaBchqypvGrBIjups8wdMsxrkbwx3hxNLyBdrKrcyMvoEgvMP8z4UsLKB8uS+bubA8LWP4vJ+bZ3Apuwupw+M8z5Lsw8tLyvIHyAw9y6osz6x8u8d8rcn8xJn80B//zcnK5cnlrLwlTMcbq8k1DdCLaM64gc7ZG8vbi8rqG80sbcz1bLdCrM+rp8a0DNK23NK4/NJH2csyzch2HM9EytTfmMUDvNWy3NXEvNTTPNFtsstMa9Jbi9KnrNJK/dUBLdS3gc4xjclc7dOHSdU4S87IotY50sfX3Lwd2rV8LaF+Xbp1jdWHWtRkfdRy7dUqK9F2XRqV7LNB7MCSbdYQLc3dItAATNDQuJxGvcGe/dMRndaXTRoBnNVjrddlndhCatMEdrRh3NqewdZn69bT5a82PNlnTddB7di8nNelvNBxndp9bds2htsjDXl1Wth/DNVsh9T5O9eVzdrGzbSQ/y3bnU3bk+rcXYbTJqrbnZHZZXzJyT3THt3cQD2U3T2/Wg3eqC3eYLvaoY3enPHaRLGknH3fNA3f+i3fDKy6Ac7F+O3B4GvVuT3fMozcJ23d+ybVK03cBt6Y063Z2BzZAv7eik3euxKn+SLaFkzaCqu2cL3Peta82U3Zx2vZPky+/oLQvqvc9RW8z5zUMF7FYK2dI1vf0RIG+Ny6jJtnX9DP8Dzc213ceLmdsH3RQ77OnitLuOoG7xzB2h3jjX3g15yHZqC43NyW3myqIF7b8U2W/G0ZeM2XirrM98iJw2vEK/zXIp3T0m3NHN68Gb3i2SLMZz7eaY6da14ZRK3IHv+u4AMe4oNupDNuzzyN2IuO5gWu5hBe0EI+4Tge1dhN57Vs5w4e3WH9yjTs59ct3J+N1k7emKn75QlexwvOxg3+4/kpyhdBAKoxA6rA3ppusi7u6YvNv3ce2IVOGZHHEsVmAMk+FS0BA6pARNBORFowB6OHetZuCfbrlqsU7dH+B0gw1aI6VeIOVXCwe1VrJqqh7Oq+7CxR7I0xA45objOBqAj0dQREQAa0BmR3dvz+QI9whtZ1Bvh+7/gedn8QAaLU4+HnCXVVV38XvhXZNwzgAkuHIAKAAxe3cRrfcTBQBCFHch9/ciJ/cirHcoUVCYCwBxy/8RyHcWxEAPKe3wT/c3M5x3Oe1Vk08HMdQSYAMAIXb/HtRRwBkAAtMRVdo3wA8G7xRm/zZm/45pxw0AlNYPRUX/RWn4Ea6MFJdHAwL1yvNlyTE/EJr24GwQMZwADpbmzqnmzLNknR9va4BZ6AWQm/gvALkPbrruyq8RJaD1HhNm7kJlwwcQAVkG5kzwMUYOsLxlKn/ThVoxZ9b97/xQBkXxCIL2aL/6SHnTLAInMyEfmATRSLVPkCwQOt5kwk1vjw0vmQz8YkThFxBmaXTzvRFemcLy9RAfrDPi6WJvsUgPkjRmaq7yuPnxa6H+oZoUykP/vPmPqJvvq4DxXHz16k/3C/T/vOb9+Oz/rG/+/60H1uve9kzI9Q2d/eKIM0XzH9wbb819/8wv/8xM/96e/9kt83sS/+7U/+76/90P+Un0//oW//4a9j4w9d5d/r528pbwP4gR/45GVenfn6zHf/Ojb+0FX+vX7+sAMZnfn6zHf/Ojb+0FX+vX5NmUAFPYfzPudzPudznxVaoyXsyH/r969j4w9d5d/rHLRyfLd3epd3epd3epd3epd3fPcJKFbV1M/+wM9L+2/+ngRVViRVtSdVtSdVtSdVtXcItQd+oE797A/8vLT/5i9L4Pd9oxV+vOJ94AfJu2//4a9j4w9d5d/rDkVSoW//4a9j4w9d5d/rDkVSoW//4a9j4/8PXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+GvY+MPXeXf6w5FUqFv/+HvZC6Q+EMyJGnSS9wO7U6ABXJQ7lAERVAURVMESFZEBVmURVhEBV5UtQcQfJUXfJXHACBQ/aWPAcoe88wnA6VA8ATfdQv0QP3e7/3e72Zn8jD1QQ0/QnaVQhA/O+hW/QAhQMAMFAULlkCIsOAIGkB27MCBA+JEiRV3KFIUSGPGQBw9bgTZMWTHSob/KlFCmTLloUtwguToEVPmzJhBhHwYcADATp49ARAAgGFFQqIJUazwIFDpUqZNnT6FGlXqVKpVrV5t6uIBgQFdvX79meLMHzNYzJ5Fm1Yt2jJXwCB6ZEnlXDiemOj0mbcnUL09DQDAGljwYMKFDV+FwaBA351AQaj6Y8XMZMqVLV+uPGbLF7hy56aEw4nJggGM85Y2DeDAhMOtXb+G3ZpHBcUFbN/GzWDACVVvwIgBHlz4cOLCwWRpgwiS58+UQjORAAABbuq4Uacu0IFHbO7dvXv3MWEB374Gdv9BZYXMGPbt3b+H3z6MluTLm6N83kB1av5+H3wHMEABsQrPAPL0/zLvhFTesCI+Bx8cY776mPssv/36668ADAbksEMPBSjwwLwS7E0MCE90T0LlKKRLNP3wwjA1A5L6sEYbYQvRtATRUw9FFFW07z4LYYyRsRlvRDLJwXI0crcFG/TxRCBZVGnIIlMLgEYlt+QSKibL263EKKWkb8X7nHPxwiv1IuDILt+EE8QJDNTxvPTWG9PBKc+0ck023Ywz0CS/RNBJBvN8cE8h0yTST57a1FJQST8kdMQw3zAR0fgUba5PR/cCdFJRB6zUpx1RecINMFZltVVXX2X1CyzsqCIKOKi4NVdcqYAikyVe/NQnSEcldkAXKDAgWWWXNUA3Eu7gQostpv+ltlprr61WiyueAKUTUED5BFxxw+0klEyA5Y9ZdZVlAIRi3/WOBw3oNG0AEU4xhRR99+W3X3/7VSPfH3SgiaYchLhhAQAWS03EviDdDl6JX4OBggcuxjjjByYIIAVHolgCZJFDJnlkk0sm2REiCuiqv+tSY0BjmS+e4L+Jb/bQhQ0agEABCHoG2mehgybaZ6D1C1bYnXBmOs7EAuAKgK+mpnpqqVEboAACqqPOYb0Wq6BpsbmEwYEEDijgALXXZrttt9tO2ifbIh277g8T+ytuvfMqIFS7/x4Qb6/3DrZvugFH3DvBCWe8gCwTh/y7xRnf2/DIL49tcsrjdvxwzD8+F0zzzQv3G3TTEWOA3tELf/x011FXfXVHLX+99qlEl33Nzm3nHSrccy+S9t6HV+p34DHcnXjljT+eP+F7DwgAOw=="},204:function(e){"use strict";e.exports="data:image/gif;base64,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"},716:function(e){"use strict";e.exports="data:image/gif;base64,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"},827:function(e){"use strict";e.exports="data:image/gif;base64,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"},751:function(e,t,n){"use strict";e.exports=n.p+"static/media/dementor.389d0f6a4e968b6d11c8.png"},202:function(e,t,n){"use strict";e.exports=n.p+"static/media/draco.e69ca8b049e8275b8095.png"},47:function(e,t,n){"use strict";e.exports=n.p+"static/media/ginny.029d83b24d57cf0aad41.png"},390:function(e,t,n){"use strict";e.exports=n.p+"static/media/levelOne.c1333b8f793c20b7e7c2.png"},843:function(e,t,n){"use strict";e.exports=n.p+"static/media/levelThree.e0fe9fa5d1d938663579.png"},81:function(e,t,n){"use strict";e.exports=n.p+"static/media/levelTwo.96ec3d3f6de0a30ee9be.png"},459:function(e,t,n){"use strict";e.exports=n.p+"static/media/menuBackground.6b0421fafe396bf1281c.png"},230:function(e){"use strict";e.exports="data:image/png;base64,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"},931:function(e){"use strict";e.exports="data:image/png;base64,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"},762:function(e){"use strict";e.exports="data:image/png;base64,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"},333:function(e,t,n){"use strict";e.exports=n.p+"static/media/potter4.622f3fec3aabacd19b0e.png"},735:function(e,t,n){"use strict";e.exports=n.p+"static/media/quidditch01.f2975e70424fc7f7525f.jpg"},726:function(e,t,n){"use strict";e.exports=n.p+"static/media/quidditch02.ebf0feb9c90291d660e9.jpg"},400:function(e,t,n){"use strict";e.exports=n.p+"static/media/quidditch03.5a900725facab018e553.jpg"},697:function(e,t,n){"use strict";e.exports=n.p+"static/media/quidditch04.dbeb23391fa2a5001b62.jpg"},213:function(e,t,n){"use strict";e.exports=n.p+"static/media/ron1.2e7f4c324315bba6b5ed.png"},4:function(e,t,n){"use strict";e.exports=n.p+"static/media/snitch.419f19e92119f9a4e5e8.png"},433:function(e,t,n){"use strict";e.exports=n.p+"static/media/speed1.8656a382b0dad7cc73f8.png"},282:function(e,t,n){"use strict";e.exports=n.p+"static/media/speed2.b5a48330c0aa1f711ba6.png"},739:function(e,t,n){"use strict";e.exports=n.p+"static/media/speed3.e1fdd7478ef651ca1028.png"},922:function(e,t,n){"use strict";e.exports=n.p+"static/media/speedDec.34edde3893e70ce570f1.png"},663:function(e,t,n){"use strict";e.exports=n.p+"static/media/speedInc.e51ae9ba03ad7da24538.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2a44e206.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="jump-game:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/jump-game/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkjump_game=self.webpackChunkjump_game||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ut},SDK_VERSION:function(){return Kn},_DEFAULT_ENTRY_NAME:function(){return Nn},_addComponent:function(){return Bn},_addOrOverwriteComponent:function(){return On},_apps:function(){return Pn},_clearComponents:function(){return Un},_components:function(){return Dn},_getProvider:function(){return Mn},_registerComponent:function(){return Ln},_removeServiceInstance:function(){return Fn},deleteApp:function(){return Yn},getApp:function(){return Gn},getApps:function(){return Hn},initializeApp:function(){return Wn},onLog:function(){return Zn},registerVersion:function(){return Xn},setLogLevel:function(){return $n}});var t=n(791),r=n.t(t,2),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function b(e){var t=m();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function I(e,t,n){return I=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},E(e)}function _(e){return a(e)||l(e)||s(e)||u()}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var C,S=n(757),T=n.n(S);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(C||(C={}));var R,P="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function B(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),N({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=C.Pop,h=null,f=d();function d(){return(c.state||{idx:null}).idx}function p(){l=C.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:l,location:y.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:M(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(N({},c.state,{idx:f}),""));var y={get action(){return l},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(P,p),h=e,function(){o.removeEventListener(P,p),h=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=C.Push;var r=L(y.location,e,t);n&&n(r,e);var i=O(r,f=d()+1),a=y.createHref(r);try{c.pushState(i,"",a)}catch(tC){if(tC instanceof DOMException&&"DataCloneError"===tC.name)throw tC;o.location.assign(a)}u&&h&&h({action:l,location:y.location,delta:1})},replace:function(e,t){l=C.Replace;var r=L(y.location,e,t);n&&n(r,e);var i=O(r,f=d()),a=y.createHref(r);c.replaceState(i,"",a),u&&h&&h({action:l,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(R||(R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function q(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=Q(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=W(i[o],H(r));return a}function Q(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=$([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Q(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=x(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=_(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=j(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,z=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(z)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!z(e)})).reduce((function(e,t){return e+(V.test(t)?3:""===t?1:10)}),r)}function W(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=G({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:$([i,l.pathname]),pathnameBase:ee($([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=$([i,l.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);B("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),h=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(tC){return B(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+tC+")."),e}}(l[n]||"",t),e}),{});return{params:h,pathname:s,pathnameBase:u,pattern:e}}function H(e){try{return decodeURI(e)}catch(tC){return B(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+tC+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Z(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(D(!(i=N({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:te(a),hash:ne(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var $=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},re=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n)}(E(Error));function ie(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ae=["post","put","patch","delete"],oe=(new Set(ae),["get"].concat(ae));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ue=t.createContext(null);var ce=t.createContext(null);var le=t.createContext(null);var he=t.createContext(null);var fe=t.createContext(null);var de=t.createContext({outlet:null,matches:[],isDataRoute:!1});var pe=t.createContext(null);function ve(){return null!=t.useContext(fe)}function ye(){return ve()||D(!1),t.useContext(fe).location}function ge(e){t.useContext(he).static||t.useLayoutEffect(e)}function me(){return t.useContext(de).isDataRoute?function(){var e=Se(be.UseNavigateStable).router,n=Ne(Ie.UseNavigateStable),r=t.useRef(!1);ge((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,se({fromRouteId:n},i)))}),[e,n]);return i}():function(){ve()||D(!1);var e=t.useContext(ue),n=t.useContext(he),r=n.basename,i=n.navigator,a=t.useContext(de).matches,o=ye().pathname,s=JSON.stringify(X(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);ge((function(){u.current=!0}));var c=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=Z(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:$([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return c}()}function Ae(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(de).matches,a=ye().pathname,o=JSON.stringify(X(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Z(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function ke(e,n,r){ve()||D(!1);var i,a=t.useContext(he).navigator,o=t.useContext(de).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,ye());if(n){var h,f="string"===typeof n?F(n):n;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||D(!1),i=f}else i=l;var d=i.pathname||"/",p=q(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Ce(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:$([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:$([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(fe.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:C.Pop}},v):v}function we(){var e=function(){var e,n=t.useContext(pe),r=Te(Ie.UseRouteError),i=Ne(Ie.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var be,Ie,Ee=t.createElement(we,null),_e=function(e){y(r,e);var n=b(r);function r(e){var t;return f(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return p(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(de.Provider,{value:this.props.routeContext},t.createElement(pe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function xe(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ue);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(de.Provider,{value:n},i)}function Ce(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||D(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ee);var l=n.concat(o.slice(0,a+1)),h=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(xe,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(_e,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}function Se(e){var n=t.useContext(ue);return n||D(!1),n}function Te(e){var n=t.useContext(ce);return n||D(!1),n}function Ne(e){var n=function(e){var n=t.useContext(de);return n||D(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||D(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(be||(be={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ie||(Ie={}));var Re;r.startTransition;function Pe(e){D(!1)}function De(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?C.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l;ve()&&D(!1);var f=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof o&&(o=F(o));var p=o,v=p.pathname,y=void 0===v?"/":v,g=p.search,m=void 0===g?"":g,A=p.hash,k=void 0===A?"":A,w=p.state,b=void 0===w?null:w,I=p.key,E=void 0===I?"default":I,_=t.useMemo((function(){var e=Y(y,f);return null==e?null:{location:{pathname:e,search:m,hash:k,state:b,key:E},navigationType:u}}),[f,y,m,k,b,E,u]);return null==_?null:t.createElement(he.Provider,{value:d},t.createElement(fe.Provider,{children:a,value:_}))}function Be(e){var t=e.children,n=e.location;return ke(Le(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Oe=new Promise((function(){}));t.Component;function Le(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(h(n),[i]);if(e.type!==t.Fragment){e.type!==Pe&&D(!1),e.props.index&&e.props.children&&D(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Le(e.props.children,a)),r.push(o)}else r.push.apply(r,Le(e.props.children,a))}})),r}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],qe=["aria-current","caseSensitive","className","end","style","to","children"];var Qe=r.startTransition;function je(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),U((function(e,t){var n=e.location;return L("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:M(t)}),null,n)));var u=s.current,l=c(t.useState({action:u.action,location:u.location}),2),h=l[0],f=l[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&Qe?Qe((function(){return f(e)})):f(e)}),[f,d]);return t.useLayoutEffect((function(){return u.listen(p)}),[u,p]),t.createElement(De,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:u})}var Ve="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,h=e.preventScrollReset,f=Fe(e,Ue),d=t.useContext(he).basename,p=!1;if("string"===typeof l&&ze.test(l)&&(r=l,Ve))try{var v=new URL(window.location.href),y=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=Y(y.pathname,d);y.origin===v.origin&&null!=g?l=g+y.search+y.hash:p=!0}catch(k){}var m=function(e,n){var r=(void 0===n?{}:n).relative;ve()||D(!1);var i=t.useContext(he),a=i.basename,o=i.navigator,s=Ae(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:$([a,c])),o.createHref({pathname:h,search:l,hash:u})}(l,{relative:a}),A=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=me(),l=ye(),h=Ae(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:M(l)===M(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,h,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:h,relative:a});return t.createElement("a",Me({},f,{href:r||m,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:n,target:c}))}));var We=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,h=e.style,f=e.to,d=e.children,p=Fe(e,qe),v=Ae(f,{relative:p.relative}),y=ye(),g=t.useContext(ce),m=t.useContext(he).navigator,A=m.encodeLocation?m.encodeLocation(v).pathname:v.pathname,k=y.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(k=k.toLowerCase(),w=w?w.toLowerCase():null,A=A.toLowerCase());var b,I=k===A||!l&&k.startsWith(A)&&"/"===k.charAt(A.length),E=null!=w&&(w===A||!l&&w.startsWith(A)&&"/"===w.charAt(A.length)),_=I?i:void 0;b="function"===typeof u?u({isActive:I,isPending:E}):[u,I?"active":null,E?"pending":null].filter(Boolean).join(" ");var x="function"===typeof h?h({isActive:I,isPending:E}):h;return t.createElement(Ke,Me({},p,{"aria-current":_,className:b,ref:n,style:x,to:f}),"function"===typeof d?d({isActive:I,isPending:E}):d)}));var Ge,He;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ge||(Ge={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(He||(He={}));function Ye(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(tC){return void n(tC)}s.done?t(u):Promise.resolve(u).then(r,i)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ye(a,r,i,o,s,"next",e)}function s(e){Ye(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Xe=n(459),Ze=n(114),$e=n(433),et=n(282),tt=n(739),nt=n(230),rt=n(931),it=n(663),at=n(922),ot=n(390),st=n(81),ut=n(843),ct=n(762),lt=n(817),ht=n(204),ft=n(716),dt=n(827),pt=n(802),vt=n(988),yt=n(488);function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=!1,At=!1,kt="${JSCORE_VERSION}",wt=function(e,t){if(!e)throw bt(t)},bt=function(e){return new Error("Firebase Database ("+kt+") INTERNAL ASSERT FAILED: "+e)},It=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(It(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_t=function(e){var t=It(e);return Et.encodeByteArray(t,!0)},xt=function(e){return _t(e).replace(/\./g,"")},Ct=function(e){try{return Et.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function St(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=St(e[n],t[n]));return e}var Tt=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Nt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xt(JSON.stringify({alg:"none",type:"JWT"})),xt(JSON.stringify(a)),""].join(".")}function Rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Dt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Bt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ot(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Lt(){var e=Rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Mt(){return!0===mt||!0===At}function Ft(){return"object"===typeof indexedDB}var Ut=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),qt.prototype.create),a}return p(n)}(E(Error)),qt=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Qt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ut(n,a,t);return o}}]),e}();function Qt(e,t){return e.replace(jt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var jt=/\{\$([^}]+)}/g;function Vt(e){return JSON.parse(e)}function zt(e){return JSON.stringify(e)}var Kt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Vt(Ct(a[0])||""),n=Vt(Ct(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ht(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Jt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Xt(s)&&Xt(u)){if(!Jt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function Xt(e){return null!==e&&"object"===typeof e}function Zt(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function $t(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function en(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var tn=function(){function e(){f(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return p(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function nn(e,t){var n=new rn(e,t);return n.subscribe.bind(n)}var rn=function(){function e(t,n){var r=this;f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=x(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=an),void 0===r.error&&(r.error=an),void 0===r.complete&&(r.complete=an);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function an(){}var on=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function sn(e,t){return"".concat(e," failed: ").concat(t," argument ")}function un(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(sn(e,t)+"must be a valid function.")}function cn(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(sn(e,t)+"must be a valid context object.")}var ln=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function hn(e){return e&&e._delegate?e._delegate:e}var fn=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),dn="[DEFAULT]",pn=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Tt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dn})}catch(u){}var t,n=x(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Je(S.mark((function e(){var t;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=x(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],h=this.normalizeInstanceIdentifier(u);r===h&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(UE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===dn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(UE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.component?this.component.multipleInstances?e:dn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var vn,yn,gn=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),mn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yn||(yn={}));var An,kn,wn={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},bn=yn.INFO,In=(gt(vn={},yn.DEBUG,"log"),gt(vn,yn.VERBOSE,"log"),gt(vn,yn.INFO,"info"),gt(vn,yn.WARN,"warn"),gt(vn,yn.ERROR,"error"),vn),En=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=In[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},_n=function(){function e(t){f(this,e),this.name=t,this._logLevel=bn,this._logHandler=En,this._userLogHandler=null,mn.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?wn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.DEBUG].concat(t)),this._logHandler.apply(this,[this,yn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.INFO].concat(t)),this._logHandler.apply(this,[this,yn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.WARN].concat(t)),this._logHandler.apply(this,[this,yn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.ERROR].concat(t)),this._logHandler.apply(this,[this,yn.ERROR].concat(t))}}]),e}();var xn=function(){function e(t){f(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Cn="@firebase/app",Sn="0.7.17",Tn=new _n("@firebase/app"),Nn="[DEFAULT]",Rn=(gt(An={},Cn,"fire-core"),gt(An,"@firebase/app-compat","fire-core-compat"),gt(An,"@firebase/analytics","fire-analytics"),gt(An,"@firebase/analytics-compat","fire-analytics-compat"),gt(An,"@firebase/app-check","fire-app-check"),gt(An,"@firebase/app-check-compat","fire-app-check-compat"),gt(An,"@firebase/auth","fire-auth"),gt(An,"@firebase/auth-compat","fire-auth-compat"),gt(An,"@firebase/database","fire-rtdb"),gt(An,"@firebase/database-compat","fire-rtdb-compat"),gt(An,"@firebase/functions","fire-fn"),gt(An,"@firebase/functions-compat","fire-fn-compat"),gt(An,"@firebase/installations","fire-iid"),gt(An,"@firebase/installations-compat","fire-iid-compat"),gt(An,"@firebase/messaging","fire-fcm"),gt(An,"@firebase/messaging-compat","fire-fcm-compat"),gt(An,"@firebase/performance","fire-perf"),gt(An,"@firebase/performance-compat","fire-perf-compat"),gt(An,"@firebase/remote-config","fire-rc"),gt(An,"@firebase/remote-config-compat","fire-rc-compat"),gt(An,"@firebase/storage","fire-gcs"),gt(An,"@firebase/storage-compat","fire-gcs-compat"),gt(An,"@firebase/firestore","fire-fst"),gt(An,"@firebase/firestore-compat","fire-fst-compat"),gt(An,"fire-js","fire-js"),gt(An,"firebase","fire-js-all"),An),Pn=new Map,Dn=new Map;function Bn(e,t){try{e.container.addComponent(t)}catch(n){Tn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function On(e,t){e.container.addOrOverwriteComponent(t)}function Ln(e){var t=e.name;if(Dn.has(t))return Tn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dn.set(t,e);var n,r=x(Pn.values());try{for(r.s();!(n=r.n()).done;){Bn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Mn(e,t){return e.container.getProvider(t)}function Fn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nn;Mn(e,t).clearInstance(n)}function Un(){Dn.clear()}var qn,Qn,jn=(gt(kn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(kn,"bad-app-name","Illegal App name: '{$appName}"),gt(kn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),gt(kn,"app-deleted","Firebase App named '{$appName}' already deleted"),gt(kn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gt(kn,"invalid-log-argument","First argument to `onLog` must be null or a function."),kn),Vn=new qt("app","Firebase",jn),zn=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}]),e}(),Kn="9.6.7";function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vn.create("bad-app-name",{appName:String(i)});var a=Pn.get(i);if(a){if(Jt(e,a.options)&&Jt(r,a.config))return a;throw Vn.create("duplicate-app",{appName:i})}var o,s=new gn(i),u=x(Dn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new zn(e,r,s);return Pn.set(i,l),l}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=Pn.get(e);if(!t)throw Vn.create("no-app",{appName:e});return t}function Hn(){return Array.from(Pn.values())}function Yn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=Je(S.mark((function e(t){var n;return S.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Pn.has(n)){e.next=6;break}return Pn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t,n){var r,i=null!==(r=Rn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Tn.warn(s.join(" "))}Ln(new fn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zn(e,t){if(null!==e&&"function"!==typeof e)throw Vn.create("invalid-log-argument");!function(e,t){var n,r=x(mn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=wn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function $n(e){var t;t=e,mn.forEach((function(e){e.setLogLevel(t)}))}qn="",Ln(new fn("platform-logger",(function(e){return new xn(e)}),"PRIVATE")),Xn(Cn,Sn,qn),Xn(Cn,Sn,"esm2017"),Xn("fire-js","");var er=function(){function e(t,n){var r=this;f(this,e),this._delegate=t,this.firebase=n,Bn(t,new fn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Bn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){On(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),tr=(gt(Qn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(Qn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Qn),nr=new qt("app-compat","Firebase",tr);var rr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Wn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Xn,setLogLevel:$n,onLog:Zn,apps:null,SDK_VERSION:Kn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ln(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw nr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&St(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wt(n,e=e||Nn))throw nr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(er);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){St(n,e)},createSubscribe:nn,ErrorFactory:qt,deepExtend:St}),n}(),ir=new _n("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ir.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ar=self.firebase.SDK_VERSION;ar&&ar.indexOf("LITE")>=0&&ir.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var or=rr;!function(e){Xn("@firebase/app-compat","0.1.18",e)}();function sr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function ur(){return ur="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ur.apply(this,arguments)}or.registerVersion("firebase","9.6.7","app-compat");function cr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var lr;Object.create;var hr="facebook.com",fr="github.com",dr="google.com",pr="password",vr="twitter.com",yr="EMAIL_SIGNIN",gr="PASSWORD_RESET",mr="RECOVER_EMAIL",Ar="REVERT_SECOND_FACTOR_ADDITION",kr="VERIFY_AND_CHANGE_EMAIL",wr="VERIFY_EMAIL";function br(){return gt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ir=function(){var e;return gt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),gt(e,"argument-error",""),gt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),gt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),gt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),gt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),gt(e,"cordova-not-ready","Cordova framework is not ready."),gt(e,"cors-unsupported","This browser is not supported."),gt(e,"credential-already-in-use","This credential is already associated with a different user account."),gt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),gt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),gt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),gt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),gt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),gt(e,"email-already-in-use","The email address is already in use by another account."),gt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),gt(e,"expired-action-code","The action code has expired."),gt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),gt(e,"internal-error","An internal AuthError has occurred."),gt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),gt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),gt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),gt(e,"invalid-auth-event","An internal AuthError has occurred."),gt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),gt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),gt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),gt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),gt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),gt(e,"invalid-email","The email address is badly formatted."),gt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),gt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),gt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),gt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),gt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),gt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),gt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),gt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),gt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),gt(e,"wrong-password","The password is invalid or the user does not have a password."),gt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),gt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),gt(e,"invalid-provider-id","The specified provider ID is invalid."),gt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),gt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),gt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),gt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),gt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),gt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),gt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),gt(e,"missing-continue-uri","A continue URL must be provided in the request."),gt(e,"missing-iframe-start","An internal AuthError has occurred."),gt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),gt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),gt(e,"missing-multi-factor-info","No second factor identifier is provided."),gt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),gt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),gt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),gt(e,"app-deleted","This instance of FirebaseApp has been deleted."),gt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),gt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),gt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),gt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),gt(e,"no-auth-event","An internal AuthError has occurred."),gt(e,"no-such-provider","User was not linked to an account with the given provider."),gt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),gt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),gt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),gt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),gt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),gt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),gt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),gt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),gt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),gt(e,"rejected-credential","The request contains malformed or mismatching credentials."),gt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),gt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),gt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),gt(e,"timeout","The operation has timed out."),gt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),gt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),gt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),gt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),gt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),gt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),gt(e,"unverified-email","The operation requires a verified email."),gt(e,"user-cancelled","The user did not grant your application the permissions it requested."),gt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),gt(e,"user-disabled","The user account has been disabled by an administrator."),gt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),gt(e,"user-signed-out",""),gt(e,"weak-password","The password must be 6 characters long or more."),gt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),gt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Er=br,_r=new qt("auth","Firebase",br()),xr=new _n("@firebase/auth");function Cr(e){if(xr.logLevel<=yn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xr.error.apply(xr,["Auth (".concat(Kn,"): ").concat(e)].concat(n))}}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pr.apply(void 0,[e].concat(n))}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pr.apply(void 0,[e].concat(n))}function Nr(e,t,n){var r=Object.assign(Object.assign({},Er()),gt({},t,n));return new qt("auth","Firebase",r).create(t,{appName:e.name})}function Rr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sr(e,"argument-error"),Nr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return _r.create.apply(_r,[e].concat(n))}function Dr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pr.apply(void 0,[t].concat(r))}}function Br(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Cr(t),new Error(t)}function Or(e,t){e||Br(t)}var Lr=new Map;function Mr(e){Or(e instanceof Function,"Expected a class definition");var t=Lr.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lr.set(e,t),t)}function Fr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ur(){return"http:"===qr()||"https:"===qr()}function qr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Qr=function(){function e(t,n){f(this,e),this.shortDelay=t,this.longDelay=n,Or(n>t,"Short delay should be less than long delay!"),this.isMobile=Pt()||Ot()}return p(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ur()||Bt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function jr(e,t){Or(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vr=function(){function e(){f(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zr=(gt(lr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),gt(lr,"MISSING_CUSTOM_TOKEN","internal-error"),gt(lr,"INVALID_IDENTIFIER","invalid-email"),gt(lr,"MISSING_CONTINUE_URI","internal-error"),gt(lr,"INVALID_PASSWORD","wrong-password"),gt(lr,"MISSING_PASSWORD","internal-error"),gt(lr,"EMAIL_EXISTS","email-already-in-use"),gt(lr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),gt(lr,"INVALID_IDP_RESPONSE","invalid-credential"),gt(lr,"INVALID_PENDING_TOKEN","invalid-credential"),gt(lr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),gt(lr,"MISSING_REQ_TYPE","internal-error"),gt(lr,"EMAIL_NOT_FOUND","user-not-found"),gt(lr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),gt(lr,"EXPIRED_OOB_CODE","expired-action-code"),gt(lr,"INVALID_OOB_CODE","invalid-action-code"),gt(lr,"MISSING_OOB_CODE","internal-error"),gt(lr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),gt(lr,"INVALID_ID_TOKEN","invalid-user-token"),gt(lr,"TOKEN_EXPIRED","user-token-expired"),gt(lr,"USER_NOT_FOUND","user-token-expired"),gt(lr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),gt(lr,"INVALID_CODE","invalid-verification-code"),gt(lr,"INVALID_SESSION_INFO","invalid-verification-id"),gt(lr,"INVALID_TEMPORARY_PROOF","invalid-credential"),gt(lr,"MISSING_SESSION_INFO","missing-verification-id"),gt(lr,"SESSION_EXPIRED","code-expired"),gt(lr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),gt(lr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),gt(lr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),gt(lr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),gt(lr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),gt(lr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),gt(lr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),gt(lr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),gt(lr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),gt(lr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),gt(lr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),lr),Kr=new Qr(3e4,6e4);function Wr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Gr(e,t,n,r){return Hr.apply(this,arguments)}function Hr(){return Hr=Je(T().mark((function e(t,n,r,i){var a,o=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Yr(t,a,Je(T().mark((function e(){var a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Zt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vr.fetch()($r(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Yr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return Jr=Je(T().mark((function e(t,n,r){var i,a,o,s,u,l,h,f,d,p;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zr),n),e.prev=2,a=new ei(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ti(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ti(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw ti(t,"email-already-in-use",s);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Nr(t,p,d);case 30:Sr(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ut)){e.next=37;break}throw e.t0;case 37:Sr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Jr.apply(this,arguments)}function Xr(e,t,n,r){return Zr.apply(this,arguments)}function Zr(){return Zr=Je(T().mark((function e(t,n,r,i){var a,o,s=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Gr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function $r(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ei=function(){function e(t){var n=this;f(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Tr(n.auth,"network-request-failed"))}),Kr.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ti(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Tr(e,t,r);return i.customData._tokenResponse=n,i}function ni(e,t){return ri.apply(this,arguments)}function ri(){return(ri=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return(ai=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(e,t){return si.apply(this,arguments)}function si(){return(si=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ci(){return ci=Je(T().mark((function e(t){var n,r,i,a,o,s,u=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=hn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Dr((a=hi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ui(li(a.auth_time)),issuedAtTime:ui(li(a.iat)),expirationTime:ui(li(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e){return 1e3*Number(e)}function hi(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Cr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ct(r);return a?JSON.parse(a):(Cr("Failed to decode base64 JWT payload"),null)}catch(o){return Cr("Caught error parsing JWT payload as JSON",o),null}}function fi(e,t){return di.apply(this,arguments)}function di(){return di=Je(T().mark((function e(t,n){var r=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ut&&pi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),di.apply(this,arguments)}function pi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var vi=function(){function e(t){f(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),yi=function(){function e(t,n){f(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function gi(e){return mi.apply(this,arguments)}function mi(){return mi=Je(T().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,fi(t,oi(r,{idToken:i}));case 6:Dr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?wi(o.providerUserInfo):[],u=ki(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yi(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function Ai(){return(Ai=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hn(t),e.next=3,gi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function wi(e){return e.map((function(e){var t=e.providerId,n=cr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function bi(e,t){return Ii.apply(this,arguments)}function Ii(){return(Ii=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr(t,{},Je(T().mark((function e(){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=$r(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ei=function(){function e(){f(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Dr(e.idToken,"internal-error"),Dr("undefined"!==typeof e.idToken,"internal-error"),Dr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=hi(e);return Dr(t,"internal-error"),Dr("undefined"!==typeof t.exp,"internal-error"),Dr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Je(T().mark((function e(t){var n,r=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Dr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Br("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Dr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Dr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Dr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _i(e,t){Dr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var xi=function(){function e(t){f(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=cr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new yi(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Dr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ci.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ai.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Dr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Dr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Je(T().mark((function e(t){var n,r,i=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,gi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,fi(this,ni(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,A=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,I=n.stsTokenManager;Dr(A&&I,t,"internal-error");var E=Ei.fromJSON(this.name,I);Dr("string"===typeof A,t,"internal-error"),_i(h,t.name),_i(f,t.name),Dr("boolean"===typeof k,t,"internal-error"),Dr("boolean"===typeof w,t,"internal-error"),_i(d,t.name),_i(p,t.name),_i(v,t.name),_i(y,t.name),_i(g,t.name),_i(m,t.name);var _=new e({uid:A,auth:t,email:f,emailVerified:k,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:m});return b&&Array.isArray(b)&&(_.providerData=b.map((function(e){return Object.assign({},e)}))),y&&(_._redirectEventId=y),_}},{key:"_fromIdTokenResponse",value:function(){var t=Je(T().mark((function t(n,r){var i,a,o,s=arguments;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Ei).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,gi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ci=function(){function e(){f(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ci.type="NONE";var Si=Ci;function Ti(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ni=function(){function e(t,n,r){f(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ti(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ti("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?xi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Je(T().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Mr(Si),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Mr(Si),s=Ti(i,n.config.apiKey,n.name),u=null,c=x(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=xi._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ri(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mi(t))return"Blackberry";if(Fi(t))return"Webos";if(Di(t))return"Safari";if((t.includes("chrome/")||Bi(t))&&!t.includes("edge/"))return"Chrome";if(Li(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/firefox\//i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/crios\//i.test(e)}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/iemobile/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/android/i.test(e)}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/blackberry/i.test(e)}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/webos/i.test(e)}function Ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/iphone|ipad|ipod/i.test(e)}function qi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return Ui(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Qi(){return Lt()&&10===document.documentMode}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return Ui(e)||Li(e)||Fi(e)||Mi(e)||/windows phone/i.test(e)||Oi(e)}function Vi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ri(Rt());break;case"Worker":t="".concat(Ri(Rt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kn,"/").concat(r)}var zi=function(){function e(t,n){f(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_r,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(Je(T().mark((function r(){var i,a;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ni.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Je(T().mark((function e(t){var n,r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Dr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?hn(t):null)&&Dr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Je(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Dr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Je(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Mr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new qt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Dr(n=t&&Mr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ni.create(this,[Mr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Je(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Dr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Dr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=gt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ki(e){return hn(e)}var Wi=function(){function e(t){var n=this;f(this,e),this.auth=t,this.observer=null,this.addObserver=nn((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return Dr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Gi(e,t,n){var r=Ki(e);Dr(r._canInitEmulator,r,"emulator-config-failed"),Dr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hi(t),o=function(e){var t=Hi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Yi(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Yi(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ji=function(){function e(t,n){f(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return Br("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Br("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Br("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Br("not implemented")}}]),e}();function Xi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:resetPassword",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:update",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithPassword",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:sendOobCode",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t){return ua.apply(this,arguments)}function ua(){return(ua=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return(la=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t){return fa.apply(this,arguments)}function fa(){return(fa=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return(pa=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e,t){return ya.apply(this,arguments)}function ya(){return(ya=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t){return ma.apply(this,arguments)}function ma(){return(ma=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Aa=function(e){y(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ra(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",va(t,{email:this._email,oobCode:this._password}));case 5:Sr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$i(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ga(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Sr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ji);function ka(e,t){return wa.apply(this,arguments)}function wa(){return(wa=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithIdp",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ba=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ka(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ka(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ka(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=cr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ji);function Ia(e,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:sendVerificationCode",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(){return(_a=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(){return(xa=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ti(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ca=gt({},"USER_NOT_FOUND","user-not-found");function Sa(){return(Sa=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wr(t,r),Ca));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ta=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return _a.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return xa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Sa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ji);var Na=function(){function e(t){var n,r,i,a,o,s;f(this,e);var u=$t(en(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Dr(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=$t(en(e)).link,n=t?$t(en(t)).deep_link_id:null,r=$t(en(e)).deep_link_id;return(r?$t(en(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(UE){return null}}}]),e}();var Ra=function(){function e(){f(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return Aa._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Na.parseLink(t);return Dr(n,"argument-error"),Aa._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ra.PROVIDER_ID="password",Ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Pa=function(){function e(t){f(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Da=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Pa),Ba=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Dr(e.idToken||e.accessToken,"argument-error"),ba._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Dr("providerId"in t&&"signInMethod"in t,"argument-error"),ba._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Da),Oa=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return ba._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UE){return null}}}]),n}(Da);Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oa.PROVIDER_ID="facebook.com";var La=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return ba._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(UE){return null}}}]),n}(Da);La.GOOGLE_SIGN_IN_METHOD="google.com",La.PROVIDER_ID="google.com";var Ma=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return ba._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UE){return null}}}]),n}(Da);Ma.GITHUB_SIGN_IN_METHOD="github.com",Ma.PROVIDER_ID="github.com";var Fa=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return p(n,[{key:"_getIdTokenResponse",value:function(e){return ka(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ka(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ka(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ji),Ua=function(e){y(n,e);var t=b(n);function n(e){return f(this,n),Dr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return p(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Fa.fromJSON(e);return Dr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Fa._create(r,n)}catch(i){return null}}}]),n}(Pa),qa=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return ba._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(UE){return null}}}]),n}(Da);function Qa(e,t){return ja.apply(this,arguments)}function ja(){return(ja=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signUp",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}qa.TWITTER_SIGN_IN_METHOD="twitter.com",qa.PROVIDER_ID="twitter.com";var Va=function(){function e(t){f(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Je(T().mark((function t(n,r,i){var a,o,s,u,c=arguments;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,xi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=za(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Je(T().mark((function t(n,r,i){var a;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=za(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function za(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ka(){return Ka=Je(T().mark((function e(t){var n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Va({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Qa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Va._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}var Wa=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o,s;return f(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(k(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ut);function Ga(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Wa._fromErrorAndOperation(e,n,t,r);throw n}))}function Ha(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ya(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hn(t),e.next=3,$a(!0,r,n);case 3:return e.t0=ii,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ha(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Xa(e,t){return Za.apply(this,arguments)}function Za(){return Za=Je(T().mark((function e(t,n){var r,i,a=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=fi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Va._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function $a(e,t,n){return eo.apply(this,arguments)}function eo(){return(eo=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(n);case 2:i=Ha(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Dr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=Je(T().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,fi(t,Ga(i,a,n,t),r);case 6:return Dr((o=e.sent).idToken,i,"internal-error"),Dr(s=hi(o.idToken),i,"internal-error"),u=s.sub,Dr(t.uid===u,i,"user-mismatch"),e.abrupt("return",Va._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),no.apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return io=Je(T().mark((function e(t,n){var r,i,a,o,s=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ga(t,i,n);case 4:return a=e.sent,e.next=7,Va._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return(oo=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ro(Ki(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return uo.apply(this,arguments)}function uo(){return(uo=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hn(t),e.next=3,$a(!1,r,n.providerId);case 3:return e.abrupt("return",Xa(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return(lo=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",to(hn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return fo.apply(this,arguments)}function fo(){return(fo=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:signInWithCustomToken",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(){return(po=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki(t),e.next=3,ho(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Va._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vo=function(){function e(t,n){f(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return p(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?yo._fromServerResponse(e,t):Sr(e,"internal-error")}}]),e}(),yo=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(vo);function go(e,t,n){var r;Dr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Dr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Dr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Dr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function mo(){return(mo=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hn(t),a={requestType:"PASSWORD_RESET",email:n},r&&go(i,a,r),e.next=5,ca(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(){return(Ao=Je(T().mark((function e(t,n,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(hn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(){return(ko=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(hn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t){return bo.apply(this,arguments)}function bo(){return(bo=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hn(t),e.next=3,Xi(r,{oobCode:n});case 3:i=e.sent,Dr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Dr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Dr(i.mfaInfo,r,"internal-error");case 13:Dr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=vo._fromServerResponse(Ki(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(){return(Io=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(hn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ki(t),e.next=3,Qa(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Va._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(){return(xo=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hn(t),a={requestType:"EMAIL_SIGNIN",email:n},Dr(r.handleCodeInApp,i,"argument-error"),r&&go(i,a,r),e.next=6,ha(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(){return(Co=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hn(t),Dr((a=Ra.credentialWithLink(n,r||Fr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ao(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t){return To.apply(this,arguments)}function To(){return(To=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:createAuthUri",Wr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(){return(No=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur()?Fr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,So(hn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(){return(Ro=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&go(r.auth,a,n),e.next=8,sa(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(){return(Po=Je(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&go(i.auth,o,r),e.next=8,da(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(){return(Oo=Je(T().mark((function e(t,n){var r,i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=hn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,fi(a,Do(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(e,t,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=Je(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,fi(t,$i(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fo=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Uo=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this,e,r,i)).username=a,o}return p(n)}(Fo),qo=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"facebook.com",r)}return p(n)}(Fo),Qo=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return p(n)}(Uo),jo=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"google.com",r)}return p(n)}(Fo),Vo=function(e){y(n,e);var t=b(n);function n(e,r,i){return f(this,n),t.call(this,e,"twitter.com",r,i)}return p(n)}(Uo);function zo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=hi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Fo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new qo(a,i);case"github.com":return new Qo(a,i);case"google.com":return new jo(a,i);case"twitter.com":return new Vo(a,i,e.screenName||null);case"custom":case"anonymous":return new Fo(a,null);default:return new Fo(a,r,i)}}(n)}var Ko=function(){function e(t,n){f(this,e),this.type=t,this.credential=n}return p(e,[{key:"toJSON",value:function(){return{multiFactorSession:gt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Wo=function(){function e(t,n,r){f(this,e),this.session=t,this.hints=n,this.signInResolver=r}return p(e,[{key:"resolveSignIn",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ki(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return vo._fromServerResponse(r,e)}));Dr(i.mfaPendingCredential,r,"internal-error");var o=Ko._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Je(T().mark((function e(t){var a,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Va._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Dr(n.user,r,"internal-error"),e.abrupt("return",Va._forOperation(n.user,n.operationType,s));case 17:Sr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Go(e,t){return Gr(e,"POST","/v2/accounts/mfaEnrollment:start",Wr(e,t))}var Ho=function(){function e(t){var n=this;f(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return vo._fromServerResponse(t.auth,e)})))}))}return p(e,[{key:"getSession",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ko,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,fi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,fi(this.user,Gr(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Wr(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Yo=new WeakMap;var Jo="__sak",Xo=function(){function e(t,n){f(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(UE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zo=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Rt();return Di(e)||Ui(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ji(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Qi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Je(T().mark((function e(t,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Je(T().mark((function e(t){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Xo);Zo.type="LOCAL";var $o=Zo,es=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Xo);es.type="SESSION";var ts=es;function ns(e){return Promise.all(e.map(function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var rs=function(){function e(t){f(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Je(T().mark((function e(t){var n,r,i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ns(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function is(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rs.receivers=[];var as=function(){function e(t){f(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=is("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function os(){return window}function ss(){return"undefined"!==typeof os().WorkerGlobalScope&&"function"===typeof os().importScripts}function us(){return cs.apply(this,arguments)}function cs(){return(cs=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ls(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var hs="firebaseLocalStorageDb",fs="firebaseLocalStorage",ds="fbase_key",ps=function(){function e(t){f(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function vs(e,t){return e.transaction([fs],t?"readwrite":"readonly").objectStore(fs)}function ys(){var e=indexedDB.deleteDatabase(hs);return new ps(e).toPromise()}function gs(){var e=indexedDB.open(hs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fs,{keyPath:ds})}catch(r){n(r)}})),e.addEventListener("success",Je(T().mark((function n(){var r;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fs)){n.next=12;break}return r.close(),n.next=5,ys();case 5:return n.t0=t,n.next=8,gs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ms(e,t,n){return As.apply(this,arguments)}function As(){return As=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vs(t,!0).put((gt(i={},ds,n),gt(i,"value",r),i)),e.abrupt("return",new ps(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function ks(e,t){return ws.apply(this,arguments)}function ws(){return ws=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t,!1).get(n),e.next=3,new ps(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function bs(e,t){var n=vs(e,!0).delete(t);return new ps(n).toPromise()}var Is=function(){function e(){f(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,gs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Je(T().mark((function e(){var t=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=rs._getInstance(ss()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Je(T().mark((function e(n,r){var i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Je(T().mark((function e(){var t,n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new as(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ls()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,gs();case 5:return t=e.sent,e.next=8,ms(t,Jo,"1");case 8:return e.next=10,bs(t,Jo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Je(T().mark((function e(t,n){var r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ms(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ks(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Je(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return bs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Je(T().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=vs(e,!1).getAll();return new ps(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=x(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Is.type="LOCAL";var Es=Is;function _s(e,t){return Gr(e,"POST","/v2/accounts/mfaSignIn:start",Wr(e,t))}function xs(e){return Cs.apply(this,arguments)}function Cs(){return(Cs=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Tr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ts(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ns=1e12,Rs=function(){function e(t){f(this,e),this.auth=t,this.counter=Ns,this._widgets=new Map}return p(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ps(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ns;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ns;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ns,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ps=function(){function e(t,n,r){var i=this;f(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Dr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return p(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ds=Ts("rcb"),Bs=new Qr(3e4,6e4),Os="https://www.google.com/recaptcha/api.js?",Ls=function(){function e(){f(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!os().grecaptcha}return p(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Dr(Ms(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(os().grecaptcha):new Promise((function(r,i){var a=os().setTimeout((function(){i(Tr(e,"network-request-failed"))}),Bs.get());os()[Ds]=function(){os().clearTimeout(a),delete os()[Ds];var o=os().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Tr(e,"internal-error"))},Ss("".concat(Os,"?").concat(Zt({onload:Ds,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Tr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!os().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ms(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Fs=function(){function e(){f(this,e)}return p(e,[{key:"load",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Rs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Us="recaptcha",qs={theme:"light",type:"image"},Qs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},qs),r=arguments.length>2?arguments[2]:void 0;f(this,e),this.parameters=n,this.type=Us,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ki(r),this.isInvisible="invisible"===this.parameters.size,Dr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Dr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fs:new Ls,this.validateStartingState()}return p(e,[{key:"verify",value:function(){var e=Je(T().mark((function e(){var t,n,r,i=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Dr(!this.parameters.sitekey,this.auth,"argument-error"),Dr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Dr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=os()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Dr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Je(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr(Ur()&&!ss(),this.auth,"internal-error"),e.next=3,js();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,xs(this.auth);case 8:Dr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Dr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function js(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Vs=function(){function e(t,n){f(this,e),this.verificationId=t,this.onConfirmation=n}return p(e,[{key:"confirm",value:function(e){var t=Ta._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function zs(){return(zs=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ki(t),e.next=3,Hs(i,n,hn(r));case 3:return a=e.sent,e.abrupt("return",new Vs(a,(function(e){return ao(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t,n){return Ws.apply(this,arguments)}function Ws(){return(Ws=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hn(t),e.next=3,$a(!1,i,"phone");case 3:return e.next=5,Hs(i.auth,n,hn(r));case 5:return a=e.sent,e.abrupt("return",new Vs(a,(function(e){return so(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(){return(Gs=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hn(t),e.next=3,Hs(i.auth,n,hn(r));case 3:return a=e.sent,e.abrupt("return",new Vs(a,(function(e){return co(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,n){return Ys.apply(this,arguments)}function Ys(){return Ys=Je(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Dr("string"===typeof a,t,"argument-error"),Dr(r.type===Us,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Dr("enroll"===s.type,t,"internal-error"),e.next=13,Go(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Dr("signin"===s.type,t,"internal-error"),Dr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_s(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ia(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ys.apply(this,arguments)}function Js(){return(Js=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(hn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xs=function(){function e(t){f(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ki(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return Hs(this.auth,e,hn(t))}}],[{key:"credential",value:function(e,t){return Ta._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ta._fromTokenResponse(n,r):null}}]),e}();function Zs(e,t){return t?Mr(t):(Dr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xs.PROVIDER_ID="phone",Xs.PHONE_SIGN_IN_METHOD="phone";var $s=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return ka(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ka(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ka(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ji);function eu(e){return ro(e.auth,new $s(e),e.bypassAuthState)}function tu(e){var t=e.auth,n=e.user;return Dr(n,t,"internal-error"),to(n,new $s(e),e.bypassAuthState)}function nu(e){return ru.apply(this,arguments)}function ru(){return(ru=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Dr(r=t.user,n,"internal-error"),e.abrupt("return",Xa(r,new $s(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Je(T().mark((function t(n,r){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Je(T().mark((function e(t){var n,r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eu;case"linkViaPopup":case"linkViaRedirect":return nu;case"reauthViaPopup":case"reauthViaRedirect":return tu;default:Sr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),au=new Qr(2e3,1e4);function ou(e,t,n){return su.apply(this,arguments)}function su(){return(su=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ki(t),Rr(t,n,Pa),a=Zs(i,r),o=new hu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(){return(uu=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rr((i=hn(t)).auth,n,Pa),a=Zs(i.auth,r),o=new hu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t,n){return lu.apply(this,arguments)}function lu(){return(lu=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rr((i=hn(t)).auth,n,Pa),a=Zs(i.auth,r),o=new hu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hu=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o){var s;return f(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=k(s),s}return p(n,[{key:"executeNotNull",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Dr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Je(T().mark((function e(){var t,n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(1===this.filter.length,"Popup operations only handle one event"),t=is(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Tr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Tr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Tr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,au.get())}()}}]),n}(iu);hu.currentPopupAction=null;var fu=new Map,du=function(e){y(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=Je(T().mark((function e(){var t,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=fu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,pu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ur(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:fu.set(this.auth._key(),t);case 21:return this.bypassAuthState||fu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Je(T().mark((function e(t){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ur(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ur(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(iu);function pu(e,t){return vu.apply(this,arguments)}function vu(){return(vu=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(n),i=mu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mu(t)._set(Au(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e){return Mr(e._redirectPersistence)}function Au(e){return Ti("pendingRedirect",e.config.apiKey,e.name)}function ku(e,t,n){return function(e,t,n){return wu.apply(this,arguments)}(e,t,n)}function wu(){return(wu=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ki(t),Rr(t,n,Pa),a=Zs(i,r),e.next=5,yu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t,n){return function(e,t,n){return Iu.apply(this,arguments)}(e,t,n)}function Iu(){return(Iu=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rr((i=hn(t)).auth,n,Pa),a=Zs(i.auth,r),e.next=5,yu(a,i.auth);case 5:return e.next=7,Nu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t,n){return function(e,t,n){return _u.apply(this,arguments)}(e,t,n)}function _u(){return(_u=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rr((i=hn(t)).auth,n,Pa),a=Zs(i.auth,r),e.next=5,$a(!1,i,n.providerId);case 5:return e.next=7,yu(a,i.auth);case 7:return e.next=9,Nu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki(t)._initializationPromise;case 2:return e.abrupt("return",Su(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=Je(T().mark((function e(t,n){var r,i,a,o,s,u=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ki(t),a=Zs(i,n),o=new du(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Nu(e){return Ru.apply(this,arguments)}function Ru(){return(Ru=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=is("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pu=function(){function e(t){f(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Bu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Du(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Du(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Bu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ou(e){return Lu.apply(this,arguments)}function Lu(){return Lu=Je(T().mark((function e(t){var n,r=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Gr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}var Mu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fu=/^https?/;function Uu(){return(Uu=Je(T().mark((function e(t){var n,r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ou(t);case 4:n=e.sent,r=n.authorizedDomains,i=x(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!qu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function qu(e){var t=Fr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Fu.test(r))return!1;if(Mu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Qu=new Qr(3e4,6e4);function ju(){var e=os().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Vu=null;function zu(e){return Vu=Vu||function(e){return new Promise((function(t,n){var r,i,a;function o(){ju(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ju(),n(Tr(e,"network-request-failed"))},timeout:Qu.get()})}if(null===(i=null===(r=os().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=os().gapi)||void 0===a?void 0:a.load)){var s=Ts("iframefcb");return os()[s]=function(){gapi.load?o():n(Tr(e,"network-request-failed"))},Ss("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Vu=null,e}))}(e),Vu}var Ku=new Qr(5e3,15e3),Wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hu(e){var t=e.config;Dr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?jr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Kn},i=Gu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zt(r).slice(1))}function Yu(e){return Ju.apply(this,arguments)}function Ju(){return Ju=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(t);case 2:return n=e.sent,Dr(r=os().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Hu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wu,dontclear:!0},(function(e){return new Promise(function(){var n=Je(T().mark((function n(r,i){var a,o,s;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){os().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Tr(t,"network-request-failed"),o=os().setTimeout((function(){i(a)}),Ku.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}var Xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zu="_blank",$u="http://localhost",ec=function(){function e(t){f(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function tc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Xu),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Rt().toLowerCase();n&&(s=Bi(l)?Zu:n),Pi(l)&&(t=t||$u,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(qi(l)&&"_self"!==s)return nc(t||"",s),new ec(null);var f=window.open(t||"",s,h);Dr(f,e,"popup-blocked");try{f.focus()}catch(d){}return new ec(f)}function nc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rc="__/auth/handler",ic="emulator/auth/handler";function ac(e,t,n,r,i,a){Dr(e.config.authDomain,e,"auth-domain-config-required"),Dr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kn,eventId:i};if(t instanceof Pa){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ht(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),h=l[0],f=l[1];o[h]=f}}if(t instanceof Da){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var g=y[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rc);return jr(t,ic)}(e),"?").concat(Zt(p).slice(1))}var oc="webStorageSupport",sc=function(){function e(){f(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ts,this._completeRedirectFn=Su}return p(e,[{key:"_openPopup",value:function(){var e=Je(T().mark((function e(t,n,r,i){var a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ac(t,n,r,Fr(),i),e.abrupt("return",tc(t,o,is()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Je(T().mark((function e(t,n,r,i){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ac(t,n,r,Fr(),i),os().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Or(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(t);case 2:return n=e.sent,r=new Pu(t),n.register("authEvent",(function(e){return Dr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(oc,{type:oc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Sr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Uu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ji()||Di()||Ui()}}]),e}(),uc=sc,cc=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Gr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Gr(e,"POST","/v2/accounts/mfaSignIn:finalize",Wr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){f(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Br("unexpected MultiFactorSessionType")}}}]),e}()),lc=function(){function e(){f(this,e)}return p(e,null,[{key:"assertion",value:function(e){return cc._fromCredential(e)}}]),e}();lc.FACTOR_ID="phone";var hc,fc="@firebase/auth",dc="0.19.9",pc=function(){function e(t){f(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Dr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function vc(){return window}hc="Browser",Ln(new fn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Dr(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Dr(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:hc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(hc)},r=new zi(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ln(new fn("auth-internal",(function(e){return function(e){return new pc(e)}(Ki(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(fc,dc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(hc)),Xn(fc,dc,"esm2017");function yc(e,t,n){return gc.apply(this,arguments)}function gc(){return gc=Je(T().mark((function e(t,n,r){var i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vc(),o=a.BuildInfo,Or(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ic(n.sessionId);case 4:return s=e.sent,u={},Ui()?u.ibi=o.packageName:Li()?u.apn=o.packageName:Sr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",ac(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function mc(){return(mc=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vc(),r=n.BuildInfo,i={},Ui()?i.iosBundleId=r.packageName:Li()?i.androidPackageName=r.packageName:Sr(t,"operation-not-supported-in-this-environment"),e.next=5,Ou(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e){var t=vc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function kc(e,t,n){return wc.apply(this,arguments)}function wc(){return wc=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Tr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Li()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wc.apply(this,arguments)}function bc(e){var t,n,r,i,a,o,s,u,c,l,h=vc();Dr("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Dr("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Dr("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dr("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dr("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ic(e){return Ec.apply(this,arguments)}function Ec(){return(Ec=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_c(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e){if(Or(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var xc=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return p(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ur(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pu);function Cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Pc(),postBody:null,tenantId:e.tenantId,error:Tr(e,"no-auth-event")}}function Sc(e,t){return Dc()._set(Bc(e),t)}function Tc(e){return Nc.apply(this,arguments)}function Nc(){return(Nc=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc()._get(Bc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Dc()._remove(Bc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t){var n,r,i=function(e){var t=Oc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Oc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Oc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Oc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Tr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Pc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Dc(){return Mr($o)}function Bc(e){return Ti("authEvent",e.config.apiKey,e.name)}function Oc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=_(e.split("?"));t[0];return $t(t.slice(1).join("?"))}var Lc=function(){function e(){f(this,e),this._redirectPersistence=ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Su}return p(e,[{key:"_initialize",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Sr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Je(T().mark((function e(t,n,r,i){var a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),fu.clear(),e.next=10,this._originValidation(t);case 10:return o=Cc(t,r,i),e.next=13,Sc(t,o);case 13:return e.next=15,yc(t,o,n);case 15:return s=e.sent,e.next=18,Ac(s);case 18:return u=e.sent,e.abrupt("return",kc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Je(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Tc(e);case 2:t.onEvent(Fc());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Je(T().mark((function n(r){var i,a;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Tc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Rc(i,r.url)),t.onEvent(a||Fc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");vc().handleOpenURL=function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Mc=Lc;function Fc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tr("no-auth-event")}}function Uc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return!("file:"!==Uc()&&"ionic:"!==Uc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qc(){return Lt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return/Edge\/\d+/.test(e)}function Vc(){try{var e=self.localStorage,t=is();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt();return Qc()||jc(e)}()||Ft()}catch(n){return zc()&&Ft()}return!1}function zc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Kc(){return("http:"===Uc()||"https:"===Uc()||Bt()||qc())&&!(Ot()||Dt())&&Vc()&&!zc()}function Wc(){return qc()&&"undefined"!==typeof document}function Gc(){return Hc.apply(this,arguments)}function Hc(){return(Hc=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yc={LOCAL:"local",NONE:"none",SESSION:"session"},Jc=Dr,Xc="persistence";function Zc(e,t){Jc(Object.values(Yc).includes(t),e,"invalid-persistence-type"),Ot()?Jc(t!==Yc.SESSION,e,"unsupported-persistence-type"):Dt()?Jc(t===Yc.NONE,e,"unsupported-persistence-type"):zc()?Jc(t===Yc.NONE||t===Yc.LOCAL&&Ft(),e,"unsupported-persistence-type"):Jc(t===Yc.NONE||Vc(),e,"unsupported-persistence-type")}function $c(e){return el.apply(this,arguments)}function el(){return(el=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=tl(),r=Ti(Xc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var nl=Dr,rl=function(){function e(){f(this,e),this.browserResolver=Mr(uc),this.cordovaResolver=Mr(Mc),this.underlyingResolver=null,this._redirectPersistence=ts,this._completeRedirectFn=Su}return p(e,[{key:"_initialize",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Je(T().mark((function e(t,n,r,i){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Je(T().mark((function e(t,n,r,i){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Wc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return nl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function il(e){return e.unwrap()}function al(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ll(e,function(e,t){var n,r=hn(e),i=t;return Dr(t.customData.operationType,r,"argument-error"),Dr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wo._fromError(r,i)}(e,t));else if(r){var i=ol(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ol(e){var t=(e instanceof Ut?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ut)&&"temporaryProof"in t&&"phoneNumber"in t)return Xs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===pr)return null;switch(r){case dr:n=La;break;case hr:n=Oa;break;case fr:n=Ma;break;case vr:n=qa;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Fa._create(r,s):ba._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ba(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ut?n.credentialFromError(e):n.credentialFromResult(e)}function sl(e,t){return t.catch((function(t){throw t instanceof Ut&&al(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ol(t)),additionalUserInfo:zo(e),user:hl.getOrCreate(r)}}))}function ul(e,t){return cl.apply(this,arguments)}function cl(){return(cl=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return sl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ll=function(){function e(t,n){f(this,e),this.resolver=n,this.auth=t.wrapped()}return p(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return sl(il(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),hl=function(){function e(t){f(this,e),this._delegate=t,this.multiFactor=function(e){var t=hn(e);return Yo.has(t)||Yo.set(t,Ho._fromUser(t)),Yo.get(t)}(t)}return p(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this.auth,so(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ul(this.auth,Ks(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this.auth,cu(this._delegate,t,rl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(Ki(this.auth));case 2:return e.abrupt("return",Eu(this._delegate,t,rl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this.auth,co(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ul(this.auth,function(e,t,n){return Gs.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return sl(this.auth,function(e,t,n){return uu.apply(this,arguments)}(this._delegate,e,rl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(Ki(this.auth));case 2:return e.abrupt("return",bu(this._delegate,t,rl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lo(hn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lo(hn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Js.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Oo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Po.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();hl.USER_MAP=new WeakMap;var fl=Dr,dl=function(){function e(t,n){if(f(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;fl(r,"invalid-api-key",{appName:t.name}),fl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?rl:void 0;this._delegate=n.initialize({options:{persistence:vl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ir),this.linkUnderlyingAuth()}return p(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?hl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Gi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ko.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return wo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this._delegate,Eo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return No.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Na.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fl(Kc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xu(this._delegate,rl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",sl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ki(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return xo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return mo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zc(this._delegate,t),e.t0=t,e.next=e.t0===Yc.SESSION?4:e.t0===Yc.LOCAL?6:e.t0===Yc.NONE?11:13;break;case 4:return n=ts,e.abrupt("break",14);case 6:return e.next=8,Mr(Es)._isAvailable();case 8:return r=e.sent,n=r?Es:$o,e.abrupt("break",14);case 11:return n=Si,e.abrupt("break",14);case 13:return e.abrupt("return",Sr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return sl(this._delegate,function(e){return Ka.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return sl(this._delegate,ao(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return sl(this._delegate,function(e,t){return po.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return sl(this._delegate,function(e,t,n){return ao(hn(e),Ra.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return sl(this._delegate,function(e,t,n){return Co.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ul(this._delegate,function(e,t,n){return zs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fl(Kc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",sl(this._delegate,ou(this._delegate,t,rl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fl(Kc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$c(this._delegate);case 3:return e.abrupt("return",ku(this._delegate,t,rl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Io.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&hl.getOrCreate(e))},error:t,complete:n}}function vl(e,t){var n=function(e,t){var n=tl();if(!n)return[];var r=Ti(Xc,e,t);switch(n.getItem(r)){case Yc.NONE:return[Si];case Yc.LOCAL:return[Es,ts];case Yc.SESSION:return[ts];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Es)||n.push(Es),"undefined"!==typeof window)for(var r=0,i=[$o,ts];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Si)||n.push(Si),n}dl.Persistence=Yc;var yl=function(){function e(){f(this,e),this.providerId="phone",this._delegate=new Xs(il(or.auth()))}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Xs.credential(e,t)}}]),e}();yl.PHONE_SIGN_IN_METHOD=Xs.PHONE_SIGN_IN_METHOD,yl.PROVIDER_ID=Xs.PROVIDER_ID;var gl,ml=Dr,Al=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or.app();f(this,e),ml(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Qs(t,n,i.auth()),this.type=this._delegate.type}return p(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(gl=or).INTERNAL.registerComponent(new fn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new dl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yr,PASSWORD_RESET:gr,RECOVER_EMAIL:mr,REVERT_SECOND_FACTOR_ADDITION:Ar,VERIFY_AND_CHANGE_EMAIL:kr,VERIFY_EMAIL:wr}},EmailAuthProvider:Ra,FacebookAuthProvider:Oa,GithubAuthProvider:Ma,GoogleAuthProvider:La,OAuthProvider:Ba,SAMLAuthProvider:Ua,PhoneAuthProvider:yl,PhoneMultiFactorGenerator:lc,RecaptchaVerifier:Al,TwitterAuthProvider:qa,Auth:dl,AuthCredential:Ji,Error:Ut}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gl.registerVersion("@firebase/auth-compat","0.2.9");var kl,wl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},bl={},Il=Il||{},El=wl||self;function _l(){}function xl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sl="closure_uid_"+(1e9*Math.random()>>>0),Tl=0;function Nl(e,t,n){return e.call.apply(e.bind,arguments)}function Rl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pl(e,t,n){return(Pl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nl:Rl).apply(null,arguments)}function Dl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bl(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ol(){this.s=this.s,this.o=this.o}var Ll={};Ol.prototype.s=!1,Ol.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Sl)&&e[Sl]||(e[Sl]=++Tl)}(this);delete Ll[e]}},Ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ml=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Fl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ul(e){return Array.prototype.concat.apply([],arguments)}function ql(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ql(e){return/^[\s\xa0]*$/.test(e)}var jl,Vl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zl(e,t){return-1!=e.indexOf(t)}function Kl(e,t){return e<t?-1:e>t?1:0}e:{var Wl=El.navigator;if(Wl){var Gl=Wl.userAgent;if(Gl){jl=Gl;break e}}jl=""}function Hl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Yl(e){var t={};for(var n in e)t[n]=e[n];return t}var Jl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Jl.length;a++)n=Jl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zl(e){return Zl[" "](e),e}Zl[" "]=_l;var $l,eh=zl(jl,"Opera"),th=zl(jl,"Trident")||zl(jl,"MSIE"),nh=zl(jl,"Edge"),rh=nh||th,ih=zl(jl,"Gecko")&&!(zl(jl.toLowerCase(),"webkit")&&!zl(jl,"Edge"))&&!(zl(jl,"Trident")||zl(jl,"MSIE"))&&!zl(jl,"Edge"),ah=zl(jl.toLowerCase(),"webkit")&&!zl(jl,"Edge");function oh(){var e=El.document;return e?e.documentMode:void 0}e:{var sh="",uh=function(){var e=jl;return ih?/rv:([^\);]+)(\)|;)/.exec(e):nh?/Edge\/([\d\.]+)/.exec(e):th?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ah?/WebKit\/(\S+)/.exec(e):eh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(uh&&(sh=uh?uh[1]:""),th){var ch=oh();if(null!=ch&&ch>parseFloat(sh)){$l=String(ch);break e}}$l=sh}var lh,hh={};function fh(){return function(e){var t=hh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Vl(String($l)).split("."),n=Vl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Kl(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Kl(0==a[2].length,0==o[2].length)||Kl(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(El.document&&th){var dh=oh();lh=dh||(parseInt($l,10)||void 0)}else lh=void 0;var ph=lh,vh=function(){if(!El.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{El.addEventListener("test",_l,t),El.removeEventListener("test",_l,t)}catch(n){}return e}();function yh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function gh(e,t){if(yh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ih){e:{try{Zl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:mh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gh.Z.h.call(this)}}yh.prototype.h=function(){this.defaultPrevented=!0},Bl(gh,yh);var mh={2:"touch",3:"pen",4:"mouse"};gh.prototype.h=function(){gh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),kh=0;function wh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++kh,this.ca=this.fa=!1}function bh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ih(e){this.src=e,this.g={},this.h=0}function Eh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ml(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(bh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _h(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ih.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=_h(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new wh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var xh="closure_lm_"+(1e6*Math.random()|0),Ch={};function Sh(e,t,n,r,i){if(r&&r.once)return Nh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sh(e,t[a],n,r,i);return null}return n=Mh(n),e&&e[Ah]?e.N(t,n,Cl(r)?!!r.capture:!!r,i):Th(e,t,n,!1,r,i)}function Th(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cl(i)?!!i.capture:!!i,s=Oh(e);if(s||(e[xh]=s=new Ih(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Bh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Dh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Nh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Nh(e,t[a],n,r,i);return null}return n=Mh(n),e&&e[Ah]?e.O(t,n,Cl(r)?!!r.capture:!!r,i):Th(e,t,n,!0,r,i)}function Rh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Rh(e,t[a],n,r,i);else r=Cl(r)?!!r.capture:!!r,n=Mh(n),e&&e[Ah]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_h(a=e.g[t],n,r,i))&&(bh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Oh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_h(t,n,r,i)),(n=-1<e?t[e]:null)&&Ph(n))}function Ph(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ah])Eh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Dh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oh(t))?(Eh(n,e),0==n.h&&(n.src=null,t[xh]=null)):bh(e)}}}function Dh(e){return e in Ch?Ch[e]:Ch[e]="on"+e}function Bh(e,t){if(e.ca)e=!0;else{t=new gh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ph(e),e=n.call(r,t)}return e}function Oh(e){return(e=e[xh])instanceof Ih?e:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mh(e){return"function"===typeof e?e:(e[Lh]||(e[Lh]=function(t){return e.handleEvent(t)}),e[Lh])}function Fh(){Ol.call(this),this.i=new Ih(this),this.P=this,this.I=null}function Uh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new yh(t,e);else if(t instanceof yh)t.target=t.target||e;else{var i=t;Xl(t=new yh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=qh(o,r,!0,t)&&i}if(i=qh(o=t.g=e,r,!0,t)&&i,i=qh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=qh(o=t.g=n[a],r,!1,t)&&i}function qh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Eh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Bl(Fh,Ol),Fh.prototype[Ah]=!0,Fh.prototype.removeEventListener=function(e,t,n,r){Rh(this,e,t,n,r)},Fh.prototype.M=function(){if(Fh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bh(n[r]);delete t.g[e],t.h--}}this.I=null},Fh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qh=El.JSON.stringify;function jh(){var e=Jh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vh,zh=function(){function e(){f(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=Kh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Kh=new(function(){function e(t,n){f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Wh}),(function(e){return e.reset()})),Wh=function(){function e(){f(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Gh(e){El.setTimeout((function(){throw e}),0)}function Hh(e,t){Vh||function(){var e=El.Promise.resolve(void 0);Vh=function(){e.then(Xh)}}(),Yh||(Vh(),Yh=!0),Jh.add(e,t)}var Yh=!1,Jh=new zh;function Xh(){for(var e;e=jh();){try{e.h.call(e.g)}catch(n){Gh(n)}var t=Kh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Yh=!1}function Zh(e,t){Fh.call(this),this.h=e||1,this.g=t||El,this.j=Pl(this.kb,this),this.l=Date.now()}function $h(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ef(e,t,n){if("function"===typeof e)n&&(e=Pl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pl(e.handleEvent,e)}return 2147483647<Number(t)?-1:El.setTimeout(e,t||0)}function tf(e){e.g=ef((function(){e.g=null,e.i&&(e.i=!1,tf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Bl(Zh,Fh),(kl=Zh.prototype).da=!1,kl.S=null,kl.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Uh(this,"tick"),this.da&&($h(this),this.start()))}},kl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kl.M=function(){Zh.Z.M.call(this),$h(this),delete this.g};var nf=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:tf(this)}},{key:"M",value:function(){ur(g(n.prototype),"M",this).call(this),this.g&&(El.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ol);function rf(e){Ol.call(this),this.h=e,this.g={}}Bl(rf,Ol);var af=[];function of(e,t,n,r){Array.isArray(n)||(n&&(af[0]=n.toString()),n=af);for(var i=0;i<n.length;i++){var a=Sh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function sf(e){Hl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ph(e)}),e),e.g={}}function uf(){this.g=!0}function cf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Qh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}rf.prototype.M=function(){rf.Z.M.call(this),sf(this)},rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uf.prototype.Aa=function(){this.g=!1},uf.prototype.info=function(){};var lf={},hf=null;function ff(){return hf=hf||new Fh}function df(e){yh.call(this,lf.Ma,e)}function pf(e){var t=ff();Uh(t,new df(t,e))}function vf(e,t){yh.call(this,lf.STAT_EVENT,e),this.stat=t}function yf(e){var t=ff();Uh(t,new vf(t,e))}function gf(e,t){yh.call(this,lf.Na,e),this.size=t}function mf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return El.setTimeout((function(){e()}),t)}lf.Ma="serverreachability",Bl(df,yh),lf.STAT_EVENT="statevent",Bl(vf,yh),lf.Na="timingevent",Bl(gf,yh);var Af={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wf(){}function bf(e){return e.h||(e.h=e.i())}function If(){}wf.prototype.h=null;var Ef,_f={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xf(){yh.call(this,"d")}function Cf(){yh.call(this,"c")}function Sf(){}function Tf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new rf(this),this.P=Rf,e=rh?125:void 0,this.W=new Zh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nf}function Nf(){this.i=null,this.g="",this.h=!1}Bl(xf,yh),Bl(Cf,yh),Bl(Sf,wf),Sf.prototype.g=function(){return new XMLHttpRequest},Sf.prototype.i=function(){return{}},Ef=new Sf;var Rf=45e3,Pf={},Df={};function Bf(e,t,n){e.K=1,e.v=rd(Xf(t)),e.s=n,e.U=!0,Of(e,null)}function Of(e,t){e.F=Date.now(),Uf(e),e.A=Xf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yd(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Nf,e.g=mp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new nf(Pl(e.Ia,e,e.g),e.O)),of(e.V,e.g,"readystatechange",e.gb),t=e.H?Yl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Lf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Mf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ff(e,n))==Df){4==t&&(e.o=4,yf(14),i=!1),cf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pf){e.o=4,yf(15),cf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}cf(e.j,e.m,r,null),zf(e,r)}Lf(e)&&r!=Df&&r!=Pf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),lp(t),t.L=!0,yf(11))):(cf(e.j,e.m,n,"[Invalid Chunked Response]"),Vf(e),jf(e))}function Ff(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Df:(n=Number(t.substring(n,r)),isNaN(n)?Pf:(r+=1)+n>t.length?Df:(t=t.substr(r,n),e.C=r+n,t))}function Uf(e){e.Y=Date.now()+e.P,qf(e,e.P)}function qf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mf(Pl(e.eb,e),t)}function Qf(e){e.B&&(El.clearTimeout(e.B),e.B=null)}function jf(e){0==e.l.G||e.I||dp(e.l,e)}function Vf(e){Qf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,$h(e.W),sf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ed(n.i,e)))if(n.I=e.N,!e.J&&Ed(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fp(n),tp(n)}cp(n),yf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mf(Pl(n.ab,n),6e3));if(1>=Id(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else vp(n,11)}else if((e.J||n.g==e)&&fp(n),!Ql(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(zl(l,"spdy")||zl(l,"quic")||zl(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(_d(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,nd(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=gp(r,r.H?r.la:null,r.W),d.J){xd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Qf(p),Uf(p)),r.g=d}else up(r);0<n.l.length&&ip(n)}else"stop"!=a[0]&&"close"!=a[0]||vp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?vp(n,7):ep(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}pf(4)}catch(a){}}function Kf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xl(e)||"string"===typeof e)Fl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(xl(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(xl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Wf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Hf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Hf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Hf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(kl=Tf.prototype).setTimeout=function(e){this.P=e},kl.gb=function(e){e=e.target;var t=this.L;t&&3==Yd(e)?t.l():this.Ia(e)},kl.Ia=function(e){try{if(e==this.g)e:{var t=Yd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||rh||this.g&&(this.h.h||this.g.ga()||Jd(this.g)))){this.I||4!=t||7==n||pf(8==n||0>=r?3:2),Qf(this);var i=this.g.ba();this.N=i;t:if(Lf(this)){var a=Jd(this.g);e="";var o=a.length,s=4==Yd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vf(this),jf(this);var u="";break t}this.h.i=new El.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ql(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,yf(12),Vf(this),jf(this);break e}cf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zf(this,i)}this.U?(Mf(this,t,u),rh&&this.i&&3==t&&(of(this.V,this.W,"tick",this.fb),this.W.start())):(cf(this.j,this.m,u,null),zf(this,u)),4==t&&Vf(this),this.i&&!this.I&&(4==t?dp(this.l,this):(this.i=!1,Uf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,yf(12)):(this.o=0,yf(13)),Vf(this),jf(this)}}}catch(t){}},kl.fb=function(){if(this.g){var e=Yd(this.g),t=this.g.ga();this.C<t.length&&(Qf(this),Mf(this,e,t),this.i&&4!=e&&Uf(this))}},kl.cancel=function(){this.I=!0,Vf(this)},kl.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(pf(3),yf(17)),Vf(this),this.o=2,jf(this)):qf(this,this.Y-e)},(kl=Wf.prototype).R=function(){Gf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},kl.T=function(){return Gf(this),this.g.concat()},kl.get=function(e,t){return Hf(this.h,e)?this.h[e]:t},kl.set=function(e,t){Hf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},kl.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Yf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jf){this.g=void 0!==t?t:e.g,Zf(this,e.j),this.s=e.s,$f(this,e.i),ed(this,e.m),this.l=e.l,t=e.h;var n=new fd;n.i=t.i,t.g&&(n.g=new Wf(t.g),n.h=t.h),td(this,n),this.o=e.o}else e&&(n=String(e).match(Yf))?(this.g=!!t,Zf(this,n[1]||"",!0),this.s=id(n[2]||""),$f(this,n[3]||"",!0),ed(this,n[4]),this.l=id(n[5]||"",!0),td(this,n[6]||"",!0),this.o=id(n[7]||"")):(this.g=!!t,this.h=new fd(null,this.g))}function Xf(e){return new Jf(e)}function Zf(e,t,n){e.j=n?id(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $f(e,t,n){e.i=n?id(t,!0):t}function ed(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function td(e,t,n){t instanceof fd?(e.h=t,function(e,t){t&&!e.j&&(dd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pd(this,t),yd(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ad(t,ld)),e.h=new fd(t,e.g))}function nd(e,t,n){e.h.set(t,n)}function rd(e){return nd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function id(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ad(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,od),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function od(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ad(t,sd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ad(t,sd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ad(n,"/"==n.charAt(0)?cd:ud,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ad(n,hd)),e.join("")};var sd=/[#\/\?@]/g,ud=/[#\?:]/g,cd=/[#\?]/g,ld=/[#\?@]/g,hd=/#/g;function fd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dd(e){e.g||(e.g=new Wf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function pd(e,t){dd(e),t=gd(e,t),Hf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Hf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gf(e)))}function vd(e,t){return dd(e),t=gd(e,t),Hf(e.g.h,t)}function yd(e,t,n){pd(e,t),0<n.length&&(e.i=null,e.g.set(gd(e,t),ql(n)),e.h+=n.length)}function gd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kl=fd.prototype).add=function(e,t){dd(this),this.i=null,e=gd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kl.forEach=function(e,t){dd(this),this.g.forEach((function(n,r){Fl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},kl.T=function(){dd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},kl.R=function(e){dd(this);var t=[];if("string"===typeof e)vd(this,e)&&(t=Ul(t,this.g.get(gd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ul(t,e[n])}return t},kl.set=function(e,t){return dd(this),this.i=null,vd(this,e=gd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kl.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},kl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var md=p((function e(t,n){f(this,e),this.h=t,this.g=n}));function Ad(e){this.l=e||wd,El.PerformanceNavigationTiming?e=0<(e=El.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(El.g&&El.g.Ea&&El.g.Ea()&&El.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kd,wd=10;function bd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Id(e){return e.h?1:e.g?e.g.size:0}function Ed(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _d(e,t){e.g?e.g.add(t):e.h=t}function xd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Cd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=x(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ql(e.i)}function Sd(){}function Td(){this.g=new Sd}function Nd(e,t,n){var r=n||"";try{Kf(e,(function(e,n){var i=e;Cl(e)&&(i=Qh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pd(e){this.l=e.$b||null,this.j=e.ib||!1}function Dd(e,t){Fh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Bd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ad.prototype.cancel=function(){if(this.i=Cd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=x(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Sd.prototype.stringify=function(e){return El.JSON.stringify(e,void 0)},Sd.prototype.parse=function(e){return El.JSON.parse(e,void 0)},Bl(Pd,wf),Pd.prototype.g=function(){return new Dd(this.l,this.j)},Pd.prototype.i=(kd={},function(){return kd}),Bl(Dd,Fh);var Bd=0;function Od(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ld(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Md(e)}function Md(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kl=Dd.prototype).open=function(e,t){if(this.readyState!=Bd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Md(this)},kl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||El).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},kl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ld(this)),this.readyState=Bd},kl.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Md(this)),this.g&&(this.readyState=3,Md(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof El.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Od(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},kl.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ld(this):Md(this),3==this.readyState&&Od(this)}},kl.Ua=function(e){this.g&&(this.response=this.responseText=e,Ld(this))},kl.Ta=function(e){this.g&&(this.response=e,Ld(this))},kl.ha=function(){this.g&&Ld(this)},kl.setRequestHeader=function(e,t){this.v.append(e,t)},kl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fd=El.JSON.parse;function Ud(e){Fh.call(this),this.headers=new Wf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qd,this.K=this.L=!1}Bl(Ud,Fh);var qd="",Qd=/^https?$/i,jd=["POST","PUT"];function Vd(e){return"content-type"==e.toLowerCase()}function zd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kd(e),Gd(e)}function Kd(e){e.D||(e.D=!0,Uh(e,"complete"),Uh(e,"error"))}function Wd(e){if(e.h&&"undefined"!=typeof Il&&(!e.C[1]||4!=Yd(e)||2!=e.ba()))if(e.v&&4==Yd(e))ef(e.Fa,0,e);else if(Uh(e,"readystatechange"),4==Yd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Yf)[1]||null;if(!a&&El.self&&El.self.location){var o=El.self.location.protocol;a=o.substr(0,o.length-1)}i=!Qd.test(a?a.toLowerCase():"")}t=i}if(t)Uh(e,"complete"),Uh(e,"success");else{e.m=6;try{var s=2<Yd(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Kd(e)}}finally{Gd(e)}}}function Gd(e,t){if(e.g){Hd(e);var n=e.g,r=e.C[0]?_l:null;e.g=null,e.C=null,t||Uh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Hd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(El.clearTimeout(e.A),e.A=null)}function Yd(e){return e.g?e.g.readyState:0}function Jd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Hl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):nd(e,t,n))}function Zd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $d(e){this.za=0,this.l=[],this.h=new uf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zd("baseRetryDelayMs",5e3,e),this.$a=Zd("retryDelaySeedMs",1e4,e),this.Ya=Zd("forwardChannelMaxRetries",2,e),this.ra=Zd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ad(e&&e.concurrentRequestLimit),this.Ca=new Td,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ep(e){if(np(e),3==e.G){var t=e.V++,n=Xf(e.F);nd(n,"SID",e.J),nd(n,"RID",t),nd(n,"TYPE","terminate"),op(e,n),(t=new Tf(e,e.h,t,void 0)).K=2,t.v=rd(Xf(n)),n=!1,El.navigator&&El.navigator.sendBeacon&&(n=El.navigator.sendBeacon(t.v.toString(),"")),!n&&El.Image&&((new Image).src=t.v,n=!0),n||(t.g=mp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Uf(t)}yp(e)}function tp(e){e.g&&(lp(e),e.g.cancel(),e.g=null)}function np(e){tp(e),e.u&&(El.clearTimeout(e.u),e.u=null),fp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&El.clearTimeout(e.m),e.m=null)}function rp(e,t){e.l.push(new md(e.Za++,t)),3==e.G&&ip(e)}function ip(e){bd(e.i)||e.m||(e.m=!0,Hh(e.Ha,e),e.C=0)}function ap(e,t){var n;n=t?t.m:e.V++;var r=Xf(e.F);nd(r,"SID",e.J),nd(r,"RID",n),nd(r,"AID",e.U),op(e,r),e.o&&e.s&&Xd(r,e.o,e.s),n=new Tf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=sp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_d(e.i,n),Bf(n,r,t)}function op(e,t){e.j&&Kf({},(function(e,n){nd(t,n,e)}))}function sp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Pl(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Nd(l,o,"req"+c+"_")}catch(Wp){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function up(e){e.g||e.u||(e.Y=1,Hh(e.Ga,e),e.A=0)}function cp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=mf(Pl(e.Ga,e),pp(e,e.A)),e.A++,!0)}function lp(e){null!=e.B&&(El.clearTimeout(e.B),e.B=null)}function hp(e){e.g=new Tf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Xf(e.oa);nd(t,"RID","rpc"),nd(t,"SID",e.J),nd(t,"CI",e.N?"0":"1"),nd(t,"AID",e.U),op(e,t),nd(t,"TYPE","xmlhttp"),e.o&&e.s&&Xd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rd(Xf(t)),n.s=null,n.U=!0,Of(n,e)}function fp(e){null!=e.v&&(El.clearTimeout(e.v),e.v=null)}function dp(e,t){var n=null;if(e.g==t){fp(e),lp(e),e.g=null;var r=2}else{if(!Ed(e.i,t))return;n=t.D,xd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Uh(r=ff(),new gf(r,n,t,i)),ip(e)}else up(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Id(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=mf(Pl(e.Ha,e,t),pp(e,e.C)),e.C++,!0))}(e,t)||2==r&&cp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vp(e,5);break;case 4:vp(e,10);break;case 3:vp(e,6);break;default:vp(e,2)}}function pp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function vp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Pl(e.jb,e);n||(n=new Jf("//www.google.com/images/cleardot.gif"),El.location&&"http"==El.location.protocol||Zf(n,"https"),rd(n)),function(e,t){var n=new uf;if(El.Image){var r=new Image;r.onload=Dl(Rd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Dl(Rd,n,r,"TestLoadImage: error",!1,t),r.onabort=Dl(Rd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Dl(Rd,n,r,"TestLoadImage: timeout",!1,t),El.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else yf(2);e.G=0,e.j&&e.j.va(t),yp(e),np(e)}function yp(e){e.G=0,e.I=-1,e.j&&(0==Cd(e.i).length&&0==e.l.length||(e.i.i.length=0,ql(e.l),e.l.length=0),e.j.ua())}function gp(e,t,n){var r=function(e){return e instanceof Jf?Xf(e):new Jf(e,void 0)}(n);if(""!=r.i)t&&$f(r,t+"."+r.i),ed(r,r.m);else{var i=El.location;r=function(e,t,n,r){var i=new Jf(null,void 0);return e&&Zf(i,e),t&&$f(i,t),n&&ed(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Hl(e.aa,(function(e,t){nd(r,t,e)})),t=e.D,n=e.sa,t&&n&&nd(r,t,n),nd(r,"VER",e.ma),op(e,r),r}function mp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ud(new Pd({ib:!0})):new Ud(e.qa)).L=e.H,t}function Ap(){}function kp(){if(th&&!(10<=Number(ph)))throw Error("Environmental error: no available transport.")}function wp(e,t){Fh.call(this),this.g=new $d(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ql(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ql(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ep(this)}function bp(e){xf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ip(){Cf.call(this),this.status=1}function Ep(e){this.g=e}(kl=Ud.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ef.g(),this.C=this.u?bf(this.u):bf(Ef),this.g.onreadystatechange=Pl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void zd(this,a)}e=n||"";var i=new Wf(this.headers);r&&Kf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Vd,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=El.FormData&&e instanceof El.FormData,!(0<=Ml(jd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hd(this),0<this.B&&((this.K=function(e){return th&&fh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pl(this.pa,this)):this.A=ef(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){zd(this,a)}},kl.pa=function(){"undefined"!=typeof Il&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Uh(this,"timeout"),this.abort(8))},kl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Uh(this,"complete"),Uh(this,"abort"),Gd(this))},kl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gd(this,!0)),Ud.Z.M.call(this)},kl.Fa=function(){this.s||(this.F||this.v||this.l?Wd(this):this.cb())},kl.cb=function(){Wd(this)},kl.ba=function(){try{return 2<Yd(this)?this.g.status:-1}catch(kd){return-1}},kl.ga=function(){try{return this.g?this.g.responseText:""}catch(kd){return""}},kl.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fd(t)}},kl.Da=function(){return this.m},kl.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(kl=$d.prototype).ma=8,kl.G=1,kl.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},kl.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Tf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Xl(n=Yl(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sp(this,t,r),nd(i=Xf(this.F),"RID",e),nd(i,"CVER",22),this.D&&nd(i,"X-HTTP-Session-Id",this.D),op(this,i),this.o&&n&&Xd(i,this.o,n),_d(this.i,t),this.Ra&&nd(i,"TYPE","init"),this.ja?(nd(i,"$req",r),nd(i,"SID","null"),t.$=!0,Bf(t,i,null)):Bf(t,i,r),this.G=2}}else 3==this.G&&(e?ap(this,e):0==this.l.length||bd(this.i)||ap(this))},kl.Ga=function(){if(this.u=null,hp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mf(Pl(this.bb,this),e)}},kl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yf(10),tp(this),hp(this))},kl.ab=function(){null!=this.v&&(this.v=null,tp(this),cp(this),yf(19))},kl.jb=function(e){e?(this.h.info("Successfully pinged google.com"),yf(2)):(this.h.info("Failed to ping google.com"),yf(1))},(kl=Ap.prototype).xa=function(){},kl.wa=function(){},kl.va=function(){},kl.ua=function(){},kl.Oa=function(){},kp.prototype.g=function(e,t){return new wp(e,t)},Bl(wp,Fh),wp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Hh(Pl(e.hb,e,t))),yf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gp(e,null,e.W),ip(e)},wp.prototype.close=function(){ep(this.g)},wp.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,rp(this.g,t)}else this.v?((t={}).__data__=Qh(e),rp(this.g,t)):rp(this.g,e)},wp.prototype.M=function(){this.g.j=null,delete this.j,ep(this.g),delete this.g,wp.Z.M.call(this)},Bl(bp,xf),Bl(Ip,Cf),Bl(Ep,Ap),Ep.prototype.xa=function(){Uh(this.g,"a")},Ep.prototype.wa=function(e){Uh(this.g,new bp(e))},Ep.prototype.va=function(e){Uh(this.g,new Ip(e))},Ep.prototype.ua=function(){Uh(this.g,"b")},kp.prototype.createWebChannel=kp.prototype.g,wp.prototype.send=wp.prototype.u,wp.prototype.open=wp.prototype.m,wp.prototype.close=wp.prototype.close,Af.NO_ERROR=0,Af.TIMEOUT=8,Af.HTTP_ERROR=6,kf.COMPLETE="complete",If.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",Fh.prototype.listen=Fh.prototype.N,Ud.prototype.listenOnce=Ud.prototype.O,Ud.prototype.getLastError=Ud.prototype.La,Ud.prototype.getLastErrorCode=Ud.prototype.Da,Ud.prototype.getStatus=Ud.prototype.ba,Ud.prototype.getResponseJson=Ud.prototype.Qa,Ud.prototype.getResponseText=Ud.prototype.ga,Ud.prototype.send=Ud.prototype.ea;var _p=bl.createWebChannelTransport=function(){return new kp},xp=bl.getStatEventTarget=function(){return ff()},Cp=bl.ErrorCode=Af,Sp=bl.EventType=kf,Tp=bl.Event=lf,Np=bl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rp=bl.FetchXmlHttpFactory=Pd,Pp=bl.WebChannel=If,Dp=bl.XhrIo=Ud,Bp="@firebase/firestore",Op=function(){function e(t){f(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Op.UNAUTHENTICATED=new Op(null),Op.GOOGLE_CREDENTIALS=new Op("google-credentials-uid"),Op.FIRST_PARTY=new Op("first-party-uid"),Op.MOCK_USER=new Op("mock-user");var Lp="9.6.7",Mp=new _n("@firebase/firestore");function Fp(){return Mp.logLevel}function Up(e){if(Mp.logLevel<=yn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jp);Mp.debug.apply(Mp,["Firestore (".concat(Lp,"): ").concat(e)].concat(h(i)))}}function qp(e){if(Mp.logLevel<=yn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jp);Mp.error.apply(Mp,["Firestore (".concat(Lp,"): ").concat(e)].concat(h(i)))}}function Qp(e){if(Mp.logLevel<=yn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jp);Mp.warn.apply(Mp,["Firestore (".concat(Lp,"): ").concat(e)].concat(h(i)))}}function jp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Vp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Lp,") INTERNAL ASSERTION FAILED: ")+e;throw qp(t),new Error(t)}function zp(e,t){e||Vp()}function Kp(e,t){return e}var Wp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gp=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(Ut),Hp=p((function e(){var t=this;f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Yp=p((function e(t,n){f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Jp=function(){function e(){f(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Op.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Xp=function(){function e(t){f(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zp=function(){function e(t){f(this,e),this.t=t,this.currentUser=Op.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Hp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Hp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Up("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Up("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Up("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(zp("string"==typeof n.accessToken),new Yp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return zp(null===e||"string"==typeof e),new Op(e)}}]),e}(),$p=p((function e(t,n,r){f(this,e),this.type="FirstParty",this.user=Op.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ev=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new $p(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Op.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),tv=p((function e(t){f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),nv=function(){function e(t){f(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Up("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Up("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Up("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Up("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(zp("string"==typeof t.token),e.p=t.token,new tv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),rv=function(){function e(t,n){var r=this;f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function iv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}rv.A=-1;var av=function(){function e(){f(this,e)}return p(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=iv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ov(e,t){return e<t?-1:e>t?1:0}function sv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function uv(e){return e+"\0"}var cv=function(){function e(t,n){if(f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Gp(Wp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Gp(Wp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Gp(Wp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gp(Wp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ov(this.nanoseconds,e.nanoseconds):ov(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),lv=function(){function e(t){f(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new cv(0,0))}}]),e}();function hv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var pv=function(){function e(t,n,r){f(this,e),void 0===n?n=0:n>t.length&&Vp(),void 0===r?r=t.length-n:r>t.length-n&&Vp(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),vv=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(pv),yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gv=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Gp(Wp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gp(Wp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Gp(Wp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(pv),mv=function(){function e(t){f(this,e),this.fields=t,t.sort(gv.comparator)}return p(e,[{key:"covers",value:function(e){var t,n=x(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return sv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Av=function(e){function t(e){f(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ov(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Av.EMPTY_BYTE_STRING=new Av("");var kv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wv(e){if(zp(!!e),"string"==typeof e){var t=0,n=kv.exec(e);if(zp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bv(e.seconds),nanos:bv(e.nanos)}}function bv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Iv(e){return"string"==typeof e?Av.fromBase64String(e):Av.fromUint8Array(e)}function Ev(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _v(e){var t=e.mapValue.fields.__previous_value__;return Ev(t)?_v(t):t}function xv(e){var t=wv(e.mapValue.fields.__local_write_time__.timestampValue);return new cv(t.seconds,t.nanos)}var Cv=p((function e(t,n,r,i,a,o,s,u){f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Sv=function(){function e(t,n){f(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Tv(e){return null==e}function Nv(e){return 0===e&&1/e==-1/0}function Rv(e){return"number"==typeof e&&Number.isInteger(e)&&!Nv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Pv=function(){function e(t){f(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===vv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(vv.fromString(t))}},{key:"fromName",value:function(t){return new e(vv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(vv.emptyPath())}},{key:"comparator",value:function(e,t){return vv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new vv(t.slice()))}}]),e}(),Dv={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Bv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ev(e)?4:10:Vp()}function Ov(e,t){if(e===t)return!0;var n=Bv(e);if(n!==Bv(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xv(e).isEqual(xv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=wv(e.timestampValue),r=wv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Iv(e.bytesValue).isEqual(Iv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bv(e.geoPointValue.latitude)===bv(t.geoPointValue.latitude)&&bv(e.geoPointValue.longitude)===bv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bv(e.integerValue)===bv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bv(e.doubleValue),r=bv(t.doubleValue);return n===r?Nv(n)===Nv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sv(e.arrayValue.values||[],t.arrayValue.values||[],Ov);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hv(n)!==hv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ov(n[i],r[i])))return!1;return!0}(e,t);default:return Vp()}}function Lv(e,t){return void 0!==(e.values||[]).find((function(e){return Ov(e,t)}))}function Mv(e,t){if(e===t)return 0;var n=Bv(e),r=Bv(t);if(n!==r)return ov(n,r);switch(n){case 0:return 0;case 1:return ov(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bv(e.integerValue||e.doubleValue),r=bv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fv(e.timestampValue,t.timestampValue);case 4:return Fv(xv(e),xv(t));case 5:return ov(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Iv(e),r=Iv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ov(n[i],r[i]);if(0!==a)return a}return ov(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ov(bv(e.latitude),bv(t.latitude));return 0!==n?n:ov(bv(e.longitude),bv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Mv(n[i],r[i]);if(a)return a}return ov(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=ov(r[o],a[o]);if(0!==s)return s;var u=Mv(n[r[o]],i[a[o]]);if(0!==u)return u}return ov(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Vp()}}function Fv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ov(e,t);var n=wv(e),r=wv(t),i=ov(n.seconds,r.seconds);return 0!==i?i:ov(n.nanos,r.nanos)}function Uv(e){return qv(e)}function qv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=wv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Iv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=x(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=x(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Vp();var t,n}function Qv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jv(e){return!!e&&"integerValue"in e}function Vv(e){return!!e&&"arrayValue"in e}function zv(e){return!!e&&"nullValue"in e}function Kv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wv(e){return!!e&&"mapValue"in e}function Gv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return fv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gv(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Hv=function(){function e(t){f(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gv(t)}},{key:"setAll",value:function(e){var t=this,n=gv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ov(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){fv(t,(function(t,n){return e[t]=n}));var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Yv(e){var t=[];return fv(e.fields,(function(e,n){var r=new gv([e]);if(Wv(n)){var i=Yv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=x(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new mv(t)}var Jv=function(){function e(t,n,r,i,a,o){f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,lv.min(),lv.min(),Hv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,lv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,lv.min(),Hv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,lv.min(),Hv.empty(),2)}}]),e}(),Xv=p((function e(t,n,r,i){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Xv.UNKNOWN_ID=-1;var Zv=p((function e(t,n){f(this,e),this.fieldPath=t,this.kind=n})),$v=function(){function e(t,n){f(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,ey.min())}}]),e}(),ey=function(){function e(t,n,r){f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(lv.min(),Pv.empty(),-1)}}]),e}(),ty=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function ny(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ty(e,t,n,r,i,a,o)}function ry(e){var t=Kp(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Uv(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Tv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Uv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Uv(e)})).join(",")),t.P=n}return t.P}function iy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ov(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ay(e.startAt,t.startAt)&&Ay(e.endAt,t.endAt)}function ay(e){return Pv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var oy=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Mv(t,this.value)):null!==t&&Bv(this.value)===Bv(t)&&this.V(Mv(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vp()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new sy(e,t,r):"array-contains"===t?new hy(e,r):"in"===t?new fy(e,r):"not-in"===t?new dy(e,r):"array-contains-any"===t?new py(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new uy(e,n):new cy(e,n)}}]),n}(function(){return p((function e(){f(this,e)}))}()),sy=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).key=Pv.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=Pv.comparator(e.key,this.key);return this.V(t)}}]),n}(oy),uy=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"in",r)).keys=ly("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oy),cy=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"not-in",r)).keys=ly("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oy);function ly(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pv.fromName(e.referenceValue)}))}var hy=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vv(t)&&Lv(t.arrayValue,this.value)}}]),n}(oy),fy=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Lv(this.value.arrayValue,t)}}]),n}(oy),dy=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(Lv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Lv(this.value.arrayValue,t)}}]),n}(oy),py=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Lv(t.value.arrayValue,e)}))}}]),n}(oy),vy=p((function e(t,n){f(this,e),this.position=t,this.inclusive=n})),yy=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f(this,e),this.field=t,this.dir=n}));function gy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function my(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Pv.comparator(Pv.fromName(o.referenceValue),n.key):Mv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ay(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ov(e.position[n],t.position[n]))return!1;return!0}var ky=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function wy(e,t,n,r,i,a,o,s){return new ky(e,t,n,r,i,a,o,s)}function by(e){return new ky(e)}function Iy(e){return!Tv(e.limit)&&"F"===e.limitType}function Ey(e){return!Tv(e.limit)&&"L"===e.limitType}function _y(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xy(e){var t,n=x(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Cy(e){return null!==e.collectionGroup}function Sy(e){var t=Kp(e);if(null===t.D){t.D=[];var n=xy(t),r=_y(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new yy(n)),t.D.push(new yy(gv.keyField(),"asc"));else{var i,a=!1,o=x(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new yy(gv.keyField(),u))}}}return t.D}function Ty(e){var t=Kp(e);if(!t.C)if("F"===t.limitType)t.C=ny(t.path,t.collectionGroup,Sy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=x(Sy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new vy(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new vy(t.startAt.position,!t.startAt.inclusive):null;t.C=ny(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Ny(e,t,n){return new ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ry(e,t){return iy(Ty(e),Ty(t))&&e.limitType===t.limitType}function Py(e){return"".concat(ry(Ty(e)),"|lt:").concat(e.limitType)}function Dy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Uv(t.value));var t})).join(", "),"]")),Tv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Uv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Uv(e)})).join(",")),"Target(".concat(t,")")}(Ty(e)),"; limitType=").concat(e.limitType,")")}function By(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=x(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=x(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=my(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sy(e),t))&&!(e.endAt&&!function(e,t,n){var r=my(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sy(e),t))}(e,t)}function Oy(e){return function(t,n){var r,i=!1,a=x(Sy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Ly(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Ly(e,t,n){var r=e.field.isKeyField()?Pv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mv(r,i):Vp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vp()}}function My(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nv(t)?"-0":t}}function Fy(e){return{integerValue:""+e}}function Uy(e,t){return Rv(t)?Fy(t):My(e,t)}var qy=p((function e(){f(this,e),this._=void 0}));function Qy(e,t,n){return e instanceof zy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ky?Wy(e,t):e instanceof Gy?Hy(e,t):function(e,t){var n=Vy(e,t),r=Jy(n)+Jy(e.k);return jv(n)&&jv(e.k)?Fy(r):My(e.O,r)}(e,t)}function jy(e,t,n){return e instanceof Ky?Wy(e,t):e instanceof Gy?Hy(e,t):n}function Vy(e,t){return e instanceof Yy?jv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zy=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n)}(qy),Ky=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return p(n)}(qy);function Wy(e,t){var n,r=Xy(t),i=x(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ov(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gy=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return p(n)}(qy);function Hy(e,t){var n,r=Xy(t),i=x(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ov(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yy=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).O=e,i.k=r,i}return p(n)}(qy);function Jy(e){return bv(e.integerValue||e.doubleValue)}function Xy(e){return Vv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Zy=p((function e(t,n){f(this,e),this.field=t,this.transform=n}));var $y=p((function e(t,n){f(this,e),this.version=t,this.transformResults=n})),eg=function(){function e(t,n){f(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function tg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ng=p((function e(){f(this,e)}));function rg(e,t,n){e instanceof ug?function(e,t,n){var r=e.value.clone(),i=hg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cg?function(e,t,n){if(tg(e.precondition,t)){var r=hg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ig(e,t,n){e instanceof ug?function(e,t,n){if(tg(e.precondition,t)){var r=e.value.clone(),i=fg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(sg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof cg?function(e,t,n){if(tg(e.precondition,t)){var r=fg(e.fieldTransforms,n,t),i=t.data;i.setAll(lg(e)),i.setAll(r),t.convertToFoundDocument(sg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){tg(e.precondition,t)&&t.convertToNoDocument(lv.min())}(e,t)}function ag(e,t){var n,r=null,i=x(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Vy(a.transform,o||null);null!=s&&(null==r&&(r=Hv.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function og(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ky&&t instanceof Ky||e instanceof Gy&&t instanceof Gy?sv(e.elements,t.elements,Ov):e instanceof Yy&&t instanceof Yy?Ov(e.k,t.k):e instanceof zy&&t instanceof zy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function sg(e){return e.isFoundDocument()?e.version:lv.min()}var ug=function(e){y(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n)}(ng),cg=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return p(n)}(ng);function lg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function hg(e,t,n){var r=new Map;zp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,jy(o,s,n[i]))}return r}function fg(e,t,n){var r,i=new Map,a=x(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Qy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var dg,pg,vg=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n)}(ng),yg=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n)}(ng),gg=p((function e(t){f(this,e),this.count=t}));function mg(e){switch(e){default:return Vp();case Wp.CANCELLED:case Wp.UNKNOWN:case Wp.DEADLINE_EXCEEDED:case Wp.RESOURCE_EXHAUSTED:case Wp.INTERNAL:case Wp.UNAVAILABLE:case Wp.UNAUTHENTICATED:return!1;case Wp.INVALID_ARGUMENT:case Wp.NOT_FOUND:case Wp.ALREADY_EXISTS:case Wp.PERMISSION_DENIED:case Wp.FAILED_PRECONDITION:case Wp.ABORTED:case Wp.OUT_OF_RANGE:case Wp.UNIMPLEMENTED:case Wp.DATA_LOSS:return!0}}function Ag(e){if(void 0===e)return qp("GRPC error has no .code"),Wp.UNKNOWN;switch(e){case dg.OK:return Wp.OK;case dg.CANCELLED:return Wp.CANCELLED;case dg.UNKNOWN:return Wp.UNKNOWN;case dg.DEADLINE_EXCEEDED:return Wp.DEADLINE_EXCEEDED;case dg.RESOURCE_EXHAUSTED:return Wp.RESOURCE_EXHAUSTED;case dg.INTERNAL:return Wp.INTERNAL;case dg.UNAVAILABLE:return Wp.UNAVAILABLE;case dg.UNAUTHENTICATED:return Wp.UNAUTHENTICATED;case dg.INVALID_ARGUMENT:return Wp.INVALID_ARGUMENT;case dg.NOT_FOUND:return Wp.NOT_FOUND;case dg.ALREADY_EXISTS:return Wp.ALREADY_EXISTS;case dg.PERMISSION_DENIED:return Wp.PERMISSION_DENIED;case dg.FAILED_PRECONDITION:return Wp.FAILED_PRECONDITION;case dg.ABORTED:return Wp.ABORTED;case dg.OUT_OF_RANGE:return Wp.OUT_OF_RANGE;case dg.UNIMPLEMENTED:return Wp.UNIMPLEMENTED;case dg.DATA_LOSS:return Wp.DATA_LOSS;default:return Vp()}}(pg=dg||(dg={}))[pg.OK=0]="OK",pg[pg.CANCELLED=1]="CANCELLED",pg[pg.UNKNOWN=2]="UNKNOWN",pg[pg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pg[pg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pg[pg.NOT_FOUND=5]="NOT_FOUND",pg[pg.ALREADY_EXISTS=6]="ALREADY_EXISTS",pg[pg.PERMISSION_DENIED=7]="PERMISSION_DENIED",pg[pg.UNAUTHENTICATED=16]="UNAUTHENTICATED",pg[pg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pg[pg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pg[pg.ABORTED=10]="ABORTED",pg[pg.OUT_OF_RANGE=11]="OUT_OF_RANGE",pg[pg.UNIMPLEMENTED=12]="UNIMPLEMENTED",pg[pg.INTERNAL=13]="INTERNAL",pg[pg.UNAVAILABLE=14]="UNAVAILABLE",pg[pg.DATA_LOSS=15]="DATA_LOSS";var kg=function(){function e(t,n){f(this,e),this.comparator=t,this.root=n||bg.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new wg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new wg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new wg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new wg(this.root,e,this.comparator,!0)}}]),e}(),wg=function(){function e(t,n,r,i){f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),bg=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Vp();if(this.right.isRed())throw Vp();var e=this.left.check();if(e!==this.right.check())throw Vp();return e+(this.isRed()?0:1)}}]),e}();bg.EMPTY=null,bg.RED=!0,bg.BLACK=!1,bg.EMPTY=new(function(){function e(){f(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw Vp()}},{key:"value",get:function(){throw Vp()}},{key:"color",get:function(){throw Vp()}},{key:"left",get:function(){throw Vp()}},{key:"right",get:function(){throw Vp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new bg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ig=function(){function e(t){f(this,e),this.comparator=t,this.data=new kg(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Eg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Eg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Eg=function(){function e(t){f(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function _g(e){return e.hasNext()?e.getNext():void 0}var xg=new kg(Pv.comparator);function Cg(){return xg}var Sg=new kg(Pv.comparator);function Tg(){return Sg}var Ng=new kg(Pv.comparator),Rg=new Ig(Pv.comparator);function Pg(){for(var e=Rg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dg=new Ig(ov);function Bg(){return Dg}var Og=function(){function e(t,n,r,i,a){f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Lg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(lv.min(),r,Bg(),Cg(),Pg())}}]),e}(),Lg=function(){function e(t,n,r,i,a){f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Av.EMPTY_BYTE_STRING,n,Pg(),Pg(),Pg())}}]),e}(),Mg=p((function e(t,n,r,i){f(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Fg=p((function e(t,n){f(this,e),this.targetId=t,this.F=n})),Ug=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Av.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qg=function(){function e(){f(this,e),this.B=0,this.L=Vg(),this.U=Av.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return p(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Pg(),t=Pg(),n=Pg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vp()}})),new Lg(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Vg()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Qg=function(){function e(t){f(this,e),this.nt=t,this.st=new Map,this.it=Cg(),this.rt=jg(),this.ot=new Ig(ov)}return p(e,[{key:"ct",value:function(e){var t,n=x(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=x(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Vp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(ay(i))if(0===n){var a=new Pv(i.path);this.at(t,a,Jv.newNoDocument(a,lv.min()))}else zp(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ay(a.target)){var o=new Pv(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Jv.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Pg();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Og(e,n,this.ot,this.it,r);return this.it=Cg(),this.rt=jg(),this.ot=new Ig(ov),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new qg,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Ig(ov),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Up("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new qg),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function jg(){return new kg(Pv.comparator)}function Vg(){return new kg(Pv.comparator)}var zg={asc:"ASCENDING",desc:"DESCENDING"},Kg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wg=p((function e(t,n){f(this,e),this.databaseId=t,this.N=n}));function Gg(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hg(e,t){return e.N?t.toBase64():t.toUint8Array()}function Yg(e,t){return Gg(e,t.toTimestamp())}function Jg(e){return zp(!!e),lv.fromTimestamp(function(e){var t=wv(e);return new cv(t.seconds,t.nanos)}(e))}function Xg(e,t){return function(e){return new vv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zg(e){var t=vv.fromString(e);return zp(wm(t)),t}function $g(e,t){return Xg(e.databaseId,t.path)}function em(e,t){var n=Zg(t);if(n.get(1)!==e.databaseId.projectId)throw new Gp(Wp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gp(Wp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pv(im(n))}function tm(e,t){return Xg(e.databaseId,t)}function nm(e){var t=Zg(e);return 4===t.length?vv.emptyPath():im(t)}function rm(e){return new vv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function im(e){return zp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function am(e,t,n){return{name:$g(e,t),fields:n.value.mapValue.fields}}function om(e,t,n){var r=em(e,t.name),i=Jg(t.updateTime),a=new Hv({mapValue:{fields:t.fields}}),o=Jv.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function sm(e,t){return"found"in t?function(e,t){zp(!!t.found),t.found.name,t.found.updateTime;var n=em(e,t.found.name),r=Jg(t.found.updateTime),i=new Hv({mapValue:{fields:t.found.fields}});return Jv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){zp(!!t.missing),zp(!!t.readTime);var n=em(e,t.missing),r=Jg(t.readTime);return Jv.newNoDocument(n,r)}(e,t):Vp()}function um(e,t){var n;if(t instanceof ug)n={update:am(e,t.key,t.value)};else if(t instanceof vg)n={delete:$g(e,t.key)};else if(t instanceof cg)n={update:am(e,t.key,t.data),updateMask:km(t.fieldMask)};else{if(!(t instanceof yg))return Vp();n={verify:$g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ky)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yy)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Vp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vp()}(e,t.precondition)),n}function cm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?eg.updateTime(Jg(e.updateTime)):void 0!==e.exists?eg.exists(e.exists):eg.none()}(t.currentDocument):eg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)zp("REQUEST_TIME"===t.setToServerValue),n=new zy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ky(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Gy(i)}else"increment"in t?n=new Yy(e,t.increment):Vp();var a=gv.fromServerFormat(t.fieldPath);return new Zy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=em(e,t.update.name),a=new Hv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mv(t.map((function(e){return gv.fromServerFormat(e)})))}(t.updateMask);return new cg(i,a,o,n,r)}return new ug(i,a,n,r)}if(t.delete){var s=em(e,t.delete);return new vg(s,n)}if(t.verify){var u=em(e,t.verify);return new yg(u,n)}return Vp()}function lm(e,t){return{documents:[tm(e,t.path)]}}function hm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kv(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NAN"}};if(zv(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kv(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NOT_NAN"}};if(zv(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ym(e.field),op:vm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ym(e.field),direction:pm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Tv(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fm(e){var t=nm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=dm(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new yy(gm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Tv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new vy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new vy(n,t)}(n.endAt)),wy(t,i,s,o,u,"F",c,l)}function dm(e){return e?void 0!==e.unaryFilter?[Am(e)]:void 0!==e.fieldFilter?[mm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return dm(e)})).reduce((function(e,t){return e.concat(t)})):Vp():[]}function pm(e){return zg[e]}function vm(e){return Kg[e]}function ym(e){return{fieldPath:e.canonicalString()}}function gm(e){return gv.fromServerFormat(e.fieldPath)}function mm(e){return oy.create(gm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vp()}}(e.fieldFilter.op),e.fieldFilter.value)}function Am(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gm(e.unaryFilter.field);return oy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gm(e.unaryFilter.field);return oy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gm(e.unaryFilter.field);return oy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gm(e.unaryFilter.field);return oy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Vp()}}function km(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function bm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Em(t)),t=Im(e.get(n),t);return Em(t)}function Im(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Em(e){return e+"\x01\x01"}function _m(e){var t=e.length;if(zp(t>=2),2===t)return zp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),vv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Vp(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Vp()}a=o+2}return new vv(r)}var xm=p((function e(t,n){f(this,e),this.seconds=t,this.nanoseconds=n})),Cm=p((function e(t,n,r){f(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Cm.store="owner",Cm.key="owner";var Sm=p((function e(t,n,r){f(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Sm.store="mutationQueues",Sm.keyPath="userId";var Tm=p((function e(t,n,r,i,a){f(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Tm.store="mutations",Tm.keyPath="batchId",Tm.userMutationsIndex="userMutationsIndex",Tm.userMutationsKeyPath=["userId","batchId"];var Nm=function(){function e(){f(this,e)}return p(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,bm(t)]}},{key:"key",value:function(e,t,n){return[e,bm(t),n]}}]),e}();Nm.store="documentMutations",Nm.PLACEHOLDER=new Nm;var Rm=p((function e(t,n){f(this,e),this.path=t,this.readTime=n})),Pm=p((function e(t,n){f(this,e),this.path=t,this.version=n})),Dm=p((function e(t,n,r,i,a,o){f(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Dm.store="remoteDocuments",Dm.readTimeIndex="readTimeIndex",Dm.readTimeIndexPath="readTime",Dm.collectionReadTimeIndex="collectionReadTimeIndex",Dm.collectionReadTimeIndexPath=["parentPath","readTime"];var Bm=p((function e(t){f(this,e),this.byteSize=t}));Bm.store="remoteDocumentGlobal",Bm.key="remoteDocumentGlobalKey";var Om=p((function e(t,n,r,i,a,o,s){f(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Om.store="targets",Om.keyPath="targetId",Om.queryTargetsIndexName="queryTargetsIndex",Om.queryTargetsKeyPath=["canonicalId","targetId"];var Lm=p((function e(t,n,r){f(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Lm.store="targetDocuments",Lm.keyPath=["targetId","path"],Lm.documentTargetsIndex="documentTargetsIndex",Lm.documentTargetsKeyPath=["path","targetId"];var Mm=p((function e(t,n,r,i){f(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Mm.key="targetGlobalKey",Mm.store="targetGlobal";var Fm=p((function e(t,n){f(this,e),this.collectionId=t,this.parent=n}));Fm.store="collectionParents",Fm.keyPath=["collectionId","parent"];var Um=p((function e(t,n,r,i){f(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Um.store="clientMetadata",Um.keyPath="clientId";var qm=p((function e(t,n,r){f(this,e),this.bundleId=t,this.createTime=n,this.version=r}));qm.store="bundles",qm.keyPath="bundleId";var Qm=p((function e(t,n,r){f(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Qm.store="namedQueries",Qm.keyPath="name";var jm=p((function e(t,n,r){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));jm.store="indexConfiguration",jm.keyPath="indexId",jm.collectionGroupIndex="collectionGroupIndex",jm.collectionGroupIndexPath="collectionGroup";var Vm=p((function e(t,n,r,i,a,o){f(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Vm.store="indexState",Vm.keyPath=["indexId","uid"],Vm.sequenceNumberIndex="sequenceNumberIndex",Vm.sequenceNumberIndexPath=["uid","sequenceNumber"];var zm=p((function e(t,n,r,i,a){f(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));zm.store="indexEntries",zm.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],zm.documentKeyIndex="documentKeyIndex",zm.documentKeyIndexPath=["indexId","uid","documentKey"];var Km=p((function e(t,n,r,i,a,o){f(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Km.store="documentOverlays",Km.keyPath=["userId","collectionPath","documentId"],Km.collectionPathOverlayIndex="collectionPathOverlayIndex",Km.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Km.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Km.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Wm=[Sm.store,Tm.store,Nm.store,Dm.store,Om.store,Cm.store,Mm.store,Lm.store].concat([Um.store]).concat([Bm.store]).concat([Fm.store]).concat([qm.store,Qm.store]),Gm=[].concat(h(Wm),[Km.store]),Hm=[].concat(h(Gm),[jm.store,Vm.store,zm.store]),Ym="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jm=function(){function e(){f(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Xm=function(){function e(t){var n=this;f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Vp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=x(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Zm=function(){function e(t,n){var r=this;f(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Hp,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new tA(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=oA(e.target.error);r.At.reject(new tA(t,n))}}return p(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Up("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new rA(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new tA(n,t)}}}]),e}(),$m=function(){function e(t,n,r){f(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(Rt())&&qp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"xt",value:function(){var e=Je(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Up("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new tA(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Gp(Wp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Gp(Wp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new tA(t,n))},i.onupgradeneeded=function(e){Up("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Up("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Je(T().mark((function e(t,n,r,i){var a,o,s,u,c=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(T().mark((function e(){var n,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Zm.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Xm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Up("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Up("SimpleDb","Removing database:",e),iA(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Ft())return!1;if(e.St())return!0;var t=Rt(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/jump-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),eA=function(){function e(t){f(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return p(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return iA(this.$t.delete())}}]),e}(),tA=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,Wp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(Gp);function nA(e){return"IndexedDbTransactionError"===e.name}var rA=function(){function e(t){f(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Up("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Up("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),iA(n)}},{key:"add",value:function(e){return Up("SimpleDb","ADD",this.store.name,e,e),iA(this.store.add(e))}},{key:"get",value:function(e){var t=this;return iA(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Up("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Up("SimpleDb","DELETE",this.store.name,e),iA(this.store.delete(e))}},{key:"count",value:function(){return Up("SimpleDb","COUNT",this.store.name),iA(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Xm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Up("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Xm((function(n,r){t.onerror=function(e){var t=oA(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Xm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new eA(i),o=t(i.primaryKey,i.value,a);if(o instanceof Xm){var s=o.catch((function(e){return a.done(),Xm.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Xm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function iA(e){return new Xm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=oA(e.target.error);n(t)}}))}var aA=!1;function oA(e){var t=$m.vt(Rt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Gp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return aA||(aA=!0,setTimeout((function(){throw r}),0)),r}}return e}var sA=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return p(n)}(Jm);function uA(e,t){var n=Kp(e);return $m.Nt(n.zt,t)}var cA=function(){function e(t,n,r,i){f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=x(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ig(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=x(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ig(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(lv.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Pg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&sv(this.mutations,e.mutations,(function(e,t){return og(e,t)}))&&sv(this.baseMutations,e.baseMutations,(function(e,t){return og(e,t)}))}}]),e}(),lA=function(){function e(t,n,r,i){f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){zp(t.mutations.length===r.length);for(var i=Ng,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),hA=function(){function e(t,n){f(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),fA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:lv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Av.EMPTY_BYTE_STRING;f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),dA=p((function e(t){f(this,e),this.Ht=t}));function pA(e,t){var n;if(t.document)n=om(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Pv.fromSegments(t.noDocument.path),i=AA(t.noDocument.readTime);n=Jv.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vp();var a=Pv.fromSegments(t.unknownDocument.path),o=AA(t.unknownDocument.version);n=Jv.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(gA(t.readTime)),n}function vA(e,t){var n=yA(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:$g(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gg(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new Dm(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),s=mA(t.version),u=t.hasCommittedMutations;return new Dm(null,new Rm(o,s),null,u,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=mA(t.version);return new Dm(new Pm(c,l),null,null,!0,n,r)}return Vp()}function yA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gA(e){var t=new cv(e[0],e[1]);return lv.fromTimestamp(t)}function mA(e){var t=e.toTimestamp();return new xm(t.seconds,t.nanoseconds)}function AA(e){var t=new cv(e.seconds,e.nanoseconds);return lv.fromTimestamp(t)}function kA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cm(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return cm(e.Ht,t)})),s=cv.fromMillis(t.localWriteTimeMs);return new cA(t.batchId,s,n,o)}function wA(e){var t,n,r=AA(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?AA(e.lastLimboFreeSnapshotVersion):lv.min();return void 0!==e.query.documents?(zp(1===(n=e.query).documents.length),t=Ty(by(nm(n.documents[0])))):t=function(e){return Ty(fm(e))}(e.query),new fA(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Av.fromBase64String(e.resumeToken))}function bA(e,t){var n,r=mA(t.snapshotVersion),i=mA(t.lastLimboFreeSnapshotVersion);n=ay(t.target)?lm(e.Ht,t.target):hm(e.Ht,t.target);var a=t.resumeToken.toBase64();return new Om(t.targetId,ry(t.target),r,a,t.sequenceNumber,i,n)}function IA(e){var t=fm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ny(t,t.limit,"L"):t}function EA(e,t){return new hA(t.largestBatchId,cm(e.Ht,t.overlayMutation))}function _A(e,t){var n=t.path.lastSegment();return[e,bm(t.path.popLast()),n]}var xA=function(){function e(){f(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return CA(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:AA(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return CA(e).put({bundleId:(n=t).id,createTime:mA(Jg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return SA(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:IA(t.bundledQuery),readTime:AA(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return SA(e).put(function(e){return{name:e.name,readTime:mA(Jg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function CA(e){return uA(e,qm.store)}function SA(e){return uA(e,Qm.store)}var TA=function(){function e(t,n){f(this,e),this.O=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return NA(e).get(_A(this.userId,t)).next((function(e){return e?EA(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new hA(t,n);i.push(r.Yt(e,a))})),Xm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(bm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(NA(e).Gt(Km.collectionPathOverlayIndex,i))})),Xm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=bm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return NA(e).qt(Km.collectionPathOverlayIndex,o).next((function(e){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=EA(r.O,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return NA(e).Qt({index:Km.collectionGroupOverlayIndex,range:s},(function(e,t,n){var s=EA(a.O,t);o.size<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return NA(e).put(function(e,t,n){var r=c(_A(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Km(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,um(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function NA(e){return uA(e,Km.store)}var RA=function(){function e(){f(this,e)}return p(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(bv(e.integerValue));else if("doubleValue"in e){var n=bv(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Nv(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Iv(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Ov(e,Dv)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Vp()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Pv.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function PA(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function DA(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=PA(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}RA.le=new RA;var BA=function(){function e(){f(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=DA(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=DA(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),OA=function(){function e(t){f(this,e),this.Se=t}return p(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),LA=function(){function e(t){f(this,e),this.Se=t}return p(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),MA=function(){function e(){f(this,e),this.Se=new BA,this.De=new OA(this.Se),this.Ce=new LA(this.Se)}return p(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),FA=p((function e(t,n,r,i){f(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function UA(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Pv.comparator(e.documentKey,t.documentKey))?n:0!==(n=qA(e.arrayValue,t.arrayValue))?n:qA(e.directionalValue,t.directionalValue)}function qA(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var QA=function(){function e(){f(this,e),this.xe=new jA}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Xm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Xm.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Xm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Xm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Xm.resolve(Pg())}},{key:"getFieldIndex",value:function(e,t){return Xm.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Xm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Xm.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Xm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Xm.resolve()}}]),e}(),jA=function(){function e(){f(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ig(vv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ig(vv.comparator)).toArray()}}]),e}(),VA=function(){function e(t){f(this,e),this.user=t,this.ke=new jA,this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:bm(i)};return zA(e).put(a)}return Xm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[uv(t),""],!1,!0);return zA(e).qt(r).next((function(e){var r,i=x(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(_m(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=WA(e),r=function(e){return new jm(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=WA(e),r=GA(e),i=KA(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Xm.resolve(Pg())}},{key:"getFieldIndex",value:function(e,t){return Xm.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new MA,i=x(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);RA.le.Xt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new MA;return RA.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=WA(e),i=GA(e);return(t?r.qt(jm.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Xm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $v(t.sequenceNumber,new ey(AA(t.readTime),new Pv(_m(t.documentKey)),t.largestBatchId)):$v.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Zv(gv.fromServerFormat(n),r)}));return new Xv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=WA(e),a=GA(e);return this.$e(e).next((function(e){return i.qt(jm.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Xm.forEach(t,(function(t){return a.put(function(e,t,n,r){return new Vm(e,t.uid||"",n,mA(r.readTime),bm(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Xm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Xm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Xm.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Xm.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return KA(e).put(new zm(n.indexId,this.uid,n.arrayValue,n.directionalValue,bm(t.key.path)))}},{key:"qe",value:function(e,t,n){return KA(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,bm(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=KA(e),i=new Ig(UA);return r.Qt({index:zm.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,bm(t.path)])},(function(e,r){i=i.add(new FA(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new Ig(UA),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Vv(a)){var o,s=x(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new FA(t.indexId,e.key,this.Me(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new FA(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Up("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=_g(a),u=_g(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=_g(o)):l?(i(s),s=_g(a)):(s=_g(a),u=_g(o))}}(n,r,UA,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Xm.waitFor(a)}},{key:"$e",value:function(e){var t=1;return GA(e).Qt({index:Vm.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function zA(e){return uA(e,Fm.store)}function KA(e){return uA(e,zm.store)}function WA(e){return uA(e,jm.store)}function GA(e){return uA(e,Vm.store)}var HA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YA=function(){function e(t,n,r){f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function JA(e,t,n){var r=e.store(Tm.store),i=e.store(Nm.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Qt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){zp(1===s)})));var c,l=[],h=x(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=Nm.key(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return Xm.waitFor(a).next((function(){return l}))}function XA(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vp();t=e.noDocument}return JSON.stringify(t).length}YA.DEFAULT_COLLECTION_PERCENTILE=10,YA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,YA.DEFAULT=new YA(41943040,YA.DEFAULT_COLLECTION_PERCENTILE,YA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),YA.DISABLED=new YA(-1,0,0);var ZA=function(){function e(t,n,r,i){f(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ek(e).Qt({index:Tm.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=tk(e),o=ek(e);return o.add({}).next((function(s){zp("number"==typeof s);var u,c=new cA(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return um(e.Ht,t)})),i=n.mutations.map((function(t){return um(e.Ht,t)}));return new Tm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),h=[],f=new Ig((function(e,t){return ov(e.canonicalString(),t.canonicalString())})),d=x(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Nm.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,Nm.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[s]=c.keys()})),Xm.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ek(e).get(t).next((function(e){return e?(zp(e.userId===n.userId),kA(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Xm.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ek(e).Qt({index:Tm.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(zp(t.batchId>=r),a=kA(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ek(e).Qt({index:Tm.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ek(e).qt(Tm.userMutationsIndex,n).next((function(e){return e.map((function(e){return kA(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nm.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return tk(e).Qt({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],h=s[2],f=_m(l);if(u===n.userId&&t.path.isEqual(f))return ek(e).get(h).next((function(e){if(!e)throw Vp();zp(e.userId===n.userId),a.push(kA(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ig(ov),i=[];return t.forEach((function(t){var a=Nm.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=tk(e).Qt({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],h=_m(u);s===n.userId&&t.path.isEqual(h)?r=r.add(l):a.done()}));i.push(s)})),Xm.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Nm.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Ig(ov);return tk(e).Qt({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],h=o[2],f=_m(l);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(h)):a.done()})).next((function(){return n.je(e,s)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ek(e).get(t).next((function(e){if(null===e)throw Vp();zp(e.userId===n.userId),r.push(kA(n.O,e))})))})),Xm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return JA(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Xm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Xm.resolve();var r=IDBKeyRange.lowerBound(Nm.prefixForUser(t.userId)),i=[];return tk(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=_m(e[1]);i.push(a)}else r.done()})).next((function(){zp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $A(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return nk(e).get(this.userId).next((function(e){return e||new Sm(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return zp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $A(e,t,n){var r=Nm.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return tk(e).Qt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function ek(e){return uA(e,Tm.store)}function tk(e){return uA(e,Nm.store)}function nk(e){return uA(e,Sm.store)}var rk=function(){function e(t){f(this,e),this.ze=t}return p(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),ik=function(){function e(t,n){f(this,e),this.referenceDelegate=t,this.O=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new rk(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return lv.fromTimestamp(new cv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ak(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return zp(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ak(e).Qt((function(o,s){var u=wA(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Xm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ak(e).Qt((function(e,n){var r=wA(n);t(r)}))}},{key:"Ye",value:function(e){return ok(e).get(Mm.key).next((function(e){return zp(null!==e),e}))}},{key:"Xe",value:function(e,t){return ok(e).put(Mm.key,t)}},{key:"Ze",value:function(e,t){return ak(e).put(bA(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ry(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ak(e).Qt({range:r,index:Om.queryTargetsIndexName},(function(e,n,r){var a=wA(n);iy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=sk(e);return t.forEach((function(t){var o=bm(t.path);i.push(a.put(new Lm(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Xm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=sk(e);return Xm.forEach(t,(function(t){var a=bm(t.path);return Xm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=sk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sk(e),i=Pg();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=_m(e[1]),a=new Pv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=bm(t.path),r=IDBKeyRange.bound([n],[uv(n)],!1,!0),i=0;return sk(e).Qt({index:Lm.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return ak(e).get(t).next((function(e){return e?wA(e):null}))}}]),e}();function ak(e){return uA(e,Om.store)}function ok(e){return uA(e,Mm.store)}function sk(e){return uA(e,Lm.store)}function uk(e){return ck.apply(this,arguments)}function ck(){return ck=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Wp.FAILED_PRECONDITION&&t.message===Ym){e.next=2;break}throw t;case 2:Up("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=ov(r,o);return 0===u?ov(i,s):u}var hk=function(){function e(t){f(this,e),this.en=t,this.buffer=new Ig(lk),this.nn=0}return p(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();lk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fk=function(){function e(t,n){f(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return p(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Up("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Je(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!nA(n.t0)){n.next=12;break}Up("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,uk(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),dk=function(){function e(t,n){f(this,e),this.an=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Xm.resolve(rv.A);var r=new hk(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Up("LruGarbageCollector","Garbage collection skipped; disabled"),Xm.resolve(HA)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Up("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),HA):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Up("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Fp()<=yn.DEBUG&&Up("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Xm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),pk=function(){function e(t,n){f(this,e),this.db=t,this.garbageCollector=function(e,t){return new dk(e,t)}(this,n)}return p(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return vk(e,n)}},{key:"removeReference",value:function(e,t,n){return vk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return vk(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return nk(e).Wt((function(r){return $A(e,r,t).next((function(e){return e&&(n=!0),Xm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,s){if(s<=t){var u=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,lv.min()),sk(e).delete([0,bm(o.path)])}))}));i.push(u)}})).next((function(){return Xm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return vk(e,t)}},{key:"_n",value:function(e,t){var n,r=sk(e),i=rv.A;return r.Qt({index:Lm.documentTargetsIndex},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==rv.A&&t(new Pv(_m(n)),i),i=u,n=s):i=rv.A})).next((function(){i!==rv.A&&t(new Pv(_m(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function vk(e,t){return sk(e).put(function(e,t){return new Lm(0,bm(e.path),t)}(t,e.currentSequenceNumber))}var yk=function(){function e(t,n){f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){fv(this.inner,(function(t,n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return dv(this.inner)}}]),e}(),gk=function(){function e(){f(this,e),this.changes=new yk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Jv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Xm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),mk=function(){function e(t){f(this,e),this.O=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wk(e).put(bk(t),n)}},{key:"removeEntry",value:function(e,t){var n=wk(e),r=bk(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return wk(e).get(bk(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return wk(e).get(bk(t)).next((function(e){return{document:n.gn(t,e),size:XA(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Cg();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=Cg(),i=new kg(Pv.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,XA(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Xm.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return wk(e).Qt({range:r},(function(e,t,r){for(var o=Pv.fromSegments(e);a&&Pv.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Cg(),a=t.length+1,o={};if(n.isEqual(lv.min())){var s=t.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.toArray(),c=yA(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Dm.collectionReadTimeIndex}return wk(e).Qt(o,(function(e,n,o){if(e.length===a){var s=r.gn(Pv.fromSegments(e),n);t.isPrefixOf(s.key.path)?i=i.insert(s.key,s):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Ak(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return kk(e).get(Bm.key).next((function(e){return zp(!!e),e}))}},{key:"mn",value:function(e,t){return kk(e).put(Bm.key,t)}},{key:"gn",value:function(e,t){if(t){var n=pA(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(lv.min()))return n}return Jv.newInvalidDocument(e)}}]),e}(),Ak=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new yk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ig((function(e,t){return ov(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.An.get(a);if(o.isValidDocument()){var u=vA(t.Tn.O,o);i=i.add(a.path.popLast());var c=XA(u);r+=c-s,n.push(t.Tn.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=vA(t.Tn.O,o.convertToNoDocument(lv.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Xm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(gk);function kk(e){return uA(e,Bm.store)}function wk(e){return uA(e,Dm.store)}function bk(e){return e.path.toArray()}var Ik=function(){function e(t){f(this,e),this.O=t}return p(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Zm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Cm.store)}(e),function(e){e.createObjectStore(Sm.store,{keyPath:Sm.keyPath}),e.createObjectStore(Tm.store,{keyPath:Tm.keyPath,autoIncrement:!0}).createIndex(Tm.userMutationsIndex,Tm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Nm.store)}(e),Ek(e),function(e){e.createObjectStore(Dm.store)}(e));var o=Xm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Lm.store),e.deleteObjectStore(Om.store),e.deleteObjectStore(Mm.store)}(e),Ek(e)),o=o.next((function(){return function(e){var t=e.store(Mm.store),n=new Mm(0,0,lv.min().toTimestamp(),0);return t.put(Mm.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Tm.store).qt().next((function(n){e.deleteObjectStore(Tm.store),e.createObjectStore(Tm.store,{keyPath:Tm.keyPath,autoIncrement:!0}).createIndex(Tm.userMutationsIndex,Tm.userMutationsKeyPath,{unique:!0});var r=t.store(Tm.store),i=n.map((function(e){return r.put(e)}));return Xm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Um.store,{keyPath:Um.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Bm.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Dm.store);t.createIndex(Dm.readTimeIndex,Dm.readTimeIndexPath,{unique:!1}),t.createIndex(Dm.collectionReadTimeIndex,Dm.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(qm.store,{keyPath:qm.keyPath})}(e),function(e){e.createObjectStore(Qm.store,{keyPath:Qm.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Km.store,{keyPath:Km.keyPath});t.createIndex(Km.collectionPathOverlayIndex,Km.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Km.collectionGroupOverlayIndex,Km.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(jm.store,{keyPath:jm.keyPath,autoIncrement:!0}).createIndex(jm.collectionGroupIndex,jm.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Vm.store,{keyPath:Vm.keyPath}).createIndex(Vm.sequenceNumberIndex,Vm.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(zm.store,{keyPath:zm.keyPath}).createIndex(zm.documentKeyIndex,zm.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(Dm.store).Qt((function(e,n){t+=XA(n)})).next((function(){var n=new Bm(t);return e.store(Bm.store).put(Bm.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Sm.store),r=e.store(Tm.store);return n.qt().next((function(n){return Xm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(Tm.userMutationsIndex,i).next((function(r){return Xm.forEach(r,(function(r){zp(r.userId===n.userId);var i=kA(t.O,r);return JA(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Lm.store),n=e.store(Dm.store);return e.store(Mm.store).get(Mm.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new vv(n),o=function(e){return[0,bm(e)]}(a);r.push(t.get(o).next((function(n){return n?Xm.resolve():function(n){return t.put(new Lm(0,bm(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Xm.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(Fm.store,{keyPath:Fm.keyPath});var n=t.store(Fm.store),r=new jA,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:bm(i)})}};return t.store(Dm.store).Qt({jt:!0},(function(e,t){var n=new vv(e);return i(n.popLast())})).next((function(){return t.store(Nm.store).Qt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],_m(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Om.store);return n.Qt((function(e,r){var i=wA(r),a=bA(t.O,i);return n.put(a)}))}}]),e}();function Ek(e){e.createObjectStore(Lm.store,{keyPath:Lm.keyPath}).createIndex(Lm.documentTargetsIndex,Lm.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Om.store,{keyPath:Om.keyPath}).createIndex(Om.queryTargetsIndexName,Om.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Mm.store)}var _k="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xk=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(f(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=s,this.Dn=c,this.Cn=l,this.schemaVersion=h,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Gp(Wp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pk(this,i),this.Bn=n+"main",this.O=new dA(u),this.Ln=new $m(this.Bn,this.schemaVersion,new Ik(this.O)),this.Un=new ik(this.referenceDelegate,this.O),this.qn=function(e){return new mk(e)}(this.O),this.Kn=new xA,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&qp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Gp(Wp.FAILED_PRECONDITION,_k);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new rv(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=Je(T().mark((function n(r){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=Je(T().mark((function t(n){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sk(t).put(new Um(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(nA(t))return Up("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Up("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return Ck(e).get(Cm.key).next((function(e){return Xm.resolve(t.ts(e))}))}},{key:"es",value:function(e){return Sk(e).delete(this.clientId)}},{key:"ns",value:function(){var e=Je(T().mark((function e(){var t,n,r,i,a=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uA(e,Um.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Xm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=x(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Xm.resolve(!0):Ck(e).get(Cm.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Gp(Wp.FAILED_PRECONDITION,_k);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sk(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Up("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Je(T().mark((function e(){var t=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[Cm.store,Um.store],(function(e){var n=new sA(e,rv.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sk(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return ZA.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new VA(e)}},{key:"getDocumentOverlayCache",value:function(e){return TA.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Up("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=13===(i=this.schemaVersion)?Hm:12===i?Gm:11===i?Wm:void Vp();return this.Ln.runTransaction(e,o,s,(function(i){return a=new sA(i,r.Nn?r.Nn.next():rv.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw qp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Gp(Wp.FAILED_PRECONDITION,Ym);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return Ck(e).get(Cm.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Gp(Wp.FAILED_PRECONDITION,_k)}))}},{key:"Zn",value:function(e){var t=new Cm(this.clientId,this.allowTabSynchronization,Date.now());return Ck(e).put(Cm.key,t)}},{key:"Xn",value:function(e){var t=this,n=Ck(e);return n.get(Cm.key).next((function(e){return t.ts(e)?(Up("IndexedDbPersistence","Releasing primary lease."),n.delete(Cm.key)):Xm.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(qp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!Dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Up("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Bl){qp("Failed to set zombie client id.",Bl)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Bl){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return $m.Vt()}}]),e}();function Ck(e){return uA(e,Cm.store)}function Sk(e){return uA(e,Um.store)}function Tk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Nk=p((function e(t,n){f(this,e),this.progress=t,this.ws=n})),Rk=function(){function e(t,n,r){f(this,e),this.qn=t,this.gs=n,this.indexManager=r}return p(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=x(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=x(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Pv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):Cy(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Pv(t)).next((function(e){var t=Tg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Tg();return this.indexManager.getCollectionParents(e,i).next((function(o){return Xm.forEach(o,(function(o){var s=function(e,t){return new ky(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=x(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Jv.newInvalidDocument(u),r=r.insert(u,c)),ig(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){By(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Pk=function(){function e(t,n,r,i){f(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return p(e,null,[{key:"Ss",value:function(t,n){var r,i=Pg(),a=Pg(),o=x(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Dk=function(){function e(){f(this,e)}return p(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(lv.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Iy(t)||Ey(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Fp()<=yn.DEBUG&&Up("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Dy(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Ig(Oy(e));return t.forEach((function(t,r){By(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Fp()<=yn.DEBUG&&Up("QueryEngine","Using full collection scan to execute query:",Dy(t)),this.Cs.As(e,t,lv.min())}}]),e}(),Bk=function(){function e(t,n,r,i){f(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new kg(ov),this.$s=new yk((function(e){return ry(e)}),iy),this.Fs=lv.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return p(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Rk(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function Ok(e,t,n,r){return new Bk(e,t,n,r)}function Lk(e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Pg(),u=x(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=x(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(A){h.e(A)}finally{h.f()}}}catch(A){u.e(A)}finally{u.f()}var d,p=x(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,g=x(v.mutations);try{for(g.s();!(y=g.n()).done;){var m=y.value;s=s.add(m.key)}}catch(A){g.e(A)}finally{g.f()}}}catch(A){p.e(A)}finally{p.f()}return r.Us.Es(e,s).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Fk(e,t){var n=Kp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Xm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);zp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Uk(e){var t=Kp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function qk(e,t){var n=Kp(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Av.EMPTY_BYTE_STRING,lv.min()).withLastLimboFreeSnapshotVersion(lv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var s=Cg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qk(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(lv.min())){var u=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Xm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,s)})).next((function(){return s}))})).then((function(e){return n.Ms=i,e}))}function Qk(e,t,n){var r=Pg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Cg();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(lv.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Up("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function jk(e,t){var n=Kp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Vk(e,t){var n=Kp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Xm.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new fA(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function zk(e,t,n){return Kk.apply(this,arguments)}function Kk(){return Kk=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Kp(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),nA(e.t1)){e.next=12;break}throw e.t1;case 12:Up("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Kk.apply(this,arguments)}function Wk(e,t,n){var r=Kp(e),i=lv.min(),a=Pg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Kp(e),i=r.$s.get(n);return void 0!==i?Xm.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Ty(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:lv.min(),n?a:Pg())})).next((function(e){return{documents:e,Ks:a}}))}))}function Gk(e,t){var n=Kp(e),r=Kp(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Hk(e){var t=Kp(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Kp(e),i=Cg(),a=yA(n),o=wk(t),s=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:Dm.readTimeIndex,range:s},(function(e,t){var n=pA(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:gA(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Yk(e){return Jk.apply(this,arguments)}function Jk(){return Jk=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kp(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=wk(e),n=lv.min();return t.Qt({index:Dm.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=gA(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Xk(e,t,n,r){return Zk.apply(this,arguments)}function Zk(){return Zk=Je(T().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Kp(t),o=Pg(),s=Cg(),u=x(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.Gs(l.metadata.name),l.document&&(o=o.add(h)),(f=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,Vk(a,function(e){return Ty(by(vv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Qk(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function $k(e,t){return ew.apply(this,arguments)}function ew(){return ew=Je(T().mark((function e(t,n){var r,i,a,o=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Pg(),e.next=3,Vk(t,Ty(IA(n.bundledQuery)));case 3:return i=e.sent,a=Kp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Jg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(Av.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}var tw=function(){function e(t){f(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return Xm.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Jg(n.createTime)}),Xm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Xm.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:IA(e.bundledQuery),readTime:Jg(e.readTime)}}(t)),Xm.resolve()}}]),e}(),nw=function(){function e(){f(this,e),this.overlays=new kg(Pv.comparator),this.Hs=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return Xm.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Xm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Xm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Pv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Xm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new kg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=new Map,i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(t,e)})),!(u.size>=r)););return Xm.resolve(u)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new hA(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),rw=function(){function e(){f(this,e),this.Js=new Ig(iw.Ys),this.Xs=new Ig(iw.Zs)}return p(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new iw(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new iw(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Pv(new vv([])),r=new iw(n,e),i=new iw(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Pv(new vv([])),n=new iw(t,e),r=new iw(t,e+1),i=Pg();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new iw(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),iw=function(){function e(t,n){f(this,e),this.key=t,this.oi=n}return p(e,null,[{key:"Ys",value:function(e,t){return Pv.comparator(e.key,t.key)||ov(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return ov(e.oi,t.oi)||Pv.comparator(e.key,t.key)}}]),e}(),aw=function(){function e(t,n){f(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Ig(iw.Ys)}return p(e,[{key:"checkEmpty",value:function(e){return Xm.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new cA(i,t,n,r);this.gs.push(a);var o,s=x(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ui=this.ui.add(new iw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Xm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Xm.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Xm.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Xm.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Xm.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new iw(t,0),i=new iw(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Xm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ig(ov);return t.forEach((function(e){var t=new iw(e,0),i=new iw(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Xm.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pv.isDocumentKey(i)||(i=i.child(""));var a=new iw(new Pv(i),0),o=new Ig(ov);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Xm.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;zp(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Xm.forEach(t.mutations,(function(i){var a=new iw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new iw(t,0),r=this.ui.firstAfterOrEqual(n);return Xm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Xm.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),ow=function(){function e(t){f(this,e),this.di=t,this.docs=new kg(Pv.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Xm.resolve(n?n.document.mutableCopy():Jv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Cg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Jv.newInvalidDocument(e))})),Xm.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Cg(),i=new Pv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||u.readTime.compareTo(n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Xm.resolve(r)}},{key:"_i",value:function(e,t){return Xm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sw(this)}},{key:"getSize",value:function(e){return Xm.resolve(this.size)}}]),e}(),sw=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).Tn=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Xm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(gk),uw=function(){function e(t){f(this,e),this.persistence=t,this.wi=new yk((function(e){return ry(e)}),iy),this.lastRemoteSnapshotVersion=lv.min(),this.highestTargetId=0,this.mi=0,this.gi=new rw,this.targetCount=0,this.yi=rk.He()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Xm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Xm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Xm.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Xm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Xm.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new rk(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Xm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Xm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Xm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Xm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Xm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Xm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Xm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Xm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Xm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Xm.resolve(n)}},{key:"containsKey",value:function(e,t){return Xm.resolve(this.gi.containsKey(t))}}]),e}(),cw=function(){function e(t,n){var r=this;f(this,e),this.pi={},this.overlays={},this.Nn=new rv(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new uw(this),this.indexManager=new QA,this.qn=new ow((function(e){return r.referenceDelegate.Ii(e)})),this.O=new dA(n),this.Kn=new tw(this.O)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new aw(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Up("MemoryPersistence","Starting transaction:",e);var i=new lw(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Xm.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),lw=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(Jm),hw=function(){function e(t){f(this,e),this.persistence=t,this.Ri=new rw,this.Pi=null}return p(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Vp()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Xm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Xm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Xm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xm.forEach(this.vi,(function(r){var i=Pv.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,lv.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Xm.or([function(){return Xm.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function fw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function dw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function pw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var vw=function(){function e(t,n,r,i){f(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Gp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(qp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),yw=function(){function e(t,n,r){f(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gp(i.error.code,i.error.message))),a?new e(t,i.state,r):(qp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),gw=function(){function e(t,n){f(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Rv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(qp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mw=function(){function e(t,n){f(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(qp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Aw=function(){function e(){f(this,e),this.activeTargetIds=Bg()}return p(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),kw=function(){function e(t,n,r,i,a){f(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new kg(ov),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=fw(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new Aw),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return p(e,[{key:"start",value:function(){var e=Je(T().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=x(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(fw(this.persistenceKey,i)))&&(o=gw.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(s=this.storage.getItem(this.Ki))&&(u=this.Qi(s))&&this.Wi(u),c=x(this.$i);try{for(c.s();!(l=c.n()).done;)h=l.value,this.Oi(h)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(pw(this.persistenceKey,e));if(n){var r=yw.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(pw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Up("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Up("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Up("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Up("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void qp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(Je(T().mark((function e(){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(s));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}u=function(e){var t=rv.A;if(null!=e)try{var n=JSON.parse(e);zp("number"==typeof n),t=n}catch(e){qp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==rv.A&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new vw(this.currentUser,e,t,n),i=dw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=dw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=pw(this.persistenceKey,e),i=new yw(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return gw.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vw.Si(new Op(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return yw.Si(r,t)}},{key:"Qi",value:function(e){return mw.Si(e)}},{key:"rr",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Up("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.dr(o,s).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=Bg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ww=function(){function e(){f(this,e),this._r=new Aw,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new Aw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),bw=function(){function e(){f(this,e)}return p(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Iw=function(){function e(){var t=this;f(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return p(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Up("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=x(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Up("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=x(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ew={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_w=function(){function e(t){f(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return p(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),xw=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Dp;o.listenOnce(Sp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Cp.NO_ERROR:var t=o.getResponseJson();Up("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Cp.TIMEOUT:Up("Connection",'RPC "'+e+'" timed out'),a(new Gp(Wp.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:var n=o.getStatus();if(Up("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Wp).indexOf(t)>=0?t:Wp.UNKNOWN}(r.status);a(new Gp(s,r.message))}else a(new Gp(Wp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Gp(Wp.UNAVAILABLE,"Connection failed."));break;default:Vp()}}finally{Up("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=_p(),a=xp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Rp({})),this.Fr(o.initMessageHeaders,t,n),Pt()||Ot()||Rt().indexOf("Electron/")>=0||Lt()||Rt().indexOf("MSAppHost/")>=0||Bt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Up("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new _w({Ar:function(e){l?Up("Connection","Not sending because WebChannel is closed:",e):(c||(Up("Connection","Opening WebChannel transport."),u.open(),c=!0),Up("Connection","WebChannel sending:",e),u.send(e))},Rr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Pp.EventType.OPEN,(function(){l||Up("Connection","WebChannel transport opened.")})),f(u,Pp.EventType.CLOSE,(function(){l||(l=!0,Up("Connection","WebChannel transport closed"),h.Cr())})),f(u,Pp.EventType.ERROR,(function(e){l||(l=!0,Qp("Connection","WebChannel transport errored:",e),h.Cr(new Gp(Wp.UNAVAILABLE,"The operation could not be completed")))})),f(u,Pp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];zp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Up("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=dg[e];if(void 0!==t)return Ag(t)}(a),s=i.message;void 0===o&&(o=Wp.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.Cr(new Gp(o,s)),u.close()}else Up("Connection","WebChannel received:",n),h.Nr(n)}})),f(a,Tp.STAT_EVENT,(function(e){e.stat===Np.PROXY?Up("Connection","Detected buffering proxy"):e.stat===Np.NOPROXY&&Up("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Dr()}),0),h}}]),n}(function(){function e(t){f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Up("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Up("RestConnection","Received: ",e),e}),(function(t){throw Qp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=Ew[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Cw(){return"undefined"!=typeof window?window:null}function Sw(){return"undefined"!=typeof document?document:null}function Tw(e){return new Wg(e,!0)}var Nw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Up("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Rw=function(){function e(t,n,r,i,a,o,s,u){f(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Nw(t,n)}return p(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Wp.RESOURCE_EXHAUSTED?(qp(n.toString()),qp("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Wp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Gp(Wp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Up("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Up("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Pw=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return f(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).O=o,u}return p(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(zp(void 0===t||"string"==typeof t),Av.fromBase64String(t||"")):(zp(void 0===t||t instanceof Uint8Array),Av.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Wp.UNKNOWN:Ag(e.code);return new Gp(t,e.message||"")}(o);n=new Ug(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=em(e,u.document.name),l=Jg(u.document.updateTime),h=new Hv({mapValue:{fields:u.document.fields}}),f=Jv.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Mg(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=em(e,v.document),g=v.readTime?Jg(v.readTime):lv.min(),m=Jv.newNoDocument(y,g),A=v.removedTargetIds||[];n=new Mg([],A,m.key,m)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=em(e,k.document),b=k.removedTargetIds||[];n=new Mg([],b,w,null)}else{if(!("filter"in t))return Vp();t.filter;var I=t.filter;I.targetId;var E=I.count||0,_=new gg(E),x=I.targetId;n=new Fg(x,_)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return lv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?lv.min():t.readTime?Jg(t.readTime):lv.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=rm(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=ay(r)?{documents:lm(e,r)}:{query:hm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Hg(e,t.resumeToken):t.snapshotVersion.compareTo(lv.min())>0&&(n.readTime=Gg(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=rm(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Rw),Dw=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return f(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).O=o,u.Po=!1,u}return p(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,ur(g(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(zp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(zp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jg(e.updateTime):Jg(t);return n.isEqual(lv.min())&&(n=Jg(t)),new $y(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jg(e.commitTime);return this.listener.Vo(n,t)}return zp(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=rm(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return um(t.O,e)}))};this.fo(n)}}]),n}(Rw),Bw=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return p(n,[{key:"No",value:function(){if(this.Co)throw new Gp(Wp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.eo.Mr(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Gp(Wp.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.eo.Lr(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Gp(Wp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return p((function e(){f(this,e)}))}()),Ow=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return p(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(qp(t),this.Oo=!1):Up("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Lw=p((function e(t,n,r,i,a){var o=this;f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Gw(o),!e.t0){e.next=5;break}return Up("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Kp(t)).Ko.add(4),e.next=4,Uw(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Mw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Ow(r,i)}));function Mw(e){return Fw.apply(this,arguments)}function Fw(){return Fw=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gw(t)){e.next=18;break}n=x(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Fw.apply(this,arguments)}function Uw(e){return qw.apply(this,arguments)}function qw(){return qw=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),qw.apply(this,arguments)}function Qw(e,t){var n=Kp(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Ww(n)?Kw(n):bb(n).co()&&Vw(n,t))}function jw(e,t){var n=Kp(e),r=bb(n);n.qo.delete(t),r.co()&&zw(n,t),0===n.qo.size&&(r.co()?r.ho():Gw(n)&&n.Qo.set("Unknown"))}function Vw(e,t){e.Wo.Z(t.targetId),bb(e).Ao(t)}function zw(e,t){e.Wo.Z(t),bb(e).Ro(t)}function Kw(e){e.Wo=new Qg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),bb(e).start(),e.Qo.Mo()}function Ww(e){return Gw(e)&&!bb(e).oo()&&e.qo.size>0}function Gw(e){return 0===Kp(e).Ko.size}function Hw(e){e.Wo=void 0}function Yw(e){return Jw.apply(this,arguments)}function Jw(){return Jw=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Vw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}function Xw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hw(t),Ww(t)?(t.Qo.Bo(n),Kw(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function $w(e,t,n){return eb.apply(this,arguments)}function eb(){return eb=Je(T().mark((function e(t,n,r){var i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Ug&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=x(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Up("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,tb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Mg?t.Wo.ct(n):n instanceof Fg?t.Wo._t(n):t.Wo.ht(n),r.isEqual(lv.min())){e.next=29;break}return e.prev=14,e.next=17,Uk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(Av.EMPTY_BYTE_STRING,n.snapshotVersion)),zw(e,t);var r=new fA(n.target,t,1,n.sequenceNumber);Vw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Up("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,tb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),eb.apply(this,arguments)}function tb(e,t,n){return nb.apply(this,arguments)}function nb(){return nb=Je(T().mark((function e(t,n,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nA(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Uw(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Uk(t.localStore)}),t.asyncQueue.enqueueRetryable(Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Up("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Mw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return t().catch((function(n){return tb(e,n,t)}))}function ib(e){return ab.apply(this,arguments)}function ab(){return ab=Je(T().mark((function e(t){var n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kp(t),r=Ib(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!ob(n)){e.next=19;break}return e.prev=3,e.next=6,jk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,sb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,tb(n,e.t0);case 17:e.next=2;break;case 19:ub(n)&&cb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ab.apply(this,arguments)}function ob(e){return Gw(e)&&e.Uo.length<10}function sb(e,t){e.Uo.push(t);var n=Ib(e);n.co()&&n.bo&&n.vo(t.mutations)}function ub(e){return Gw(e)&&!Ib(e).oo()&&e.Uo.length>0}function cb(e){Ib(e).start()}function lb(e){return hb.apply(this,arguments)}function hb(){return hb=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ib(t).Do();case 1:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}function fb(e){return db.apply(this,arguments)}function db(){return db=Je(T().mark((function e(t){var n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ib(t),r=x(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t,n){return vb.apply(this,arguments)}function vb(){return vb=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=lA.from(i,n,r),e.next=3,rb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ib(t);case 5:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function yb(e,t){return gb.apply(this,arguments)}function gb(){return gb=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ib(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mg(i=n.code)||i===Wp.ABORTED){e.next=7;break}return r=t.Uo.shift(),Ib(t).ao(),e.next=5,rb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ib(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ub(t)&&cb(t);case 5:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function mb(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Kp(t)).asyncQueue.verifyOperationInProgress(),Up("RemoteStore","RemoteStore received new credentials"),i=Gw(r),r.Ko.add(3),e.next=6,Uw(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Mw(r);case 12:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function kb(e,t){return wb.apply(this,arguments)}function wb(){return wb=Je(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kp(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Mw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Uw(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function bb(e){return e.zo||(e.zo=function(e,t,n){var r=Kp(e);return r.No(),new Pw(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Yw.bind(null,e),vr:Xw.bind(null,e),To:$w.bind(null,e)}),e.Go.push(function(){var t=Je(T().mark((function t(n){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Ww(e)?Kw(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Hw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function Ib(e){return e.Ho||(e.Ho=function(e,t,n){var r=Kp(e);return r.No(),new Dw(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:lb.bind(null,e),vr:yb.bind(null,e),So:fb.bind(null,e),Vo:pb.bind(null,e)}),e.Go.push(function(){var t=Je(T().mark((function t(n){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,ib(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Up("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Eb=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gp(Wp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function _b(e,t){if(qp("AsyncQueue","".concat(t,": ").concat(e)),nA(e))return new Gp(Wp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xb=function(){function e(t){f(this,e),this.comparator=t?function(e,n){return t(e,n)||Pv.comparator(e.key,n.key)}:function(e,t){return Pv.comparator(e.key,t.key)},this.keyedMap=Tg(),this.sortedSet=new kg(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Cb=function(){function e(){f(this,e),this.Jo=new kg(Pv.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Vp():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Sb=function(){function e(t,n,r,i,a,o,s,u){f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ry(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,xb.emptySet(n),a,r,i,!0,!1)}}]),e}(),Tb=p((function e(){f(this,e),this.Xo=void 0,this.listeners=[]})),Nb=p((function e(){f(this,e),this.queries=new yk((function(e){return Py(e)}),Ry),this.onlineState="Unknown",this.Zo=new Set}));function Rb(e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=Je(T().mark((function e(t,n){var r,i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Tb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=_b(e.t0,"Initialization of query '".concat(Dy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&Mb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pb.apply(this,arguments)}function Db(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=Je(T().mark((function e(t,n){var r,i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function Ob(e,t){var n,r=Kp(e),i=!1,a=x(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=x(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Xo=o}}}catch(h){a.e(h)}finally{a.f()}i&&Mb(r)}function Lb(e,t,n){var r=Kp(e),i=r.queries.get(t);if(i){var a,o=x(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Mb(e){e.Zo.forEach((function(e){e.next()}))}var Fb=function(){function e(t,n,r){f(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=x(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Sb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Sb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Ub=function(){function e(t,n){f(this,e),this.payload=t,this.byteLength=n}return p(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),qb=function(){function e(t){f(this,e),this.O=t}return p(e,[{key:"Gs",value:function(e){return em(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?om(this.O,e.document,!1):Jv.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Jg(e)}}]),e}(),Qb=function(){function e(t,n,r){f(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=jb(t)}return p(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new qb(this.O),i=x(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Gs(a.metadata.name),u=x(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Pg()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Je(T().mark((function e(){var t,n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xk(this.localStore,new qb(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=x(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,$k(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Nk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function jb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Vb=p((function e(t){f(this,e),this.key=t})),zb=p((function e(t){f(this,e),this.key=t})),Kb=function(){function e(t,n){f(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Pg(),this.mutatedKeys=Pg(),this.mc=Oy(t),this.gc=new xb(this.mc)}return p(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Cb,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Iy(this.query)&&i.size===this.query.limit?i.last():null,c=Ey(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=By(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Tc(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.mc(h,u)>0||c&&n.mc(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Iy(this.query)||Ey(this.query))for(;o.size>this.query.limit;){var l=Iy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:s,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vp()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],s=0===this.wc.size&&this.current?1:0,u=s!==this._c;return this._c=s,0!==a.length||u?{snapshot:new Sb(this.query,e.gc,i,a,e.mutatedKeys,0===s,u,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Cb,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Pg(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new zb(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new Vb(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Pg();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Sb.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),Wb=p((function e(t,n,r){f(this,e),this.query=t,this.targetId=n,this.view=r})),Gb=p((function e(t){f(this,e),this.key=t,this.Sc=!1})),Hb=function(){function e(t,n,r,i,a,o){f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new yk((function(e){return Py(e)}),Ry),this.Nc=new Map,this.xc=new Set,this.kc=new kg(Pv.comparator),this.Oc=new Map,this.Mc=new rw,this.$c={},this.Fc=new Map,this.Bc=rk.Je(),this.onlineState="Unknown",this.Lc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Yb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=Je(T().mark((function e(t,n){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jI(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Vk(r.localStore,Ty(n));case 8:return s=e.sent,r.isPrimaryClient&&Qw(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Xb(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Xb(e,t,n,r){return Zb.apply(this,arguments)}function Zb(){return Zb=Je(T().mark((function e(t,n,r,i){var a,o,s,u,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=Je(T().mark((function e(t,n,r,i){var a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,Wk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(mI(t,n.targetId,s.Pc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Wk(t.localStore,n,!0);case 3:return a=e.sent,o=new Kb(n,a.Ks),s=o.Ic(a.documents),u=Lg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),mI(t,r,c.Pc),l=new Wb(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function $b(e,t){return eI.apply(this,arguments)}function eI(){return eI=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kp(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Ry(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,zk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jw(r.remoteStore,i.targetId),yI(r,i.targetId)})).catch(uk);case 9:e.next=14;break;case 11:return yI(r,i.targetId),e.next=14,zk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e,t,n){return nI.apply(this,arguments)}function nI(){return nI=Je(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=VI(t),e.prev=1,e.next=4,function(e,t){var n,r=Kp(e),i=cv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Pg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,s=[],u=x(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ag(c,n.get(c.key));null!=l&&s.push(new cg(c.key,l,Yv(l.value.mapValue),eg.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.gs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new kg(ov)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,wI(i,a.changes);case 9:return e.next=11,ib(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=_b(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),nI.apply(this,arguments)}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.prev=1,e.next=4,qk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(zp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?zp(n.Sc):e.removedDocuments.size>0&&(zp(n.Sc),n.Sc=!1))})),e.next=8,wI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),iI.apply(this,arguments)}function aI(e,t,n){var r=Kp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Kp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=x(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Mb(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function oI(e,t,n){return sI.apply(this,arguments)}function sI(){return sI=Je(T().mark((function e(t,n,r){var i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Kp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new kg(Pv.comparator)).insert(o,Jv.newNoDocument(o,lv.min())),u=Pg().add(o),c=new Og(lv.min(),new Map,new Ig(ov),s,u),e.next=9,rI(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),kI(i),e.next=16;break;case 14:return e.next=16,zk(i.localStore,n,!1).then((function(){return yI(i,n,r)})).catch(uk);case 16:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function uI(e,t){return cI.apply(this,arguments)}function cI(){return cI=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),i=n.batch.batchId,e.prev=1,e.next=4,Fk(r.localStore,n);case 4:return a=e.sent,vI(r,i,null),pI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,wI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cI.apply(this,arguments)}function lI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kp(t),e.prev=1,e.next=4,function(e,t){var n=Kp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return zp(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,vI(i,n,r),pI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,wI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hI.apply(this,arguments)}function fI(e,t){return dI.apply(this,arguments)}function dI(){return dI=Je(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gw((r=Kp(t)).remoteStore)||Up("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Kp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=_b(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),dI.apply(this,arguments)}function pI(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function vI(e,t,n){var r=Kp(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function yI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=x(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||gI(e,t)}))}function gI(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(jw(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),kI(e))}function mI(e,t,n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Vb?(e.Mc.addReference(a.key,t),AI(e,a)):a instanceof zb?(Up("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||gI(e,a.key)):Vp()}}catch(o){i.e(o)}finally{i.f()}}function AI(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Up("SyncEngine","New document in limbo: "+n),e.xc.add(r),kI(e))}function kI(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Pv(vv.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Gb(n)),e.kc=e.kc.insert(n,r),Qw(e.remoteStore,new fA(Ty(by(n.path)),r,2,rv.A))}}function wI(e,t,n){return bI.apply(this,arguments)}function bI(){return bI=Je(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Kp(t),a=[],o=[],s=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){s.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Pk.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Dc.To(a),e.next=9,function(){var e=Je(T().mark((function e(t,n){var r,i,a,o,s,u,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Xm.forEach(n,(function(t){return Xm.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Xm.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),nA(e.t0)){e.next=10;break}throw e.t0;case 10:Up("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=x(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ms.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function II(e,t){return EI.apply(this,arguments)}function EI(){return EI=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Kp(t)).currentUser.isEqual(n)){e.next=11;break}return Up("SyncEngine","User change. New user:",n.toKey()),e.next=5,Lk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Gp(Wp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,wI(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function _I(e,t){var n=Kp(e),r=n.Oc.get(t);if(r&&r.Sc)return Pg().add(r.key);var i=Pg(),a=n.Nc.get(t);if(!a)return i;var o,s=x(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Cc.get(u);i=i.unionWith(c.view.yc)}}catch(l){s.e(l)}finally{s.f()}return i}function xI(e,t){return CI.apply(this,arguments)}function CI(){return CI=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.next=3,Wk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&mI(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}function SI(e){return TI.apply(this,arguments)}function TI(){return TI=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kp(t),e.abrupt("return",Hk(n.localStore).then((function(e){return wI(n,e)})));case 2:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function NI(e,t,n,r){return RI.apply(this,arguments)}function RI(){return RI=Je(T().mark((function e(t,n,r,i){var a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kp(t),e.next=3,function(e,t){var n=Kp(e),r=Kp(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Xm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ib(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(vI(a,n,i||null),pI(a,n),function(e,t){Kp(Kp(e).gs).Qe(t)}(a.localStore,n)):Vp();case 11:return e.next=13,wI(a,o);case 13:e.next=16;break;case 15:Up("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function PI(e,t){return DI.apply(this,arguments)}function DI(){return DI=Je(T().mark((function e(t,n){var r,i,a,o,s,u,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jI(r=Kp(t)),VI(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,BI(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,kb(r.remoteStore,!0);case 9:o=x(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Qw(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yI(r,t),zk(r.localStore,t,!0)})),jw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,BI(r,c);case 21:return function(e){var t=Kp(e);t.Oc.forEach((function(e,n){jw(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new kg(Pv.comparator)}(r),r.Lc=!1,e.next=25,kb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function BI(e,t,n){return OI.apply(this,arguments)}function OI(){return OI=Je(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,y,g;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Kp(t),a=[],o=[],s=x(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.Nc.get(c))||0===h.length){e.next=34;break}return e.next=11,Vk(i.localStore,Ty(h[0]));case 11:l=e.sent,f=x(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,xI(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Gk(i.localStore,c);case 36:return g=e.sent,e.next=39,Vk(i.localStore,g);case 39:return l=e.sent,e.next=42,Xb(i,LI(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),OI.apply(this,arguments)}function LI(e){return wy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MI(e){var t=Kp(e);return Kp(Kp(t.localStore).persistence).ds()}function FI(e,t,n,r){return UI.apply(this,arguments)}function UI(){return UI=Je(T().mark((function e(t,n,r,i){var a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Kp(t)).Lc){e.next=5;break}Up("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Hk(a.localStore);case 11:return o=e.sent,s=Og.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,wI(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,zk(a.localStore,n,!0);case 18:return yI(a,n,i),e.abrupt("break",21);case 20:Vp();case 21:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function qI(e,t,n){return QI.apply(this,arguments)}function QI(){return QI=Je(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jI(t)).Lc){e.next=45;break}a=x(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Nc.has(s)){e.next=10;break}return Up("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Gk(i.localStore,s);case 12:return u=e.sent,e.next=15,Vk(i.localStore,u);case 15:return c=e.sent,e.next=18,Xb(i,LI(u),c.targetId,!1);case 18:Qw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=x(r),e.prev=30,f=T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,zk(i.localStore,t,!1).then((function(){jw(i.remoteStore,t),yI(i,t)})).catch(uk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),QI.apply(this,arguments)}function jI(e){var t=Kp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oI.bind(null,t),t.Dc.To=Ob.bind(null,t.eventManager),t.Dc.qc=Lb.bind(null,t.eventManager),t}function VI(e){var t=Kp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,t),t}function zI(e,t,n){var r=Kp(e);(function(){var e=Je(T().mark((function e(t,n,r){var i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Kp(e),r=Jg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(jb(i)),a=new Qb(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,wI(t,u.ws,void 0);case 30:return e.next=32,function(e,t){var n=Kp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Qp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var KI=function(){function e(){f(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Tw(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return Ok(this.persistence,new Dk,e.initialUser,this.O)}},{key:"jc",value:function(e){return new cw(hw.bi,this.O)}},{key:"Gc",value:function(e){return new ww}},{key:"terminate",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),WI=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=Je(T().mark((function e(t){var r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Yk(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,VI(this.zc.syncEngine);case 8:return e.next=10,ib(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return Ok(this.persistence,new Dk,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new fk(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?YA.withCacheSize(this.cacheSizeBytes):YA.DEFAULT;return new xk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cw(),Sw(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new ww}}]),n}(KI),GI=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=Je(T().mark((function e(t){var r,i=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof kw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:NI.bind(null,r),lr:FI.bind(null,r),dr:qI.bind(null,r),ds:MI.bind(null,r),ar:SI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PI(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=Cw();if(!kw.Vt(t))throw new Gp(Wp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(WI),HI=function(){function e(){f(this,e)}return p(e,[{key:"initialize",value:function(){var e=Je(T().mark((function e(t,n){var r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return aI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,this.syncEngine),e.next=12,kb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Nb}},{key:"createDatastore",value:function(e){var t,n=Tw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xw(t));return function(e,t,n,r){return new Bw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return aI(o.syncEngine,e,0)},a=Iw.Vt()?new Iw:new bw,new Lw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Hb(e,t,n,r,i,a);return o&&(s.Lc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kp(t),Up("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Uw(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function YI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Je(T().mark((function r(){var i;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var JI=function(){function e(t){f(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),XI=function(){function e(t,n){var r=this;f(this,e),this.Yc=t,this.O=n,this.metadata=new Hp,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=Je(T().mark((function e(){var t,n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Ub(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=Je(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=Je(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ZI=function(){function e(t){f(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=Je(T().mark((function e(t){var n,r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Gp(Wp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Je(T().mark((function e(t,n){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),i=rm(r.O)+"/documents",a={documents:n.map((function(e){return $g(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=sm(r.O,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());zp(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new vg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Je(T().mark((function e(){var t,n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Pv.fromPath(t);n.mutations.push(new yg(r,n.precondition(r)))})),e.next=7,function(){var e=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),i=rm(r.O)+"/documents",a={writes:n.map((function(e){return um(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vp();t=lv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gp(Wp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?eg.updateTime(t):eg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(lv.min()))throw new Gp(Wp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return eg.updateTime(t)}return eg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$I=function(){function e(t,n,r,i){f(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new Nw(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(Je(T().mark((function t(){var n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ZI(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!Tv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!mg(t)}return!1}}]),e}(),eE=function(){function e(t,n,r,i){var a=this;f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Op.UNAUTHENTICATED,this.clientId=av.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Up("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Up("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Gp(Wp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Je(T().mark((function n(){var r;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=_b(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Up("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Lk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,aE(t);case 3:return r=e.sent,Up("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return mb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return mb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e){return oE.apply(this,arguments)}function oE(){return oE=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Up("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,tE(t,new KI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function sE(e){return uE.apply(this,arguments)}function uE(){return uE=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Up("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,rE(t,new HI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function cE(e){return aE(e).then((function(e){return e.persistence}))}function lE(e){return aE(e).then((function(e){return e.localStore}))}function hE(e){return sE(e).then((function(e){return e.remoteStore}))}function fE(e){return sE(e).then((function(e){return e.syncEngine}))}function dE(e){return pE.apply(this,arguments)}function pE(){return pE=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Yb.bind(null,n.syncEngine),r.onUnlisten=$b.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function i(){return T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JI({next:function(a){t.enqueueAndForget((function(){return Db(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Gp(Wp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Gp(Wp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Fb(by(n.path),a,{includeMetadataChanges:!0,uc:!0});return Rb(e,o)},i.next=3,dE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function yE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function i(){return T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JI({next:function(n){t.enqueueAndForget((function(){return Db(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Gp(Wp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Fb(n,a,{includeMetadataChanges:!0,uc:!0});return Rb(e,o)},i.next=3,dE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var gE=new Map;function mE(e,t,n){if(!n)throw new Gp(Wp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function AE(e,t,n,r){if(!0===t&&!0===r)throw new Gp(Wp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function kE(e){if(!Pv.isDocumentKey(e))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function wE(e){if(Pv.isDocumentKey(e))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Vp()}function IE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gp(Wp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bE(e);throw new Gp(Wp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function EE(e,t){if(t<=0)throw new Gp(Wp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var _E=function(){function e(t){var n;if(f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Gp(Wp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gp(Wp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,AE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),xE=function(){function e(t,n,r){f(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,t instanceof Sv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gp(Wp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sv(e.options.projectId)}(t))}return p(e,[{key:"app",get:function(){if(!this._app)throw new Gp(Wp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Gp(Wp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jp;switch(e.type){case"gapi":var t=e.client;return zp(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ev(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Gp(Wp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=gE.get(e);t&&(Up("ComponentProvider","Removing Datastore"),gE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function CE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=IE(e,xE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Qp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Op.MOCK_USER;else{o=Nt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Gp(Wp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Op(u)}e._authCredentials=new Xp(new Yp(o,s))}}var SE=function(){function e(t,n,r){f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new NE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),TE=function(){function e(t,n,r){f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),NE=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,by(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new SE(this.firestore,null,new Pv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(TE);function RE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hn(e),mE("collection","path",t),e instanceof xE){var a=vv.fromString.apply(vv,[t].concat(r));return wE(a),new NE(e,null,a)}if(!(e instanceof SE||e instanceof NE))throw new Gp(Wp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vv.fromString.apply(vv,[t].concat(r)));return wE(o),new NE(e.firestore,null,o)}function PE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hn(e),1===arguments.length&&(t=av.R()),mE("doc","path",t),e instanceof xE){var a=vv.fromString.apply(vv,[t].concat(r));return kE(a),new SE(e,null,new Pv(a))}if(!(e instanceof SE||e instanceof NE))throw new Gp(Wp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vv.fromString.apply(vv,[t].concat(r)));return kE(o),new SE(e.firestore,e instanceof NE?e.converter:null,new Pv(o))}function DE(e,t){return e=hn(e),t=hn(t),(e instanceof SE||e instanceof NE)&&(t instanceof SE||t instanceof NE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BE(e,t){return e=hn(e),t=hn(t),e instanceof TE&&t instanceof TE&&e.firestore===t.firestore&&Ry(e._query,t._query)&&e.converter===t.converter}var OE=function(){function e(){var t=this;f(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Nw(this,"async_queue_retry"),this.yu=function(){var e=Sw();e&&Up("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Sw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return p(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Sw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Hp;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=Je(T().mark((function e(){var t=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),nA(e.t0)){e.next=12;break}throw e.t0;case 12:Up("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Eb.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Vp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=x(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=x(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function LE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=x(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ME=function(){function e(){f(this,e),this._progressObserver={},this._taskCompletionResolver=new Hp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),FE=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new OE,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||qE(this),this._firestoreClient.terminate()}}]),n}(xE);function UE(e){return e._firestoreClient||qE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new eE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function QE(e,t,n){var r=new Hp;return e.asyncQueue.enqueue(Je(T().mark((function i(){return T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tE(e,n);case 3:return i.next=5,rE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Wp.FAILED_PRECONDITION||e.code===Wp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function jE(e){return function(e){return e.asyncQueue.enqueue(Je(T().mark((function t(){var n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cE(e);case 2:return n=t.sent,t.next=5,hE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Kp(e);return t.Ko.delete(0),Mw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(UE(e=IE(e,FE)))}function VE(e){return function(e){return e.asyncQueue.enqueue(Je(T().mark((function t(){var n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cE(e);case 2:return n=t.sent,t.next=5,hE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Kp(t)).Ko.add(0),e.next=4,Uw(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(UE(e=IE(e,FE)))}function zE(e,t){var n=UE(e=IE(e,FE)),r=new ME;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new XI(e,t)}(function(e,t){if(e instanceof Uint8Array)return YI(e,t);if(e instanceof ArrayBuffer)return YI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Tw(t));e.asyncQueue.enqueueAndForget(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zI,t.next=3,fE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function KE(e,t){return function(e,t){return e.asyncQueue.enqueue(Je(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Kp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,lE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(UE(e=IE(e,FE)),t).then((function(t){return t?new TE(e,null,t.query):null}))}function WE(e){if(e._initialized||e._terminated)throw new Gp(Wp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var GE=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gv(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var HE=function(){function e(t){f(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Av.fromBase64String(t))}catch(t){throw new Gp(Wp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Av.fromUint8Array(t))}}]),e}(),YE=p((function e(t){f(this,e),this._methodName=t})),JE=function(){function e(t,n){if(f(this,e),!isFinite(t)||t<-90||t>90)throw new Gp(Wp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Gp(Wp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ov(this._lat,e._lat)||ov(this._long,e._long)}}]),e}(),XE=/^__.*__$/,ZE=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new cg(e,this.data,this.fieldMask,t,this.fieldTransforms):new ug(e,this.data,t,this.fieldTransforms)}}]),e}(),$E=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new cg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function e_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vp()}}var t_=function(){function e(t,n,r,i,a,o){f(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return w_(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(e_(this.Vu)&&XE.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),n_=function(){function e(t,n,r){f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||Tw(t)}return p(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new t_({Vu:e,methodName:t,$u:n,path:gv.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function r_(e){var t=e._freezeSettings(),n=Tw(e._databaseId);return new n_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function i_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);g_("Data must be an object, but it was:",o,r);var s,u,c=v_(r,o);if(a.merge)s=new mv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=x(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=m_(t,d,n);if(!o.contains(p))throw new Gp(Wp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));b_(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new mv(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new ZE(new Hv(c),s,u)}var a_=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YE);function o_(e,t,n){return new t_({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var s_=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new Zy(e.path,new zy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YE),u_=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).Bu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=o_(this,e,!0),n=this.Bu.map((function(e){return p_(e,t)})),r=new Ky(n);return new Zy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YE),c_=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).Bu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=o_(this,e,!0),n=this.Bu.map((function(e){return p_(e,t)})),r=new Gy(n);return new Zy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YE),l_=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).Lu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new Yy(e.O,Uy(e.O,this.Lu));return new Zy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YE);function h_(e,t,n,r){var i=e.Fu(1,t,n);g_("Data must be an object, but it was:",i,r);var a=[],o=Hv.empty();fv(r,(function(e,r){var s=k_(t,e,n);r=hn(r);var u=i.xu(s);if(r instanceof a_)a.push(s);else{var c=p_(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new mv(a);return new $E(o,s,i.fieldTransforms)}function f_(e,t,n,r,i,a){var o=e.Fu(1,t,n),s=[m_(t,r,n)],u=[i];if(a.length%2!=0)throw new Gp(Wp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(m_(t,a[c])),u.push(a[c+1]);for(var l=[],h=Hv.empty(),f=s.length-1;f>=0;--f)if(!b_(l,s[f])){var d=s[f],p=u[f];p=hn(p);var v=o.xu(d);if(p instanceof a_)l.push(d);else{var y=p_(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new mv(l);return new $E(h,g,o.fieldTransforms)}function d_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return p_(n,e.Fu(r?4:3,t))}function p_(e,t){if(y_(e=hn(e)))return g_("Unsupported field value:",t,e),v_(e,t);if(e instanceof YE)return function(e,t){if(!e_(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=x(e);try{for(a.s();!(n=a.n()).done;){var o=p_(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=hn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Uy(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=cv.fromDate(e);return{timestampValue:Gg(t.O,n)}}if(e instanceof cv){var r=new cv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gg(t.O,r)}}if(e instanceof JE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HE)return{bytesValue:Hg(t.O,e._byteString)};if(e instanceof SE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Xg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(bE(e)))}(e,t)}function v_(e,t){var n={};return dv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fv(e,(function(e,r){var i=p_(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function y_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cv||e instanceof JE||e instanceof HE||e instanceof SE||e instanceof YE)}function g_(e,t,n){if(!y_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=bE(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function m_(e,t,n){if((t=hn(t))instanceof GE)return t._internalPath;if("string"==typeof t)return k_(e,t);throw w_("Field path arguments must be of type string or ",e,!1,void 0,n)}var A_=new RegExp("[~\\*/\\[\\]]");function k_(e,t,n){if(t.search(A_)>=0)throw w_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(GE,h(t.split(".")))._internalPath}catch(r){throw w_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function w_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Gp(Wp.INVALID_ARGUMENT,s+e+u)}function b_(e,t){return e.some((function(e){return e.isEqual(t)}))}var I_=function(){function e(t,n,r,i,a){f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new SE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new E_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(__("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),E_=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return ur(g(n.prototype),"data",this).call(this)}}]),n}(I_);function __(e,t){return"string"==typeof t?k_(e,t):t instanceof GE?t._internalPath:t._delegate._internalPath}var x_=function(){function e(t,n){f(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),C_=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return f(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return p(n,[{key:"exists",value:function(){return ur(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new S_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(__("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(I_),S_=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ur(g(n.prototype),"data",this).call(this,e)}}]),n}(C_),T_=function(){function e(t,n,r,i){f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new x_(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new S_(n._firestore,n._userDataWriter,r.key,r,new x_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gp(Wp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new S_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new x_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new S_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new x_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:N_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function N_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vp()}}function R_(e,t){return e instanceof C_&&t instanceof C_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof T_&&t instanceof T_&&e._firestore===t._firestore&&BE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function P_(e){if(Ey(e)&&0===e.explicitOrderBy.length)throw new Gp(Wp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var D_=p((function e(){f(this,e)}));function B_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var O_=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=r_(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){W_(o,a);var u,c=[],l=x(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(K_(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=K_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||W_(o,a),s=d_(n,"where",o,"in"===a||"not-in"===a);var f=oy.create(i,a,s);return function(e,t){if(t.S()){var n=xy(e);if(null!==n&&!n.isEqual(t.field))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=_y(e);null!==r&&G_(e,t.field,r)}var i=function(e,t){var n,r=x(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Gp(Wp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gp(Wp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new TE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(D_);var L_=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yy(t,n);return function(e,t){if(null===_y(e)){var n=xy(e);null!==n&&G_(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new TE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ky(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(D_);var M_=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return p(n,[{key:"_apply",value:function(e){return new TE(e.firestore,e.converter,Ny(e._query,this.ju,this.Qu))}}]),n}(D_);var F_=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return p(n,[{key:"_apply",value:function(e){var t=z_(e,this.type,this.Wu,this.zu);return new TE(e.firestore,e.converter,function(e,t){return new ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(D_);function U_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new F_("startAt",t,!0)}function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new F_("startAfter",t,!1)}var Q_=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return p(n,[{key:"_apply",value:function(e){var t=z_(e,this.type,this.Wu,this.zu);return new TE(e.firestore,e.converter,function(e,t){return new ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(D_);function j_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Q_("endBefore",t,!1)}function V_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Q_("endAt",t,!0)}function z_(e,t,n,r){if(n[0]=hn(n[0]),n[0]instanceof I_)return function(e,t,n,r,i){if(!r)throw new Gp(Wp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=x(Sy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Qv(t,r.key));else{var c=r.data.field(u.field);if(Ev(c))throw new Gp(Wp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new vy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=r_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Gp(Wp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Cy(e)&&-1!==c.indexOf("/"))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(vv.fromString(c));if(!Pv.isDocumentKey(l))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new Pv(l);s.push(Qv(t,h))}else{var f=d_(n,r,c);s.push(f)}}return new vy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function K_(e,t,n){if("string"==typeof(n=hn(n))){if(""===n)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cy(t)&&-1!==n.indexOf("/"))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(vv.fromString(n));if(!Pv.isDocumentKey(r))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qv(e,new Pv(r))}if(n instanceof SE)return Qv(e,n._key);throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bE(n),"."))}function W_(e,t){if(!Array.isArray(e)||0===e.length)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function G_(e,t,n){if(!n.isEqual(t))throw new Gp(Wp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var H_=function(){function e(){f(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Iv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return fv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new JE(bv(e.latitude),bv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=_v(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=wv(e);return new cv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=vv.fromString(e);zp(wm(n));var r=new Sv(n.get(1),n.get(3)),i=new Pv(n.popFirst(5));return r.isEqual(t)||qp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Y_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var J_=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new HE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new SE(this.firestore,null,t)}}]),n}(H_),X_=function(){function e(t,n){f(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=r_(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Z_(e,this._firestore),i=Y_(r.converter,t,n),a=i_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,eg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Z_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=hn(t))||t instanceof GE?f_(this._dataReader,"WriteBatch.update",i._key,t,n,o):h_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,eg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Z_(e,this._firestore);return this._mutations=this._mutations.concat(new vg(t._key,eg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Gp(Wp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Z_(e,t){if((e=hn(e)).firestore!==t)throw new Gp(Wp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $_=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new HE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new SE(this.firestore,null,t)}}]),n}(H_);function ex(e){e=IE(e,SE);var t=IE(e.firestore,FE),n=UE(t),r=new $_(t);return function(e,t){var n=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function r(){return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Je(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Kp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Gp(Wp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=_b(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,lE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new C_(t,r,e._key,n,new x_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function tx(e){e=IE(e,TE);var t=IE(e.firestore,FE),n=UE(t),r=new $_(t);return function(e,t){var n=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function r(){return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Je(T().mark((function e(t,n,r){var i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wk(t,n,!0);case 3:i=e.sent,a=new Kb(n,i.Ks),o=a.Ic(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=_b(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,lE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new T_(t,r,e,n)}))}function nx(e,t,n){e=IE(e,SE);var r=IE(e.firestore,FE),i=Y_(e.converter,t,n);return ox(r,[i_(r_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,eg.none())])}function rx(e,t,n){e=IE(e,SE);for(var r=IE(e.firestore,FE),i=r_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ox(r,[("string"==typeof(t=hn(t))||t instanceof GE?f_(i,"updateDoc",e._key,t,n,o):h_(i,"updateDoc",e._key,t)).toMutation(e._key,eg.exists(!0))])}function ix(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=hn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||LE(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(LE(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof SE)l=IE(e.firestore,FE),h=by(e._key.path),c={next:function(t){n[u]&&n[u](sx(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=IE(e,TE);l=IE(p.firestore,FE),h=p._query;var v=new $_(l);c={next:function(e){n[u]&&n[u](new T_(l,v,p,e))},error:n[u+1],complete:n[u+2]},P_(e._query)}return function(e,t,n,r){var i=new JI(r),a=new Fb(t,i,n);return e.asyncQueue.enqueueAndForget(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rb,t.next=3,dE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Db,t.next=3,dE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(UE(l),h,f,c)}function ax(e,t){return function(e,t){var n=new JI(t);return e.asyncQueue.enqueueAndForget(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Kp(e).Zo.add(t),t.next()},t.next=3,dE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(Je(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Kp(e).Zo.delete(t)},t.next=3,dE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(UE(e=IE(e,FE)),LE(t)?t:{next:t})}function ox(e,t){return function(e,t){var n=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function r(){return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=tI,r.next=3,fE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(UE(e),t)}function sx(e,t,n){var r=n.docs.get(t._key),i=new $_(e);return new C_(e,i,t._key,r,new x_(n.hasPendingWrites,n.fromCache),t.converter)}var ux=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=Z_(e,this._firestore),i=new $_(this._firestore);return ur(g(n.prototype),"get",this).call(this,e).then((function(e){return new C_(t._firestore,i,r._key,e._document,new x_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){f(this,e),this._firestore=t,this._transaction=n,this._dataReader=r_(t)}return p(e,[{key:"get",value:function(e){var t=this,n=Z_(e,this._firestore),r=new J_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Vp();var i=e[0];if(i.isFoundDocument())return new I_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new I_(t._firestore,r,n._key,null,n.converter);throw Vp()}))}},{key:"set",value:function(e,t,n){var r=Z_(e,this._firestore),i=Y_(r.converter,t,n),a=i_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Z_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=hn(t))||t instanceof GE?f_(this._dataReader,"Transaction.update",i._key,t,n,o):h_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Z_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function cx(e,t){return function(e,t){var n=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function r(){var i;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return sE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new $I(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(UE(e=IE(e,FE)),(function(n){return t(new ux(e,n))}))}function lx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new u_("arrayUnion",t)}function hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new c_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lp=e}(Kn),Ln(new fn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new FE(i,new Zp(e.getProvider("auth-internal")),new nv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Xn(Bp,"3.4.5",e),Xn(Bp,"3.4.5","esm2017")}();function fx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function dx(){if("undefined"===typeof Uint8Array)throw new Gp("unimplemented","Uint8Arrays are not available in this environment.")}function px(){if("undefined"==typeof atob)throw new Gp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var vx=function(){function e(t){f(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return px(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return dx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return px(),new e(HE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return dx(),new e(HE.fromUint8Array(t))}}]),e}();function yx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=x(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var gx=function(){function e(){f(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){WE(e=IE(e,FE));var n=UE(e),r=e._freezeSettings(),i=new HI;return QE(n,i,new WI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){WE(e=IE(e,FE));var t=UE(e),n=e._freezeSettings(),r=new HI;return QE(t,r,new GI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Gp(Wp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Hp;return e._queue.enqueueAndForgetEvenWhileRestricted(Je(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Je(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($m.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$m.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Tk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),mx=function(){function e(t,n,r){var i=this;f(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Sv||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Qp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jE(this._delegate)}},{key:"disableNetwork",value:function(){return VE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&AE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Hp;return e.asyncQueue.enqueueAndForget(Je(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=fI,n.next=3,fE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(UE(e=IE(e,FE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ax(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Gp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Px(this,RE(this._delegate,e))}catch(t){throw Ex(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ix(this,PE(this._delegate,e))}catch(t){throw Ex(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Tx(this,function(e,t){if(e=IE(e,xE),mE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gp(Wp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new TE(e,null,function(e){return new ky(vv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Ex(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return cx(this._delegate,(function(n){return e(new kx(t,n))}))}},{key:"batch",value:function(){var e=this;return UE(this._delegate),new wx(new X_(this._delegate,(function(t){return ox(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return zE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return KE(this._delegate,e).then((function(e){return e?new Tx(t,e):null}))}}]),e}(),Ax=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new vx(new HE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ix.forKey(t,this.firestore,null)}}]),n}(H_);var kx=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return p(e,[{key:"get",value:function(e){var t=this,n=Dx(e);return this._delegate.get(n).then((function(e){return new Cx(t._firestore,new C_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Dx(e);return n?(fx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Dx(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Dx(e);return this._delegate.delete(t),this}}]),e}(),wx=function(){function e(t){f(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=Dx(e);return n?(fx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Dx(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Dx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),bx=function(){function e(t,n,r){f(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new S_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sx(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ax(t),n),i.set(n,a)),a}}]),e}();bx.INSTANCES=new WeakMap;var Ix=function(){function e(t,n){f(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Px(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Px(this.firestore,RE(this._delegate,e))}catch(t){throw Ex(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=hn(e))instanceof SE&&DE(this._delegate,e)}},{key:"set",value:function(e,t){t=fx("DocumentReference.set",t);try{return t?nx(this._delegate,e,t):nx(this._delegate,e)}catch(n){throw Ex(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?rx(this._delegate,e):rx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Ex(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ox(IE(e.firestore,FE),[new vg(e._key,eg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_x(n),a=xx(n,(function(t){return new Cx(e.firestore,new C_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ix(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ex(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=IE(e,SE);var t=IE(e.firestore,FE);return vE(UE(t),e._key,{source:"server"}).then((function(n){return sx(t,e,n)}))}(this._delegate):function(e){e=IE(e,SE);var t=IE(e.firestore,FE);return vE(UE(t),e._key).then((function(n){return sx(t,e,n)}))}(this._delegate),t.then((function(e){return new Cx(n.firestore,new C_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(bx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Gp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new SE(n._delegate,r,new Pv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new SE(n._delegate,r,t))}}]),e}();function Ex(e,t,n){return e.message=e.message.replace(t,n),e}function _x(e){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!yx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=yx(e[0])?e[0]:yx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cx=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new Ix(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return R_(this._delegate,e._delegate)}}]),e}(),Sx=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Vp()}(void 0!==t),t}}]),n}(Cx),Tx=function(){function e(t,n){f(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,B_(this._delegate,function(e,t,n){var r=t,i=__("where",e);return new O_(i,r,n)}(t,n,r)))}catch(i){throw Ex(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,B_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=__("orderBy",e);return new L_(n,t)}(t,n)))}catch(r){throw Ex(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,B_(this._delegate,function(e){return EE("limit",e),new M_("limit",e,"F")}(t)))}catch(n){throw Ex(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,B_(this._delegate,function(e){return EE("limitToLast",e),new M_("limitToLast",e,"L")}(t)))}catch(n){throw Ex(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,B_(this._delegate,U_.apply(void 0,arguments)))}catch(t){throw Ex(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,B_(this._delegate,q_.apply(void 0,arguments)))}catch(t){throw Ex(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,B_(this._delegate,j_.apply(void 0,arguments)))}catch(t){throw Ex(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,B_(this._delegate,V_.apply(void 0,arguments)))}catch(t){throw Ex(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return BE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=IE(e,TE);var t=IE(e.firestore,FE),n=UE(t),r=new $_(t);return yE(n,e._query,{source:"server"}).then((function(n){return new T_(t,r,e,n)}))}(this._delegate):function(e){e=IE(e,TE);var t=IE(e.firestore,FE),n=UE(t),r=new $_(t);return P_(e._query),yE(n,e._query).then((function(n){return new T_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Rx(n.firestore,new T_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_x(n),a=xx(n,(function(t){return new Rx(e.firestore,new T_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ix(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(bx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Nx=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Sx(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Rx=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new Tx(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Sx(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Nx(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Sx(n._firestore,r))}))}},{key:"isEqual",value:function(e){return R_(this._delegate,e._delegate)}}]),e}(),Px=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Ix(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Ix(this.firestore,void 0===e?PE(this._delegate):PE(this._delegate,e))}catch(t){throw Ex(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=IE(e.firestore,FE),r=PE(e),i=Y_(e.converter,t);return ox(n,[i_(r_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,eg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ix(t.firestore,e)}))}},{key:"isEqual",value:function(e){return DE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(bx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Tx);function Dx(e){return IE(e,SE)}var Bx=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(GE,n)}return p(e,[{key:"isEqual",value:function(e){return(e=hn(e))instanceof GE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gv.keyField().canonicalString())}}]),e}(),Ox=function(){function e(t){f(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new s_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new a_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=lx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new l_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Lx={Firestore:mx,GeoPoint:JE,Timestamp:cv,Blob:vx,Transaction:kx,WriteBatch:wx,DocumentReference:Ix,DocumentSnapshot:Cx,Query:Tx,QueryDocumentSnapshot:Sx,QuerySnapshot:Rx,CollectionReference:Px,FieldPath:Bx,FieldValue:Ox,setLogLevel:function(e){!function(e){Mp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Lx)))}(e,(function(e,t){return new mx(e,t,new gx)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(or);var Mx="@firebase/database",Fx="0.12.5",Ux="";function qx(e){Ux=e}var Qx=function(){function e(t){f(this,e),this.domStorage_=t,this.prefix_="firebase:"}return p(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Vt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),jx=function(){function e(){f(this,e),this.cache_={},this.isInMemoryStorage=!0}return p(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Wt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Vx=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qx(t)}}catch(n){}return new jx},zx=Vx("localStorage"),Kx=Vx("sessionStorage"),Wx=new _n("@firebase/database"),Gx=function(){var e=1;return function(){return e++}}(),Hx=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,wt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new tn;n.update(t);var r=n.digest();return Et.encodeByteArray(r)},Yx=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?zt(r):r,t+=" "}return t},Jx=null,Xx=!0,Zx=function(e,t){wt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Wx.logLevel=yn.VERBOSE,Jx=Wx.log.bind(Wx),t&&Kx.set("logging_enabled",!0)):"function"===typeof e?Jx=e:(Jx=null,Kx.remove("logging_enabled"))},$x=function(){if(!0===Xx&&(Xx=!1,null===Jx&&!0===Kx.get("logging_enabled")&&Zx(!0)),Jx){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Yx.apply(null,t);Jx(r)}},eC=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$x.apply(void 0,[e].concat(n))}},tC=function(){var e="FIREBASE INTERNAL ERROR: "+Yx.apply(void 0,arguments);Wx.error(e)},nC=function(){var e="FIREBASE FATAL ERROR: ".concat(Yx.apply(void 0,arguments));throw Wx.error(e),new Error(e)},rC=function(){var e="FIREBASE WARNING: "+Yx.apply(void 0,arguments);Wx.warn(e)},iC=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},aC="[MIN_NAME]",oC="[MAX_NAME]",sC=function(e,t){if(e===t)return 0;if(e===aC||t===oC)return-1;if(t===aC||e===oC)return 1;var n=gC(e),r=gC(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},uC=function(e,t){return e===t?0:e<t?-1:1},cC=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+zt(t))},lC=function e(t){if("object"!==typeof t||null===t)return zt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=zt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},hC=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function fC(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var dC=function(e){wt(!iC(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var pC=new RegExp("^-?(0*)\\d{1,10}$"),vC=-2147483648,yC=2147483647,gC=function(e){if(pC.test(e)){var t=Number(e);if(t>=vC&&t<=yC)return t}return null},mC=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw rC("Exception was thrown by user callback.",e),t}),Math.floor(0))}},AC=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},kC=function(){function e(t,n){var r=this;f(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){rC('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),wC=function(){function e(t,n,r){var i=this;f(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?($x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rC(e)}}]),e}(),bC=function(){function e(t){f(this,e),this.accessToken=t}return p(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();bC.OWNER="owner";var IC="5",EC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_C="websocket",xC="long_polling",CC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];f(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zx.get("host:"+t)||this._host}return p(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zx.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function SC(e,t,n){var r;if(wt("string"===typeof t,"typeof type must == string"),wt("object"===typeof n,"typeof params must == object"),t===_C)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==xC)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return fC(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var TC=function(){function e(){f(this,e),this.counters_={}}return p(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return St(void 0,this.counters_)}}]),e}(),NC={},RC={};function PC(e){var t=e.toString();return NC[t]||(NC[t]=new TC),NC[t]}var DC=function(){function e(t){f(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&mC((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),BC="start",OC="close",LC=function(){function e(t,n,r,i,a,o,s){var u=this;f(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eC(t),this.stats_=PC(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),SC(n,xC,e)}}return p(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new DC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Mt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new MC((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===BC)n.id=a,n.password=o;else{if(i!==OC)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=IC,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&EC.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=zt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=_t(t),r=hC(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Mt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=zt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Mt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),MC=function(){function e(t,n,r,i){if(f(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Mt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Gx(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){$x("frame writing exception"),s.stack&&$x(s.stack),$x(s)}}}return p(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Mt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){$x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),FC=null;"undefined"!==typeof MozWebSocket?FC=MozWebSocket:"undefined"!==typeof WebSocket&&(FC=WebSocket);var UC=function(){function e(t,n,r,i,a,o,s){f(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eC(this.connId),this.stats_=PC(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return p(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zx.set("previous_websocket_failure",!0);try{if(Mt()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(IC,"/").concat(Ux,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/jump-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new FC(this.connURL,[],i)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new FC(this.connURL,[],s)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){zx.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Vt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(wt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=zt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=hC(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=IC,!Mt()&&"undefined"!==typeof location&&location.hostname&&EC.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),SC(e,_C,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==FC&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return zx.isInMemoryStorage||!0===zx.get("previous_websocket_failure")}}]),e}();UC.responsesRequiredToBeHealthy=2,UC.healthyTimeout=3e4;var qC=function(){function e(t){f(this,e),this.initTransports_(t)}return p(e,[{key:"initTransports_",value:function(t){var n=UC&&UC.isAvailable(),r=n&&!UC.previouslyFailed();if(t.webSocketOnly&&(n||rC("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[UC];else{var i,a=this.transports_=[],o=x(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[LC,UC]}}]),e}(),QC=function(){function e(t,n,r,i,a,o,s,u,c,l){f(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eC("c:"+this.id+":"),this.transportManager_=new qC(n),this.log_("Connection created"),this.start_()}return p(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=AC((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=cC("t",e),n=cC("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=cC("t",e),n=cC("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=cC("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?tC("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tC("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),IC!==n&&rC("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),AC((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):AC((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),jC=function(){function e(){f(this,e)}return p(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),VC=function(){function e(t){f(this,e),this.allowedEvents_=t,this.listeners_={},wt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return p(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){wt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),zC=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Pt()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return p(n,[{key:"getInitialEvent",value:function(e){return wt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(VC),KC=function(){function e(t,n){if(f(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return p(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function WC(){return new KC("")}function GC(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function HC(e){return e.pieces_.length-e.pieceNum_}function YC(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new KC(e.pieces_,t)}function JC(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function XC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ZC(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new KC(t,0)}function $C(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof KC)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new KC(n,0)}function eS(e){return e.pieceNum_>=e.pieces_.length}function tS(e,t){var n=GC(e),r=GC(t);if(null===n)return t;if(n===r)return tS(YC(e),YC(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function nS(e,t){for(var n=XC(e,0),r=XC(t,0),i=0;i<n.length&&i<r.length;i++){var a=sC(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function rS(e,t){if(HC(e)!==HC(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function iS(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(HC(e)>HC(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var aS=p((function e(t,n){f(this,e),this.errorPrefix_=n,this.parts_=XC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ln(this.parts_[r]);oS(this)}));function oS(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sS(e))}function sS(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var uS=function(e){y(n,e);var t=b(n);function n(){var e,r,i;return f(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return p(n,[{key:"getInitialEvent",value:function(e){return wt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(VC),cS=1e3,lS=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,s,u,c){var l;if(f(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=eC("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=cS,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Mt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return uS.getInstance().on("visible",l.onVisible_,k(l)),-1===e.host.indexOf("fblocal")&&zC.getInstance().on("online",l.onOnline_,k(l)),l}return p(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(zt(i)),wt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Tt,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),wt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),wt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Kt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Kt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),wt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+zt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):tC("Unrecognized action received from server: "+zt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;wt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cS,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cS,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cS),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Je(T().mark((function e(){var t,r,i,a,o,s,u,l,h,f,d,p,v,y,g=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){wt(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=c(d,2),v=p[0],y=p[1],s?$x("getToken() completed but was canceled"):($x("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,u=new QC(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){rC(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&rC(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){$x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){$x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ht(this.interruptReasons_)&&(this.reconnectDelay_=cS,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return lC(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new KC(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){$x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){$x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=x(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=x(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Mt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ux.replace(/\./g,"-")]=1,Pt()?e["framework.cordova"]=1:Ot()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=zC.getInstance().currentlyOnline();return Ht(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Wt(e,"w")){var n=Gt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();rC("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(jC);lS.nextPersistentConnectionId_=0,lS.nextConnectionId_=0;var hS,fS=function(){function e(t,n){f(this,e),this.name=t,this.node=n}return p(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),dS=function(){function e(){f(this,e)}return p(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new fS(aC,e),r=new fS(aC,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return fS.MIN}}]),e}(),pS=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){return sC(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw bt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return fS.MIN}},{key:"maxPost",value:function(){return new fS(oC,hS)}},{key:"makePost",value:function(e,t){return wt("string"===typeof e,"KeyIndex indexValue must always be a string."),new fS(e,hS)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return hS},set:function(e){hS=e}}]),n}(dS),vS=new pS,yS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;f(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return p(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),gS=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:kS.EMPTY_NODE,this.right=null!=a?a:kS.EMPTY_NODE}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return kS.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return kS.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();gS.RED=!0,gS.BLACK=!1;var mS,AS=function(){function e(){f(this,e)}return p(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new gS(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),kS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;f(this,e),this.comparator_=t,this.root_=n}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,gS.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,gS.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new yS(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new yS(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new yS(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new yS(this.root_,null,this.comparator_,!0,e)}}]),e}();function wS(e,t){return sC(e.name,t.name)}function bS(e,t){return sC(e,t)}kS.EMPTY_NODE=new AS;var IS,ES,_S,xS=function(e){return"number"===typeof e?"number:"+dC(e):"string:"+e},CS=function(e){if(e.isLeafNode()){var t=e.val();wt("string"===typeof t||"number"===typeof t||"object"===typeof t&&Wt(t,".sv"),"Priority must be a string or number.")}else wt(e===mS||e.isEmpty(),"priority of unexpected type.");wt(e===mS||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},SS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;f(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,wt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),CS(this.priorityNode_)}return p(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return eS(t)?this:".priority"===GC(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=GC(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(wt(".priority"!==r||1===HC(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(YC(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+xS(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?dC(this.value_):this.value_,this.lazyHash_=Hx(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(wt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return wt(i>=0,"Unknown leaf type: "+n),wt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return IS},set:function(e){IS=e}}]),e}();SS.VALUE_TYPE_ORDER=["object","boolean","number","string"];var TS,NS,RS=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?sC(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return fS.MIN}},{key:"maxPost",value:function(){return new fS(oC,new SS("[PRIORITY-POST]",_S))}},{key:"makePost",value:function(e,t){var n=ES(e);return new fS(t,new SS("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(dS),PS=new RS,DS=Math.log(2),BS=function(){function e(t){f(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/DS,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return p(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),OS=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new gS(o,a.node,gS.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new gS(o,a.node,gS.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new gS(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,gS.BLACK):(s(h,gS.BLACK),s(h,gS.RED))}return a}(new BS(e.length));return new kS(r||t,a)},LS={},MS=function(){function e(t,n){f(this,e),this.indexes_=t,this.indexSet_=n}return p(e,[{key:"get",value:function(e){var t=Gt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof kS?t:null}},{key:"hasIndex",value:function(e){return Wt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){wt(t!==vS,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(fS.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?OS(i,t.getCompare()):LS;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Yt(this.indexes_,(function(e,i){var a=Gt(r.indexSet_,i);if(wt(a,"Missing index implementation for "+i),e===LS){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(fS.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),OS(o,a.getCompare())}return LS}var c=n.get(t.name),l=e;return c&&(l=l.remove(new fS(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Yt(this.indexes_,(function(e){if(e===LS)return e;var r=n.get(t.name);return r?e.remove(new fS(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return wt(LS&&PS,"ChildrenNode.ts has not been loaded"),TS=TS||new e({".priority":LS},{".priority":PS})}}]),e}(),FS=function(){function e(t,n,r){f(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CS(this.priorityNode_),this.children_.isEmpty()&&wt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return p(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||NS}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?NS:t}},{key:"getChild",value:function(e){var t=GC(e);return null===t?this:this.getImmediateChild(t).getChild(YC(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(wt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new fS(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?NS:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=GC(e);if(null===n)return t;wt(".priority"!==GC(e)||1===HC(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(YC(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(PS,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+xS(this.getPriority().val())+":"),this.forEachChild(PS,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Hx(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new fS(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new fS(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new fS(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,fS.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,fS.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===US?-1:0}},{key:"withIndex",value:function(t){if(t===vS||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===vS||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(PS),r=t.getIterator(PS),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===vS?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return NS||(NS=new e(new kS(bS),null,MS.Default))}}]),e}();FS.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var US=new(function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,new kS(bS),FS.EMPTY_NODE,MS.Default)}return p(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return FS.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(FS));Object.defineProperties(fS,{MIN:{value:new fS(aC,FS.EMPTY_NODE)},MAX:{value:new fS(oC,US)}}),pS.__EMPTY_NODE=FS.EMPTY_NODE,SS.__childrenNodeConstructor=FS,mS=US,function(e){_S=e}(US);function qS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return FS.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),wt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new SS(n,qS(t))}if(e instanceof Array){var r=FS.EMPTY_NODE;return fC(e,(function(t,n){if(Wt(e,t)&&"."!==t.substring(0,1)){var i=qS(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(qS(t))}var i=[],a=!1,o=e;if(fC(o,(function(e,t){if("."!==e.substring(0,1)){var n=qS(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new fS(e,n)))}})),0===i.length)return FS.EMPTY_NODE;var s=OS(i,wS,(function(e){return e.name}),bS);if(a){var u=OS(i,PS.getCompare());return new FS(s,qS(t),new MS({".priority":u},{".priority":PS}))}return new FS(s,qS(t),MS.Default)}!function(e){ES=e}(qS);var QS=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).indexPath_=e,wt(!eS(e)&&".priority"!==GC(e),"Can't create PathIndex with empty path or .priority key"),r}return p(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?sC(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=qS(e),r=FS.EMPTY_NODE.updateChild(this.indexPath_,n);return new fS(t,r)}},{key:"maxPost",value:function(){var e=FS.EMPTY_NODE.updateChild(this.indexPath_,US);return new fS(oC,e)}},{key:"toString",value:function(){return XC(this.indexPath_,0).join("/")}}]),n}(dS),jS=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?sC(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return fS.MIN}},{key:"maxPost",value:function(){return fS.MAX}},{key:"makePost",value:function(e,t){var n=qS(e);return new fS(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(dS),VS=new jS,zS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KS=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=zS.charAt(n%64),n=Math.floor(n/64);wt(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=zS.charAt(t[r]);return wt(20===o.length,"nextPushId: Length should be 20."),o}}(),WS=function(e){if("2147483647"===e)return"-";var t=gC(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return oC;var a=n[i],o=zS.charAt(zS.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},GS=function(e){if("-2147483648"===e)return aC;var t=gC(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=zS.charAt(zS.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function HS(e){return{type:"value",snapshotNode:e}}function YS(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function JS(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function XS(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ZS=function(){function e(t){f(this,e),this.index_=t}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){wt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(JS(t,o)):wt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(YS(t,n)):a.trackChildChange(XS(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(PS,(function(e,r){t.hasChild(e)||n.trackChildChange(JS(e,r))})),t.isLeafNode()||t.forEachChild(PS,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(XS(t,r,i))}else n.trackChildChange(YS(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?FS.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),$S=function(){function e(t){f(this,e),this.indexedFilter_=new ZS(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return p(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new fS(t,n))||(n=FS.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=FS.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(FS.EMPTY_NODE);var i=this;return t.forEachChild(PS,(function(e,t){i.matches(new fS(e,t))||(r=r.updateImmediateChild(e,FS.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),eT=function(){function e(t){f(this,e),this.rangedFilter_=new $S(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new fS(t,n))||(n=FS.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=FS.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=FS.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(FS.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var f=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&f<this.limit_&&c(p,u)<=0?f++:r=r.updateImmediateChild(p.name,FS.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;wt(s.numChildren()===this.limit_,"");var u=new fS(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(XS(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(JS(t,h));var p=s.updateImmediateChild(t,FS.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(YS(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(JS(c.name,c.node)),i.trackChildChange(YS(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,FS.EMPTY_NODE)):e}}]),e}(),tT=function(){function e(){f(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PS}return p(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return wt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return wt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aC}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return wt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return wt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oC}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return wt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===PS}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function nT(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function rT(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function iT(e,t){var n=e.copy();return n.index_=t,n}function aT(e){var t,n={};return e.isDefault()||(e.index_===PS?t="$priority":e.index_===VS?t="$value":e.index_===vS?t="$key":(wt(e.index_ instanceof QS,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=zt(t),e.startSet_&&(n.startAt=zt(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+zt(e.indexStartName_))),e.endSet_&&(n.endAt=zt(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+zt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function oT(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==PS&&(t.i=e.index_.toString()),t}var sT=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=eC("p:rest:"),o.listens_={},o}return p(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=aT(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Gt(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=aT(e._queryParams),r=e._path.toString(),i=new Tt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Zt(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Vt(l.responseText)}catch(n){rC("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&rC("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(wt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(jC),uT=function(){function e(){f(this,e),this.rootNode_=FS.EMPTY_NODE}return p(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function cT(){return{value:null,children:new Map}}function lT(e,t,n){if(eS(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=GC(t);e.children.has(r)||e.children.set(r,cT()),lT(e.children.get(r),t=YC(t),n)}}function hT(e,t){if(eS(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(PS,(function(t,n){lT(e,new KC(t),n)})),hT(e,t)}if(e.children.size>0){var r=GC(t);if(t=YC(t),e.children.has(r))hT(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function fT(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){fT(r,new KC(t.toString()+"/"+e),n)}))}var dT,pT=function(){function e(t){f(this,e),this.collection_=t,this.last_=null}return p(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&fC(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),vT=function(){function e(t,n){f(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new pT(t);var r=1e4+2e4*Math.random();AC(this.reportStats_.bind(this),Math.floor(r))}return p(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;fC(t,(function(t,i){i>0&&Wt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),AC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function yT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(dT||(dT={}));var gT,mT=function(){function e(t,n,r){f(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=dT.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p(e,[{key:"operationForChild",value:function(t){if(eS(this.path)){if(null!=this.affectedTree.value)return wt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new KC(t));return new e(WC(),n,this.revert)}return wt(GC(this.path)===t,"operationForChild called for unrelated child."),new e(YC(this.path),this.affectedTree,this.revert)}}]),e}(),AT=function(){function e(t,n){f(this,e),this.source=t,this.path=n,this.type=dT.LISTEN_COMPLETE}return p(e,[{key:"operationForChild",value:function(t){return eS(this.path)?new e(this.source,WC()):new e(this.source,YC(this.path))}}]),e}(),kT=function(){function e(t,n,r){f(this,e),this.source=t,this.path=n,this.snap=r,this.type=dT.OVERWRITE}return p(e,[{key:"operationForChild",value:function(t){return eS(this.path)?new e(this.source,WC(),this.snap.getImmediateChild(t)):new e(this.source,YC(this.path),this.snap)}}]),e}(),wT=function(){function e(t,n,r){f(this,e),this.source=t,this.path=n,this.children=r,this.type=dT.MERGE}return p(e,[{key:"operationForChild",value:function(t){if(eS(this.path)){var n=this.children.subtree(new KC(t));return n.isEmpty()?null:n.value?new kT(this.source,WC(),n.value):new e(this.source,WC(),n)}return wt(GC(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,YC(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),bT=function(){function e(t,n,r){f(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return p(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(eS(e))return this.isFullyInitialized()&&!this.filtered_;var t=GC(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),IT=p((function e(t){f(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function ET(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw bt("Should only compare child_ events.");var r=new fS(t.childName,t.snapshotNode),i=new fS(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _T(e,t){return{eventCache:e,serverCache:t}}function xT(e,t,n,r){return _T(new bT(t,n,r),e.serverCache)}function CT(e,t,n,r){return _T(e.eventCache,new bT(t,n,r))}function ST(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function TT(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var NT=function(){return gT||(gT=new kS(uC)),gT},RT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NT();f(this,e),this.value=t,this.children=n}return p(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:WC(),value:this.value};if(eS(e))return null;var n=GC(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(YC(e),t);return null!=i?{path:$C(new KC(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(eS(t))return this;var n=GC(t),r=this.children.get(n);return null!==r?r.subtree(YC(t)):new e(null)}},{key:"set",value:function(t,n){if(eS(t))return new e(n,this.children);var r=GC(t),i=(this.children.get(r)||new e(null)).set(YC(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(eS(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=GC(t),r=this.children.get(n);if(r){var i,a=r.remove(YC(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(eS(e))return this.value;var t=GC(e),n=this.children.get(t);return n?n.get(YC(e)):null}},{key:"setTree",value:function(t,n){if(eS(t))return n;var r,i=GC(t),a=(this.children.get(i)||new e(null)).setTree(YC(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(WC(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_($C(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,WC(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(eS(e))return null;var i=GC(e),a=this.children.get(i);return a?a.findOnPath_(YC(e),$C(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,WC(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(eS(t))return this;this.value&&r(n,this.value);var i=GC(t),a=this.children.get(i);return a?a.foreachOnPath_(YC(t),$C(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(WC(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_($C(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return fC(t,(function(e,t){n=n.set(new KC(e),t)})),n}}]),e}(),PT=function(){function e(t){f(this,e),this.writeTree_=t}return p(e,null,[{key:"empty",value:function(){return new e(new RT(null))}}]),e}();function DT(e,t,n){if(eS(t))return new PT(new RT(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=tS(i,t);return a=a.updateChild(o,n),new PT(e.writeTree_.set(i,a))}var s=new RT(n),u=e.writeTree_.setTree(t,s);return new PT(u)}function BT(e,t,n){var r=e;return fC(n,(function(e,n){r=DT(r,$C(t,e),n)})),r}function OT(e,t){if(eS(t))return PT.empty();var n=e.writeTree_.setTree(t,new RT(null));return new PT(n)}function LT(e,t){return null!=MT(e,t)}function MT(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(tS(n.path,t)):null}function FT(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(PS,(function(e,n){t.push(new fS(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new fS(e,n.value))})),t}function UT(e,t){if(eS(t))return e;var n=MT(e,t);return new PT(null!=n?new RT(n):e.writeTree_.subtree(t))}function qT(e){return e.writeTree_.isEmpty()}function QT(e,t){return jT(WC(),e.writeTree_,t)}function jT(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(wt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jT($C(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild($C(e,".priority"),r)),n}function VT(e,t){return rN(t,e)}function zT(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function KT(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));wt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&WT(s,r.path)?i=!1:iS(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=HT(e.allWrites,GT,WC()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=OT(e.visibleWrites,r.path):fC(r.children,(function(t){e.visibleWrites=OT(e.visibleWrites,$C(r.path,t))}));return!0}return!1}function WT(e,t){if(e.snap)return iS(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&iS($C(e.path,n),t))return!0;return!1}function GT(e){return e.visible}function HT(e,t,n){for(var r=PT.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)iS(n,o)?r=DT(r,s=tS(n,o),a.snap):iS(o,n)&&(s=tS(o,n),r=DT(r,WC(),a.snap.getChild(s)));else{if(!a.children)throw bt("WriteRecord should have .snap or .children");if(iS(n,o))r=BT(r,s=tS(n,o),a.children);else if(iS(o,n))if(eS(s=tS(o,n)))r=BT(r,WC(),a.children);else{var u=Gt(a.children,GC(s));if(u){var c=u.getChild(YC(s));r=DT(r,WC(),c)}}}}}return r}function YT(e,t,n,r,i){if(r||i){var a=UT(e.visibleWrites,t);if(!i&&qT(a))return n;if(i||null!=n||LT(a,WC())){return QT(HT(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(iS(e.path,t)||iS(t,e.path))}),t),n||FS.EMPTY_NODE)}return null}var o=MT(e.visibleWrites,t);if(null!=o)return o;var s=UT(e.visibleWrites,t);return qT(s)?n:null!=n||LT(s,WC())?QT(s,n||FS.EMPTY_NODE):null}function JT(e,t,n,r){return YT(e.writeTree,e.treePath,t,n,r)}function XT(e,t){return function(e,t,n){var r=FS.EMPTY_NODE,i=MT(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(PS,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=UT(e.visibleWrites,t);return n.forEachChild(PS,(function(e,t){var n=QT(UT(a,new KC(e)),t);r=r.updateImmediateChild(e,n)})),FT(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return FT(UT(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ZT(e,t,n,r){return function(e,t,n,r,i){wt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=$C(t,n);if(LT(e.visibleWrites,a))return null;var o=UT(e.visibleWrites,a);return qT(o)?i.getChild(n):QT(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function $T(e,t){return function(e,t){return MT(e.visibleWrites,t)}(e.writeTree,$C(e.treePath,t))}function eN(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=UT(e.visibleWrites,t),c=MT(u,WC());if(null!=c)s=c;else{if(null==n)return[];s=QT(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function tN(e,t,n){return function(e,t,n,r){var i=$C(t,n),a=MT(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?QT(UT(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function nN(e,t){return rN($C(e.treePath,t),e.writeTree)}function rN(e,t){return{treePath:e,writeTree:t}}var iN=function(){function e(){f(this,e),this.changeMap=new Map}return p(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;wt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),wt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,XS(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,JS(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,YS(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw bt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,XS(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),aN=new(function(){function e(){f(this,e)}return p(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),oN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return p(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new bT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tN(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:TT(this.viewCache_),i=eN(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function sN(e,t,n,r,i){var a,o,s=new iN;if(n.type===dT.OVERWRITE){var u=n;u.source.fromUser?a=lN(e,t,u.path,u.snap,r,i,s):(wt(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!eS(u.path),a=cN(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===dT.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=$C(n,r);hN(t,GC(c))&&(s=lN(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=$C(n,r);hN(t,GC(c))||(s=lN(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(wt(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=dN(e,t,c.path,c.children,r,i,o,s))}else if(n.type===dT.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=$T(r,n))return t;var s,u=new oN(r,t,i),c=t.eventCache.getNode();if(eS(n)||".priority"===GC(n)){var l;if(t.serverCache.isFullyInitialized())l=JT(r,TT(t));else{var h=t.serverCache.getNode();wt(h instanceof FS,"serverChildren would be complete if leaf node"),l=XT(r,h)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var f=GC(n),d=tN(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,YC(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,FS.EMPTY_NODE,YC(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=JT(r,TT(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=$T(r,WC()),xT(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=$T(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(eS(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return cN(e,t,n,u.getNode().getChild(n),i,a,s,o);if(eS(n)){var c=new RT(null);return u.getNode().forEachChild(vS,(function(e,t){c=c.set(new KC(e),t)})),dN(e,t,n,c,i,a,s,o)}return t}var l=new RT(null);return r.foreach((function(e,t){var r=$C(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),dN(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==dT.LISTEN_COMPLETE)throw bt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=CT(t,a.getNode(),a.isFullyInitialized()||eS(n),a.isFiltered());return uN(e,o,n,r,aN,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ST(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(HS(ST(t)))}}(t,a,h),{viewCache:a,changes:h}}function uN(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=$T(r,n))return t;if(eS(n))if(wt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=TT(t),l=XT(r,c instanceof FS?c:FS.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=JT(r,TT(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=GC(n);if(".priority"===f){wt(1===HC(n),"Can't have a priority with additional path components");var d=u.getNode(),p=ZT(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=YC(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=ZT(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(f).updateChild(y,g):u.getNode().getImmediateChild(f)}else v=tN(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,y,i,a):u.getNode()}}return xT(t,o,u.isFullyInitialized()||eS(n),e.filter.filtersNodes())}function cN(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(eS(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=GC(n);if(!c.isCompleteForPath(n)&&HC(n)>1)return t;var d=YC(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,aN,null)}var v=CT(t,u,c.isFullyInitialized()||eS(n),l.filtersNodes());return uN(e,v,n,i,new oN(i,v,a),s)}function lN(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new oN(i,t,a);if(eS(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=xT(t,u,!0,e.filter.filtersNodes());else{var h=GC(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=xT(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=YC(n),p=c.getNode().getImmediateChild(h);if(eS(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===JC(d)&&v.getChild(ZC(d)).isEmpty()?v:v.updateChild(d,r):FS.EMPTY_NODE}if(p.equals(f))s=t;else s=xT(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function hN(e,t){return e.eventCache.isCompleteForChild(t)}function fN(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function dN(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=eS(n)?r:new RT(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=fN(0,t.serverCache.getNode().getImmediateChild(n),r);c=cN(e,c,new KC(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=fN(0,t.serverCache.getNode().getImmediateChild(n),r);c=cN(e,c,new KC(n),h,i,a,o,s)}})),c}var pN,vN=function(){function e(t,n){f(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new ZS(i.getIndex()),o=(r=i).loadsAllData()?new ZS(r.getIndex()):r.hasLimit()?new eT(r):new $S(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(FS.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(FS.EMPTY_NODE,u.getNode(),null),h=new bT(c,s.isFullyInitialized(),a.filtersNodes()),d=new bT(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=_T(d,h),this.eventGenerator_=new IT(this.query_)}return p(e,[{key:"query",get:function(){return this.query_}}]),e}();function yN(e,t){var n=TT(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!eS(t)&&!n.getImmediateChild(GC(t)).isEmpty())?n.getChild(t):null}function gN(e){return 0===e.eventRegistrations_.length}function mN(e,t,n){var r=[];if(n){wt(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function AN(e,t,n,r){t.type===dT.MERGE&&null!==t.source.queryId&&(wt(TT(e.viewCache_),"We should always have a full cache before handling merges"),wt(ST(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=sN(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,wt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),wt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),wt(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,kN(e,s.changes,s.viewCache.eventCache.getNode(),null)}function kN(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ET(e,i,"child_removed",t,r,n),ET(e,i,"child_added",t,r,n),ET(e,i,"child_moved",a,r,n),ET(e,i,"child_changed",t,r,n),ET(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var wN,bN=p((function e(){f(this,e),this.views=new Map}));function IN(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return wt(null!=a,"SyncTree gave us an op for an invalid query."),AN(a,t,n,r)}var o,s=[],u=x(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(AN(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function EN(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=JT(n,i?r:null),u=!1;s?u=!0:r instanceof FS?(s=XT(n,r),u=!1):(s=FS.EMPTY_NODE,u=!1);var c=_T(new bT(s,u,!1),new bT(r,i,!1));return new vN(t,c)}return o}function _N(e,t,n,r,i,a){var o=EN(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(PS,(function(e,t){r.push(YS(e,t))})),n.isFullyInitialized()&&r.push(HS(n.getNode())),kN(e,r,n.getNode(),t)}(o,n)}function xN(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=RN(e);if("default"===i){var u,l=x(e.views.entries());try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];o=o.concat(mN(d,n,r)),gN(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(mN(p,n,r)),gN(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!RN(e)&&a.push(new(wt(pN,"Reference.ts has not been loaded"),pN)(t._repo,t._path)),{removed:a,events:o}}function CN(e){var t,n=[],r=x(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function SN(e,t){var n,r=null,i=x(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||yN(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function TN(e,t){if(t._queryParams.loadsAllData())return PN(e);var n=t._queryIdentifier;return e.views.get(n)}function NN(e,t){return null!=TN(e,t)}function RN(e){return null!=PN(e)}function PN(e){var t,n=x(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var DN=1,BN=p((function e(t){f(this,e),this.listenProvider_=t,this.syncPointTree_=new RT(null),this.pendingWriteTree_={visibleWrites:PT.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function ON(e,t,n,r,i){return function(e,t,n,r,i){wt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=DT(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?VN(e,new kT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function LN(e,t,n,r){!function(e,t,n,r){wt(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=BT(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=RT.fromObject(n);return VN(e,new wT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function MN(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=zT(e.pendingWriteTree_,t),i=KT(e.pendingWriteTree_,t);if(i){var a=new RT(null);return null!=r.snap?a=a.set(WC(),!0):fC(r.children,(function(e){a=a.set(new KC(e),!0)})),VN(e,new mT(r.path,a,n))}return[]}function FN(e,t,n){return VN(e,new kT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function UN(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||NN(a,t))){var s=xN(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return RN(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&RN(t))return[PN(t)];var r=[];return t&&(r=CN(t)),fC(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,y=WN(e,p);e.listenProvider_.startListening(ZN(v),GN(e,v),y.hashFn,y.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(ZN(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(HN(t));e.listenProvider_.stopListening(ZN(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=HN(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function qN(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=tS(e,r);i=i||SN(t,n),a=a||RN(t)}));var o,s=e.syncPointTree_.get(r);(s?(a=a||RN(s),i=i||SN(s,WC())):(s=new bN,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?o=!0:(o=!1,i=FS.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=SN(t,WC());n&&(i=i.updateImmediateChild(e,n))})));var u=NN(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=HN(t);wt(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=DN++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var h=_N(s,t,n,VT(e.pendingWriteTree_,r),i,o);if(!u&&!a){var f=TN(s,t);h=h.concat(function(e,t,n){var r=t._path,i=GN(e,t),a=WN(e,n),o=e.listenProvider_.startListening(ZN(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)wt(!RN(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!eS(e)&&t&&RN(t))return[PN(t).query];var r=[];return t&&(r=r.concat(CN(t).map((function(e){return e.query})))),fC(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(ZN(l),GN(e,l))}return o}(e,t,f))}return h}function QN(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=SN(n,tS(e,t));if(r)return r}));return YT(r,t,i,n,!0)}function jN(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=tS(e,n);r=r||SN(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||SN(i,WC()):(i=new bN,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new bT(r,!0,!1):null;return function(e){return ST(e.viewCache_)}(EN(i,t,VT(e.pendingWriteTree_,t._path),a?o.getNode():FS.EMPTY_NODE,a))}function VN(e,t){return zN(t,e.syncPointTree_,null,VT(e.pendingWriteTree_,WC()))}function zN(e,t,n,r){if(eS(e.path))return KN(e,t,n,r);var i=t.get(WC());null==n&&null!=i&&(n=SN(i,WC()));var a=[],o=GC(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=nN(r,o);a=a.concat(zN(s,u,c,l))}return i&&(a=a.concat(IN(i,e,r,n))),a}function KN(e,t,n,r){var i=t.get(WC());null==n&&null!=i&&(n=SN(i,WC()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=nN(r,t),u=e.operationForChild(t);u&&(a=a.concat(KN(u,i,o,s)))})),i&&(a=a.concat(IN(i,e,r,n))),a}function WN(e,t){var n=t.query,r=GN(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||FS.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=YN(e,n);if(r){var i=JN(r),a=i.path,o=i.queryId,s=tS(a,t);return XN(e,a,new AT(yT(o),s))}return[]}(e,n._path,r):function(e,t){return VN(e,new AT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return UN(e,n,null,i)}}}function GN(e,t){var n=HN(t);return e.queryToTagMap.get(n)}function HN(e){return e._path.toString()+"$"+e._queryIdentifier}function YN(e,t){return e.tagToQueryMap.get(t)}function JN(e){var t=e.indexOf("$");return wt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new KC(e.substr(0,t))}}function XN(e,t,n){var r=e.syncPointTree_.get(t);return wt(r,"Missing sync point for query tag that we're tracking"),IN(r,n,VT(e.pendingWriteTree_,t),null)}function ZN(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(wt(wN,"Reference.ts has not been loaded"),wN)(e._repo,e._path):e}var $N=function(){function e(t){f(this,e),this.node_=t}return p(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),eR=function(){function e(t,n){f(this,e),this.syncTree_=t,this.path_=n}return p(e,[{key:"getImmediateChild",value:function(t){var n=$C(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return QN(this.syncTree_,this.path_)}}]),e}(),tR=function(e,t,n){return e&&"object"===typeof e?(wt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?nR(e[".sv"],t,n):"object"===typeof e[".sv"]?rR(e[".sv"],t):void wt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},nR=function(e,t,n){if("timestamp"===e)return n.timestamp;wt(!1,"Unexpected server value: "+e)},rR=function(e,t,n){e.hasOwnProperty("increment")||wt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&wt(!1,"Unexpected increment value: "+r);var i=t.node();if(wt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},iR=function(e,t,n,r){return oR(t,new eR(n,e),r)},aR=function(e,t,n){return oR(e,new $N(t),n)};function oR(e,t,n){var r,i=e.getPriority().val(),a=tR(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=tR(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new SS(s,qS(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new SS(a))),u.forEachChild(PS,(function(e,i){var a=oR(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var sR=p((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};f(this,e),this.name=t,this.parent=n,this.node=r}));function uR(e,t){for(var n=t instanceof KC?t:new KC(t),r=e,i=GC(n);null!==i;){var a=Gt(r.node.children,i)||{children:{},childCount:0};r=new sR(i,r,a),i=GC(n=YC(n))}return r}function cR(e){return e.node.value}function lR(e,t){e.node.value=t,vR(e)}function hR(e){return e.node.childCount>0}function fR(e,t){fC(e.node.children,(function(n,r){t(new sR(n,e,r))}))}function dR(e,t,n,r){n&&!r&&t(e),fR(e,(function(e){dR(e,t,!0,r)})),n&&r&&t(e)}function pR(e){return new KC(null===e.parent?e.name:pR(e.parent)+"/"+e.name)}function vR(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===cR(e)&&!hR(e)}(n),i=Wt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vR(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,vR(e))}(e.parent,e.name,e)}var yR=/[\[\].#$\/\u0000-\u001F\u007F]/,gR=/[\[\].#$\u0000-\u001F\u007F]/,mR=10485760,AR=function(e){return"string"===typeof e&&0!==e.length&&!yR.test(e)},kR=function(e){return"string"===typeof e&&0!==e.length&&!gR.test(e)},wR=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!iC(e)||e&&"object"===typeof e&&Wt(e,".sv")},bR=function(e,t,n,r){r&&void 0===t||IR(sn(e,"value"),t,n)},IR=function e(t,n,r){var i=r instanceof KC?new aS(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+sS(i));if("function"===typeof n)throw new Error(t+"contains a function "+sS(i)+" with contents = "+n.toString());if(iC(n))throw new Error(t+"contains "+n.toString()+" "+sS(i));if("string"===typeof n&&n.length>mR/3&&ln(n)>mR)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+sS(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(fC(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!AR(n)))throw new Error(t+" contains an invalid key ("+n+") "+sS(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=ln(u),oS(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ln(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+sS(i)+" in addition to actual children.")}},ER=function(e,t,n,r){if(!r||void 0!==t){var i=sn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];fC(t,(function(e,t){var r=new KC(e);if(IR(i,t,$C(n,r)),".priority"===JC(r)&&!wR(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=XC(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!AR(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(nS);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&iS(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},_R=function(e,t,n){if(!n||void 0!==t){if(iC(t))throw new Error(sn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wR(t))throw new Error(sn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xR=function(e,t,n,r){if((!r||void 0!==n)&&!AR(n))throw new Error(sn(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},CR=function(e,t,n,r){if((!r||void 0!==n)&&!kR(n))throw new Error(sn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},SR=function(e,t){if(".info"===GC(t))throw new Error(e+" failed = Can't modify data under /.info/")},TR=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!AR(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),kR(e)}(n))throw new Error(sn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},NR=p((function e(){f(this,e),this.eventLists_=[],this.recursionDepth_=0}));function RR(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||rS(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function PR(e,t,n){RR(e,n),BR(e,(function(e){return rS(e,t)}))}function DR(e,t,n){RR(e,n),BR(e,(function(e){return iS(e,t)||iS(t,e)}))}function BR(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(OR(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function OR(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Jx&&$x("event: "+n.toString()),mC(r)}}}var LR="repo_interrupt",MR=function(){function e(t,n,r,i){f(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cT(),this.transactionQueueTree_=new sR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function FR(e,t,n){if(e.stats_=PC(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new sT(e.repoInfo_,(function(t,n,r,i){QR(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return jR(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new lS(e.repoInfo_,t,(function(t,n,r,i){QR(e,t,n,r,i)}),(function(t){jR(e,t)}),(function(t){!function(e,t){fC(t,(function(t,n){VR(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return RC[n]||(RC[n]=t()),RC[n]}(e.repoInfo_,(function(){return new vT(e.stats_,e.server_)})),e.infoData_=new uT,e.infoSyncTree_=new BN({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=FN(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),VR(e,"connected",!1),e.serverSyncTree_=new BN({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);DR(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function UR(e){var t=e.infoData_.getNode(new KC(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qR(e){return(t=(t={timestamp:UR(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function QR(e,t,n,r,i){e.dataUpdateCount++;var a=new KC(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Yt(n,(function(e){return qS(e)}));o=function(e,t,n,r){var i=YN(e,r);if(i){var a=JN(i),o=a.path,s=a.queryId,u=tS(o,t),c=RT.fromObject(n);return XN(e,o,new wT(yT(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=qS(n);o=function(e,t,n,r){var i=YN(e,r);if(null!=i){var a=JN(i),o=a.path,s=a.queryId,u=tS(o,t);return XN(e,o,new kT(yT(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Yt(n,(function(e){return qS(e)}));o=function(e,t,n){var r=RT.fromObject(n);return VN(e,new wT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=qS(n);o=FN(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=tP(e,a)),DR(e.eventQueue_,h,o)}function jR(e,t){VR(e,"connected",t),!1===t&&function(e){JR(e,"onDisconnectEvents");var t=qR(e),n=cT();fT(e.onDisconnect_,WC(),(function(r,i){var a=iR(r,i,e.serverSyncTree_,t);lT(n,r,a)}));var r=[];fT(n,WC(),(function(t,n){r=r.concat(FN(e.serverSyncTree_,t,n));var i=oP(e,t);tP(e,i)})),e.onDisconnect_=cT(),DR(e.eventQueue_,WC(),r)}(e)}function VR(e,t,n){var r=new KC("/.info/"+t),i=qS(n);e.infoData_.updateSnapshot(r,i);var a=FN(e.infoSyncTree_,r,i);DR(e.eventQueue_,r,a)}function zR(e){return e.nextWriteId_++}function KR(e,t,n,r,i){JR(e,"set",{path:t.toString(),value:n,priority:r});var a=qR(e),o=qS(n,r),s=QN(e.serverSyncTree_,t),u=aR(o,s,a),c=zR(e),l=ON(e.serverSyncTree_,t,u,c,!0);RR(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||rC("set at "+t+" failed: "+n);var o=MN(e.serverSyncTree_,c,!a);DR(e.eventQueue_,t,o),XR(e,i,n,r)}));var h=oP(e,t);tP(e,h),DR(e.eventQueue_,h,[])}function WR(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&hT(e.onDisconnect_,t),XR(e,n,r,i)}))}function GR(e,t,n,r){var i=qS(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&lT(e.onDisconnect_,t,i),XR(e,r,n,a)}))}function HR(e,t,n){var r;r=".info"===GC(t._path)?UN(e.infoSyncTree_,t,n):UN(e.serverSyncTree_,t,n),PR(e.eventQueue_,t._path,r)}function YR(e){e.persistentConnection_&&e.persistentConnection_.interrupt(LR)}function JR(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];$x.apply(void 0,[t].concat(r))}function XR(e,t,n,r){t&&mC((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ZR(e,t,n){return QN(e.serverSyncTree_,t,n)||FS.EMPTY_NODE}function $R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||aP(e,t),cR(t)){var n=rP(e,t);wt(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&eP(e,pR(t),n)}else hR(t)&&fR(t,(function(t){$R(e,t)}))}function eP(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ZR(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];wt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=tS(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){JR(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(MN(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);aP(e,uR(e.transactionQueueTree_,t)),$R(e,e.transactionQueueTree_),DR(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)mC(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{rC("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}tP(e,t)}}),o)}function tP(e,t){var n=nP(e,t),r=pR(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=tS(n,u.path),l=!1,h=void 0;if(wt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(MN(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(MN(e.serverSyncTree_,u.currentWriteId,!0));else{var f=ZR(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){IR("transaction failed: Data returned ",d,u.path);var p=qS(d);"object"===typeof d&&null!=d&&Wt(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,y=qR(e),g=aR(p,f,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=zR(e),o.splice(o.indexOf(v),1),i=(i=i.concat(ON(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(MN(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(MN(e.serverSyncTree_,u.currentWriteId,!0))}DR(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);aP(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)mC(r[c]);$R(e,e.transactionQueueTree_)}(e,rP(e,n),r),r}function nP(e,t){var n,r=e.transactionQueueTree_;for(n=GC(t);null!==n&&void 0===cR(r);)r=uR(r,n),n=GC(t=YC(t));return r}function rP(e,t){var n=[];return iP(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function iP(e,t,n){var r=cR(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);fR(t,(function(t){iP(e,t,n)}))}function aP(e,t){var n=cR(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,lR(t,n.length>0?n:void 0)}fR(t,(function(t){aP(e,t)}))}function oP(e,t){var n=pR(nP(e,t)),r=uR(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){sP(e,t)})),sP(e,r),dR(r,(function(t){sP(e,t)})),n}function sP(e,t){var n=cR(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(wt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(wt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(MN(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?lR(t,void 0):n.length=a+1,DR(e.eventQueue_,pR(t),i);for(var s=0;s<r.length;s++)mC(r[s])}}var uP=function(e,t){var n=cP(e),r=n.namespace;"firebase.com"===n.domain&&nC(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||nC("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rC("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new CC(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new KC(n.pathString)}},cP=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=x(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):rC("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},lP=function(){function e(t,n,r,i){f(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return p(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+zt(this.snapshot.exportVal())}}]),e}(),hP=function(){function e(t,n,r){f(this,e),this.eventRegistration=t,this.error=n,this.path=r}return p(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),fP=function(){function e(t,n){f(this,e),this.snapshotCallback=t,this.cancelCallback=n}return p(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return wt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),dP=function(){function e(t,n){f(this,e),this._repo=t,this._path=n}return p(e,[{key:"cancel",value:function(){var e=new Tt;return WR(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){SR("OnDisconnect.remove",this._path);var e=new Tt;return GR(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){SR("OnDisconnect.set",this._path),bR("OnDisconnect.set",e,this._path,!1);var t=new Tt;return GR(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){SR("OnDisconnect.setWithPriority",this._path),bR("OnDisconnect.setWithPriority",e,this._path,!1),_R("OnDisconnect.setWithPriority",t,!1);var n=new Tt;return function(e,t,n,r,i){var a=qS(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&lT(e.onDisconnect_,t,a),XR(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){SR("OnDisconnect.update",this._path),ER("OnDisconnect.update",e,this._path,!1);var t=new Tt;return function(e,t,n,r){if(Ht(n))return $x("onDisconnect().update() called with empty data.  Don't do anything."),void XR(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&fC(n,(function(n,r){var i=qS(r);lT(e.onDisconnect_,$C(t,n),i)})),XR(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),pP=function(){function e(t,n,r,i){f(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return p(e,[{key:"key",get:function(){return eS(this._path)?null:JC(this._path)}},{key:"ref",get:function(){return new mP(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=oT(this._queryParams),t=lC(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return oT(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=hn(t))instanceof e))return!1;var n=this._repo===t._repo,r=rS(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function vP(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yP(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===vS){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==aC)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==oC)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===PS){if(null!=t&&!wR(t)||null!=n&&!wR(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(wt(e.getIndex()instanceof QS||e.getIndex()===VS,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gP(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var mP=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,r,new tT,!1)}return p(n,[{key:"parent",get:function(){var e=ZC(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(pP),AP=function(){function e(t,n,r){f(this,e),this._node=t,this.ref=n,this._index=r}return p(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new KC(t),r=bP(this.ref,t);return new e(this._node.getChild(n),r,PS)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,bP(n.ref,r),PS))}))}},{key:"hasChild",value:function(e){var t=new KC(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function kP(e,t){return(e=hn(e))._checkNotDeleted("ref"),void 0!==t?bP(e._root,t):e._root}function wP(e,t){(e=hn(e))._checkNotDeleted("refFromURL");var n=uP(t,e._repo.repoInfo_.nodeAdmin);TR("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||nC("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),kP(e,n.path.toString())}function bP(e,t){var n,r,i,a;return null===GC((e=hn(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),CR(n,r,i,a)):CR("child","path",t,!1),new mP(e._repo,$C(e._path,t))}function IP(e,t){e=hn(e),SR("push",e._path),bR("push",t,e._path,!0);var n,r=UR(e._repo),i=KS(r),a=bP(e,i),o=bP(e,i);return n=null!=t?_P(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function EP(e){return SR("remove",e._path),_P(e,null)}function _P(e,t){e=hn(e),SR("set",e._path),bR("set",t,e._path,!1);var n=new Tt;return KR(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function xP(e,t){e=hn(e),SR("setPriority",e._path),_R("setPriority",t,!1);var n=new Tt;return KR(e._repo,$C(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function CP(e,t,n){if(SR("setWithPriority",e._path),bR("setWithPriority",t,e._path,!1),_R("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Tt;return KR(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function SP(e,t){ER("update",t,e._path,!1);var n=new Tt;return function(e,t,n,r){JR(e,"update",{path:t.toString(),value:n});var i=!0,a=qR(e),o={};if(fC(n,(function(n,r){i=!1,o[n]=iR($C(t,n),qS(r),e.serverSyncTree_,a)})),i)$x("update() called with empty data.  Don't do anything."),XR(0,r,"ok",void 0);else{var s=zR(e),u=LN(e.serverSyncTree_,t,o,s);RR(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||rC("update at "+t+" failed: "+n);var o=MN(e.serverSyncTree_,s,!a),u=o.length>0?tP(e,t):t;DR(e.eventQueue_,u,o),XR(0,r,n,i)})),fC(n,(function(n){var r=oP(e,$C(t,n));tP(e,r)})),DR(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function TP(e){return function(e,t){var n=jN(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=qS(n).withIndex(t._queryParams.getIndex()),i=FN(e.serverSyncTree_,t._path,r);return PR(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return JR(e,"get for query "+zt(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=hn(e))._repo,e).then((function(t){return new AP(t,new mP(e._repo,e._path),e._queryParams.getIndex())}))}var NP=function(){function e(t){f(this,e),this.callbackContext=t}return p(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new lP("value",this,new AP(e.snapshotNode,new mP(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new hP(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),RP=function(){function e(t,n){f(this,e),this.eventType=t,this.callbackContext=n}return p(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new hP(this,e,t):null}},{key:"createEvent",value:function(e,t){wt(null!=e.childName,"Child events should have a childName.");var n=bP(new mP(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new lP(e.type,this,new AP(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function PP(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){HR(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new fP(n,a||void 0),c="value"===t?new NP(u):new RP(t,u);return function(e,t,n){var r;r=".info"===GC(t._path)?qN(e.infoSyncTree_,t,n):qN(e.serverSyncTree_,t,n),PR(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return HR(e._repo,e,c)}}function DP(e,t,n,r){return PP(e,"value",t,n,r)}function BP(e,t,n,r){return PP(e,"child_added",t,n,r)}function OP(e,t,n,r){return PP(e,"child_changed",t,n,r)}function LP(e,t,n,r){return PP(e,"child_moved",t,n,r)}function MP(e,t,n,r){return PP(e,"child_removed",t,n,r)}function FP(e,t,n){var r=null,i=n?new fP(n):null;"value"===t?r=new NP(i):t&&(r=new RP(t,i)),HR(e._repo,e,r)}var UP=p((function e(){f(this,e)})),qP=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){bR("endAt",this._value,e._path,!0);var t=rT(e._queryParams,this._value,this._key);if(gP(t),yP(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pP(e._repo,e._path,t,e._orderByCalled)}}]),n}(UP);function QP(e,t){return xR("endAt","key",t,!0),new qP(e,t)}var jP=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){bR("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===vS?("string"===typeof t&&(t=GS(t)),r=rT(e,t,n)):r=rT(e,t,null==n?aC:GS(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(gP(t),yP(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pP(e._repo,e._path,t,e._orderByCalled)}}]),n}(UP);function VP(e,t){return xR("endBefore","key",t,!0),new jP(e,t)}var zP=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){bR("startAt",this._value,e._path,!0);var t=nT(e._queryParams,this._value,this._key);if(gP(t),yP(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new pP(e._repo,e._path,t,e._orderByCalled)}}]),n}(UP);function KP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return xR("startAt","key",t,!0),new zP(e,t)}var WP=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){bR("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===vS?("string"===typeof t&&(t=WS(t)),r=nT(e,t,n)):r=nT(e,t,null==n?oC:WS(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(gP(t),yP(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new pP(e._repo,e._path,t,e._orderByCalled)}}]),n}(UP);function GP(e,t){return xR("startAfter","key",t,!0),new WP(e,t)}var HP=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this))._limit=e,r}return p(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new pP(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(UP);function YP(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new HP(e)}var JP=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this))._limit=e,r}return p(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new pP(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(UP);function XP(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new JP(e)}var ZP=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this))._path=e,r}return p(n,[{key:"_apply",value:function(e){vP(e,"orderByChild");var t=new KC(this._path);if(eS(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new QS(t),r=iT(e._queryParams,n);return yP(r),new pP(e._repo,e._path,r,!0)}}]),n}(UP);function $P(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return CR("orderByChild","path",e,!1),new ZP(e)}var eD=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"_apply",value:function(e){vP(e,"orderByKey");var t=iT(e._queryParams,vS);return yP(t),new pP(e._repo,e._path,t,!0)}}]),n}(UP);function tD(){return new eD}var nD=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"_apply",value:function(e){vP(e,"orderByPriority");var t=iT(e._queryParams,PS);return yP(t),new pP(e._repo,e._path,t,!0)}}]),n}(UP);function rD(){return new nD}var iD=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"_apply",value:function(e){vP(e,"orderByValue");var t=iT(e._queryParams,VS);return yP(t),new pP(e._repo,e._path,t,!0)}}]),n}(UP);function aD(){return new iD}var oD=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){if(bR("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qP(this._value,this._key)._apply(new zP(this._value,this._key)._apply(e))}}]),n}(UP);function sD(e,t){return xR("equalTo","key",t,!0),new oD(e,t)}function uD(e){for(var t=hn(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){wt(!pN,"__referenceConstructor has already been defined"),pN=e}(mP),function(e){wt(!wN,"__referenceConstructor has already been defined"),wN=e}(mP);var cD={},lD=!1;function hD(e,t,n,r){e.repoInfo_=new CC("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function fD(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||nC("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$x("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=uP(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/jump-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=uP(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new bC(bC.OWNER):new wC(e.name,e.options,t);TR("Invalid Firebase Database URL",s),eS(s.path)||nC("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=cD[t.name];i||(i={},cD[t.name]=i);var a=i[e.toURLString()];a&&nC("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new MR(e,lD,n,r),i[e.toURLString()]=a,a}(u,e,l,new kC(e.name,n));return new dD(h,e)}var dD=function(){function e(t,n){f(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return p(e,[{key:"_repo",get:function(){return this._instanceStarted||(FR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new mP(this._repo,WC())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=cD[t];n&&n[e.key]===e||nC("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),YR(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&nC("Cannot call "+e+" on a deleted database.")}}]),e}();function pD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=hn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&nC("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&nC('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new bC(bC.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Nt(r.mockUserToken,e.app.options.projectId);a=new bC(o)}hD(i,t,n,a)}function vD(e){(e=hn(e))._checkNotDeleted("goOffline"),YR(e._repo)}function yD(e){var t;(e=hn(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(LR)}function gD(e,t){Zx(e,t)}var mD={".sv":"timestamp"};var AD=function(){function e(t,n){f(this,e),this.committed=t,this.snapshot=n}return p(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function kD(e,t,n){var r;if(e=hn(e),SR("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Tt,o=DP(e,(function(){}));return function(e,t,n,r,i,a){JR(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:Gx(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=ZR(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{IR("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=uR(e.transactionQueueTree_,t),h=cR(l)||[];h.push(o),lR(l,h),"object"===typeof u&&null!==u&&Wt(u,".priority")?(c=Gt(u,".priority"),wt(wR(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(QN(e.serverSyncTree_,t)||FS.EMPTY_NODE).getPriority().val();var f=qR(e),d=qS(u,c),p=aR(d,s,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=zR(e);var v=ON(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);DR(e.eventQueue_,t,v),$R(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new AP(r,new mP(e._repo,e._path),PS),a.resolve(new AD(n,i)))}),o,i),a.promise}lS.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},lS.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){qx(Kn),Ln(new fn("database",(function(e,t){var n=t.instanceIdentifier;return fD(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Xn(Mx,Fx,e),Xn(Mx,Fx,"esm2017")}();var wD=new _n("@firebase/database-compat"),bD=function(e){var t="FIREBASE WARNING: "+e;wD.warn(t)},ID=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(sn(e,t)+"must be a boolean.")},ED=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(sn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},_D=function(){function e(t){f(this,e),this._delegate=t}return p(e,[{key:"cancel",value:function(e){on("OnDisconnect.cancel",0,1,arguments.length),un("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){on("OnDisconnect.remove",0,1,arguments.length),un("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){on("OnDisconnect.set",1,2,arguments.length),un("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){on("OnDisconnect.setWithPriority",2,3,arguments.length),un("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(on("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,bD("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}un("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),xD=function(){function e(t,n){f(this,e),this.committed=t,this.snapshot=n}return p(e,[{key:"toJSON",value:function(){return on("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),CD=function(){function e(t,n){f(this,e),this._database=t,this._delegate=n}return p(e,[{key:"val",value:function(){return on("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return on("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return on("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return on("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return on("DataSnapshot.child",0,1,arguments.length),t=String(t),CR("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return on("DataSnapshot.hasChild",1,1,arguments.length),CR("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return on("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return on("DataSnapshot.forEach",1,1,arguments.length),un("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return on("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return on("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return on("DataSnapshot.ref",0,0,arguments.length),new TD(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),SD=function(){function e(t,n){f(this,e),this.database=t,this._delegate=n}return p(e,[{key:"on",value:function(t,n,r,i){var a,o=this;on("Query.on",2,4,arguments.length),un("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new CD(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return DP(this._delegate,u,c),n;case"child_added":return BP(this._delegate,u,c),n;case"child_removed":return MP(this._delegate,u,c),n;case"child_changed":return OP(this._delegate,u,c),n;case"child_moved":return LP(this._delegate,u,c),n;default:throw new Error(sn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(on("Query.off",0,3,arguments.length),ED("Query.off",e,!0),un("Query.off","callback",t,!0),cn("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,FP(this._delegate,e,r)}else FP(this._delegate,e)}},{key:"get",value:function(){var e=this;return TP(this._delegate).then((function(t){return new CD(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;on("Query.once",1,4,arguments.length),un("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Tt,u=function(e,t){var r=new CD(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":DP(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":BP(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":MP(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":OP(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":LP(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(sn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return on("Query.limitToFirst",1,1,arguments.length),new e(this.database,uD(this._delegate,YP(t)))}},{key:"limitToLast",value:function(t){return on("Query.limitToLast",1,1,arguments.length),new e(this.database,uD(this._delegate,XP(t)))}},{key:"orderByChild",value:function(t){return on("Query.orderByChild",1,1,arguments.length),new e(this.database,uD(this._delegate,$P(t)))}},{key:"orderByKey",value:function(){return on("Query.orderByKey",0,0,arguments.length),new e(this.database,uD(this._delegate,tD()))}},{key:"orderByPriority",value:function(){return on("Query.orderByPriority",0,0,arguments.length),new e(this.database,uD(this._delegate,rD()))}},{key:"orderByValue",value:function(){return on("Query.orderByValue",0,0,arguments.length),new e(this.database,uD(this._delegate,aD()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return on("Query.startAt",0,2,arguments.length),new e(this.database,uD(this._delegate,KP(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return on("Query.startAfter",0,2,arguments.length),new e(this.database,uD(this._delegate,GP(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return on("Query.endAt",0,2,arguments.length),new e(this.database,uD(this._delegate,QP(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return on("Query.endBefore",0,2,arguments.length),new e(this.database,uD(this._delegate,VP(t,n)))}},{key:"equalTo",value:function(t,n){return on("Query.equalTo",1,2,arguments.length),new e(this.database,uD(this._delegate,sD(t,n)))}},{key:"toString",value:function(){return on("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return on("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(on("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new TD(this.database,new mP(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,un(e,"cancel",r.cancel,!0),r.context=n,cn(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(sn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),TD=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,new pP(r._repo,r._path,new tT,!1))).database=e,i._delegate=r,i}return p(n,[{key:"getKey",value:function(){return on("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return on("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,bP(this._delegate,e))}},{key:"getParent",value:function(){on("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return on("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){on("Reference.set",1,2,arguments.length),un("Reference.set","onComplete",t,!0);var n=_P(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(on("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,bD("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}SR("Reference.update",this._delegate._path),un("Reference.update","onComplete",t,!0);var i=SP(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){on("Reference.setWithPriority",2,3,arguments.length),un("Reference.setWithPriority","onComplete",n,!0);var r=CP(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){on("Reference.remove",0,1,arguments.length),un("Reference.remove","onComplete",e,!0);var t=EP(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;on("Reference.transaction",1,3,arguments.length),un("Reference.transaction","transactionUpdate",e,!1),un("Reference.transaction","onComplete",t,!0),ID("Reference.transaction","applyLocally",n,!0);var i=kD(this._delegate,e,{applyLocally:n}).then((function(e){return new xD(e.committed,new CD(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){on("Reference.setPriority",1,2,arguments.length),un("Reference.setPriority","onComplete",t,!0);var n=xP(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;on("Reference.push",0,2,arguments.length),un("Reference.push","onComplete",t,!0);var i=IP(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return SR("Reference.onDisconnect",this._delegate._path),new _D(new dP(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(SD),ND=function(){function e(t,n){var r=this;f(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return p(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pD(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(on("database.ref",0,1,arguments.length),e instanceof TD){var t=wP(this._delegate,e.toString());return new TD(this,t)}var n=kP(this._delegate,e);return new TD(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";on(t,1,1,arguments.length);var n=wP(this._delegate,e);return new TD(this,n)}},{key:"goOffline",value:function(){return on("database.goOffline",0,0,arguments.length),vD(this._delegate)}},{key:"goOnline",value:function(){return on("database.goOnline",0,0,arguments.length),yD(this._delegate)}}]),e}();ND.ServerValue={TIMESTAMP:mD,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var RD=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;qx(r);var u=new pn("auth-internal",new gn("database-standalone"));return u.setComponent(new fn("auth-internal",(function(){return i}),"PRIVATE")),{instance:new ND(fD(t,u,void 0,n,s),t),namespace:a}}}),PD=ND.ServerValue;!function(e){e.INTERNAL.registerComponent(new fn("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new ND(i,r)}),"PUBLIC").setServiceProps({Reference:TD,Query:SD,Database:ND,DataSnapshot:CD,enableLogging:gD,INTERNAL:RD,ServerValue:PD}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.5")}(or);var DD={apiKey:"AIzaSyAHN7qi76sqh-ZHSlAGryJEbTvxcsvFJaY",authDomain:"user-database-test-9ee1d.firebaseapp.com",databaseURL:"https://user-database-test-9ee1d.firebaseio.com",projectId:"user-database-test-9ee1d",storageBucket:"user-database-test-9ee1d.appspot.com",messagingSenderId:"425239506606",appId:"1:425239506606:web:decf3cc0780d2d8e9d073f"},BD=function(){function e(){f(this,e),or.initializeApp(DD),this.auth=or.auth(),this.db=or.firestore,this.u_id=0,this.currentUserID=0,this.currentUsername=""}return p(e,[{key:"checkUsers",value:function(){var e=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("checking if user is in database..."),n=!0,"jumpGame-users",e.next=5,or.database().ref("jumpGame-users").once("value");case 5:for(i in(r=e.sent).val())r.val()[i].username===t&&(console.log("we already have that user"),n=!1);return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPoints",value:function(){var e=Je(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting points..."),"jumpGame-users",e.next=4,or.database().ref("jumpGame-users").once("value");case 4:n=e.sent,e.t0=T().keys(n.val());case 6:if((e.t1=e.t0()).done){e.next=12;break}if(r=e.t1.value,n.val()[r].username!==t){e.next=10;break}return e.abrupt("return",n.val()[r].points);case 10:e.next=6;break;case 12:return e.abrupt("return",0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHighScore",value:function(){var e=Je(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting high score..."),"jumpGame-users",e.next=4,or.database().ref("jumpGame-users").once("value");case 4:for(i in n=e.sent,r=0,n.val())n.val()[i].username===t&&(r=n.val()[i].highscore);return console.log("high score returned"),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateHighScore",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating highscore..."),r="jumpGame-users",e.next=4,or.database().ref(r).once("value");case 4:i=e.sent,a=0,e.t0=T().keys(i.val());case 7:if((e.t1=e.t0()).done){e.next=20;break}if(o=e.t1.value,!i.val()[o].username){e.next=18;break}if(t!==i.val()[o].username){e.next=17;break}return s=parseInt(n),u=Object.keys(i.val())[a],e.next=15,or.database().ref(r+"/"+u).child("highscore").set(s);case 15:e.next=18;break;case 17:a++;case 18:e.next=7;break;case 20:console.log("highscore updated");case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTopHighScores",value:function(){var e=Je(T().mark((function e(){var t,n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting top high scores..."),"jumpGame-highscores",e.next=4,or.database().ref("jumpGame-highscores").once("value");case 4:for(r in t=e.sent,n=[],t.val())i={username:t.val()[r].username,highscore:t.val()[r].highscore,rank:t.val()[r].rank},n.push(i);return console.log("top high scores returned"),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateHighScoresList",value:function(){var e=Je(T().mark((function e(t){var n,r,i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating high scores lists..."),n="jumpGame-highscores",e.next=4,or.database().ref(n).once("value");case 4:r=e.sent,i=0,e.t0=T().keys(r.val());case 7:if((e.t1=e.t0()).done){e.next=18;break}return a=e.t1.value,o=t[r.val()[a].rank-1],s=Object.keys(r.val())[i],e.next=13,or.database().ref(n+"/"+s).child("username").set(o.username);case 13:return e.next=15,or.database().ref(n+"/"+s).child("highscore").set(o.highscore);case 15:i++,e.next=7;break;case 18:console.log("list updated");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signUpUser",value:function(){var e=Je(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signing up user..."),e.next=3,this.checkUsers(t);case 3:if(r=e.sent,i=!1,!0!==r){e.next=11;break}return"jumpGame-users",e.next=9,or.database().ref("jumpGame-users").push({username:t,password:n,points:0,highscore:0,items:1});case 9:i=!0,console.log("adding user to the database...");case 11:return console.log("user is signed up"),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("logging in user..."),"jumpGame-users",e.next=4,or.database().ref("jumpGame-users").once("value");case 4:r=e.sent,i=!1,e.t0=T().keys(r.val());case 7:if((e.t1=e.t0()).done){e.next=21;break}if(a=e.t1.value,!r.val()[a].username){e.next=19;break}if(t!==r.val()[a].username){e.next=19;break}if(n!==r.val()[a].password){e.next=17;break}return i={username:r.val()[a].username,equipped:r.val()[a].equipped,items:r.val()[a].items,points:r.val()[a].points,highscore:r.val()[a].highscore},console.log("user successfully logged in"),e.abrupt("return",i);case 17:return i="Incorrect password",e.abrupt("return",i);case 19:e.next=7;break;case 21:return i="Account for username "+t+" does not exist. Please create an account.",e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"purchaseCharacter",value:function(){var e=Je(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,h;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("purchasing character..."),i="jumpGame-users",e.next=4,or.database().ref(i).once("value");case 4:a=e.sent,s=o=0,u=0,c=1,e.t0=T().keys(a.val());case 10:if((e.t1=e.t0()).done){e.next=29;break}if(l=e.t1.value,!a.val()[l].username){e.next=27;break}if(a.val()[l].username!==t){e.next=26;break}if(a.val()[l].items%n===0){e.next=24;break}return u=parseInt(a.val()[l].points),c=parseInt(a.val()[l].items),s=o,h=Object.keys(a.val())[s],e.next=21,or.database().ref(i+"/"+h).child("points").set(u-r);case 21:return e.next=23,or.database().ref(i+"/"+h).child("items").set(c*n);case 23:console.log("database updated");case 24:e.next=27;break;case 26:o++;case 27:e.next=10;break;case 29:console.log("character purchased");case 30:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateCharacter",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating character..."),r="jumpGame-users",e.next=4,or.database().ref(r).once("value");case 4:i=e.sent,o=a=0,e.t0=T().keys(i.val());case 8:if((e.t1=e.t0()).done){e.next=21;break}if(s=e.t1.value,!i.val()[s].username){e.next=19;break}if(i.val()[s].username!==t){e.next=18;break}return o=a,u=Object.keys(i.val())[o],e.next=16,or.database().ref(r+"/"+u).child("equipped").set(n);case 16:e.next=19;break;case 18:a++;case 19:e.next=8;break;case 21:console.log("character updated");case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRecordIds",value:function(){var e=Je(T().mark((function e(){var t,n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting ids..."),"jumpGame-records",e.next=4,or.database().ref("jumpGame-records").once("value");case 4:for(r in t=e.sent,n=[0],t.val())n.push(t.val()[r].id);return console.log("ids returned"),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addRecord",value:function(){var e=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding record"+t+", "+n+"..."),"jumpGame-records",e.next=4,or.database().ref("jumpGame-records").push({timestamp:t,id:n});case 4:console.log("record added");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updatePoints",value:function(){var e=Je(T().mark((function e(t,n){var r,i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating points..."),r="jumpGame-users",e.next=4,or.database().ref(r).once("value");case 4:for(s in i=e.sent,o=a=0,i.val())i.val()[s].username&&(t===i.val()[s].username?(u=parseInt(i.val()[s].points),n+=u,o=a):a++);return c=Object.keys(i.val())[o],e.next=11,or.database().ref(r+"/"+c).child("points").set(n);case 11:return console.log("points updated"),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),OD=new BD,LD=n(957),MD=n(490),FD=n(710),UD=n(223),qD=n(509),QD=n(156),jD=n(735),VD=n(726),zD=n(400),KD=n(697),WD=n(4),GD=n(202),HD=n(333),YD=n(751),JD=n(213),XD=n(47),ZD=n(184),$D=.6*window.innerHeight;$D<500&&($D=500),$D=500;var eB=.95*window.innerWidth;eB<1e3&&(eB=1e3);var tB=$D,nB=eB,rB=10,iB=200,aB=[3,5,8],oB=0,sB=1,uB=0,cB=0,lB=[],hB=0,fB=0,dB=!1,pB=0,vB=!1,yB=0,gB=0,mB=0,AB=new Audio;AB.src=LD;var kB=new Audio;kB.src=qD;var wB=new Audio;wB.src=QD;var bB=new Audio;bB.src=MD,bB.loop=!0;var IB=new Audio;IB.src=FD,IB.loop=!0,IB.muted=!0;var EB=new Audio;function _B(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}EB.src=UD;var xB=p((function e(){f(this,e),this.gameState=0})),CB=function(){function e(){f(this,e),this.width=$D/6-10,this.height=this.width,this.position={x:iB,y:.5*document.getElementById("gameScreen").height},this.transform={x:iB,y:.5*document.getElementById("gameScreen").height},this.gravityDeceleration=0,this.jumpBoost=0,this.stop=0,this.rotation=0,this.direction=1,this.x1=0,this.y1=0,this.h1=0,this.k1=0,this.fallen=0}return p(e,[{key:"draw",value:function(e){e.save();this.rotation+=this.direction,this.direction+=.5,this.direction>1&&(this.direction=1),this.rotation>80&&(this.rotation=80),this.rotation<-50&&(this.rotation=-50);var t=Math.sin(this.rotation*Math.PI/180),n=Math.cos(this.rotation*Math.PI/180),r=57;this.y1=r,this.h1=this.height*Math.cos(this.rotation*Math.PI/180)+this.width*Math.sin(this.rotation*Math.PI/180)-r,this.x1=this.height*Math.cos((90-this.rotation)*Math.PI/180)-r,this.k1=this.width*Math.cos(this.rotation*Math.PI/180)+this.height*Math.sin(this.rotation*Math.PI/180)-r,this.rotation<0&&(this.y1=this.width*Math.cos((90-this.rotation)*Math.PI/180)+r,this.h1=this.height*Math.cos(this.rotation*Math.PI/180)-this.width*Math.sin(this.rotation*Math.PI/180)-85.5,this.x1=-57,this.k1=this.width*Math.cos(this.rotation*Math.PI/180)-this.height*Math.sin(this.rotation*Math.PI/180)-85.5),this.position.x=this.transform.x-this.x1-50,this.position.y=this.transform.y+this.y1,e.transform(n,t,-t,n,this.transform.x-this.width*n/2,this.transform.y);var i=document.getElementById("spriteID");if("object"===typeof vB){var a=vB.equipped;2===a?i=document.getElementById("draco"):3===a?i=document.getElementById("potter4"):5===a?i=document.getElementById("dementor"):7===a?i=document.getElementById("ron1"):11===a&&(i=document.getElementById("ginny"))}e.drawImage(i,0,0,this.width,this.height),e.restore()}},{key:"fall",value:function(){this.transform.y+=20,this.transform.y>document.getElementById("gameScreen").height&&(this.fallen=1)}},{key:"update",value:function(e){this.gravityDeceleration+=.2,this.transform.y+=this.gravityDeceleration,pB=this.position.y}},{key:"jump",value:function(){this.gravityDeceleration=-6,this.direction=-7,wB.play()}}]),e}(),SB=function(){function e(){f(this,e),this.tops=[0,10,20,30,40],this.speed=10,this.window=$D/3,this.correct=1,this.xRadius=60,this.positionX=document.getElementById("gameScreen").width+rB+this.xRadius/2,this.passed=!1,this.a=0,this.b=0,this.question="",this.incorrectAnswerA=0,this.incorrectAnswerB=0,this.round=0}return p(e,[{key:"create",value:function(){this.a=_B(2,12),this.b=_B(3,12),0!==mB&&(this.round+=1,this.a=mB,1===gB?(this.b=this.round%12,0===this.b&&(this.b=12)):(2===gB||(this.a=_B(1,12)),this.b=_B(1,12))),this.question=this.a+" x "+this.b,this.tops[0]=0,this.tops[1]=_B(.05*document.getElementById("gameScreen").height,.1*document.getElementById("gameScreen").height),this.tops[2]=this.tops[1]+this.window,this.tops[3]=this.tops[2]+_B(.1*document.getElementById("gameScreen").height,.12*document.getElementById("gameScreen").height),this.tops[4]=this.tops[3]+this.window,this.correct=1+2*(_B(1,2)-1),this.passed=!1,this.answerCorrect=this.a*this.b,1===_B(1,2)?this.answerIncorrect=(this.b-1)*this.a:this.answerIncorrect=(this.b+1)*this.a}},{key:"draw",value:function(e){for(var t=0;t<this.tops.length;t++)e.fillStyle="#b58b00",1!==t&&3!==t?t+1<this.tops.length?(e.fillStyle="#000",e.fillRect(this.positionX-2,this.tops[t]+4,14,this.tops[t+1]-this.tops[t]),e.fillStyle="#b58b00",e.fillRect(this.positionX,this.tops[t],rB,this.tops[t+1]-this.tops[t])):(e.fillStyle="#000",e.fillRect(this.positionX-2,this.tops[t]+4,14,document.getElementById("gameScreen").height-this.tops[t]),e.fillStyle="#b58b00",e.fillRect(this.positionX,this.tops[t],rB,document.getElementById("gameScreen").height-this.tops[t])):(e.beginPath(),e.lineWidth=14,e.strokeStyle="#000",e.ellipse(this.positionX,this.tops[t]+(this.tops[t+1]-this.tops[t])/2,this.xRadius,(this.tops[t+1]-this.tops[t])/2,0,0,2*Math.PI),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#b58b00",e.ellipse(this.positionX,this.tops[t]+(this.tops[t+1]-this.tops[t])/2,this.xRadius,(this.tops[t+1]-this.tops[t])/2,0,0,2*Math.PI),e.stroke(),e.fillStyle="rgba(255, 255, 255, 0)"),1!==t&&3!==t||(e.fillStyle="black",e.font="55px harryPotterFont",t===this.correct?e.fillText(this.answerCorrect,this.positionX-25,this.tops[t]+this.window/2+20):e.fillText(this.answerIncorrect,this.positionX-25,this.tops[t]+this.window/2+20)),2===t&&(e.fillStyle="black",e.fillText(this.question,this.positionX-150,(this.tops[t]+this.tops[t+1])/2))}},{key:"update",value:function(e){this.positionX-=aB[oB],this.positionX+rB+this.xRadius<0&&(this.positionX=document.getElementById("gameScreen").width+rB+this.xRadius/2,this.create()),uB+=aB[oB]}}]),e}(),TB=function(){function e(){f(this,e),this.top1=0,this.top2=0,this.speed=0,this.window=0,this.xRadius=0,this.positionX=0}return p(e,[{key:"draw",value:function(e){e.beginPath(),e.lineWidth=14,e.strokeStyle="#000",e.ellipse(this.positionX,this.top1+this.window/2,this.xRadius,this.window/2,0,-Math.PI/2,Math.PI/2),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#b58b00",e.ellipse(this.positionX,this.top1+this.window/2,this.xRadius,this.window/2,0,-Math.PI/2,Math.PI/2),e.stroke(),e.beginPath(),e.lineWidth=14,e.strokeStyle="#000",e.ellipse(this.positionX,this.top2+this.window/2,this.xRadius,this.window/2,0,-Math.PI/2,Math.PI/2),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#b58b00",e.ellipse(this.positionX,this.top2+this.window/2,this.xRadius,this.window/2,0,-Math.PI/2,Math.PI/2),e.stroke(),e.fillStyle="rgba(255, 255, 255, 0)"}},{key:"update",value:function(e,t){this.positionX=t.positionX,this.top1=t.tops[1],this.top2=t.tops[3],this.positionX=t.positionX,uB+=aB[oB]}}]),e}(),NB=function(){function e(){f(this,e),this.radius=30,this.position={x:document.getElementById("gameScreen").width+this.radius,y:document.getElementById("gameScreen").height/2},this.bludger_hit=0}return p(e,[{key:"draw",value:function(e){e.fillStyle="rgb(0, 0, 0)",e.strokeStyle="rgb(0, 0, 0)",this.position.x>iB?(e.beginPath(),e.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),e.fill(),e.stroke()):(this.bludger_hit=1,console.log("got em"))}},{key:"update",value:function(e){if(dB){this.position.x-=50;var t=(document.getElementById("gameScreen").width-this.position.x)/(document.getElementById("gameScreen").width-iB);this.position.y=document.getElementById("gameScreen").height/2-t*(document.getElementById("gameScreen").height/2-pB)}}}]),e}(),RB=function(){function e(){f(this,e),this.position={x:400,y:pB},this.radius=5}return p(e,[{key:"draw",value:function(e){e.strokeStyle="rgb(0, 0, 0)",e.fillStyle="#ffcc00",e.lineWidth=1,e.beginPath(),e.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),e.fill(),e.stroke()}},{key:"update",value:function(e){this.position.y=pB,this.position.x=400}}]),e}(),PB=function(){function e(){f(this,e),this.position={x:_B(100,document.getElementById("gameScreen").width),y:_B(10,document.getElementById("gameScreen").height/2)},this.size=_B(20,40),this.cloudSpeed=_B(1,10)/10}return p(e,[{key:"draw",value:function(e){var t=document.getElementById("cloudID");e.drawImage(t,this.position.x,this.position.y,this.size,this.size)}},{key:"update",value:function(e){this.position.x-=this.cloudSpeed,this.position.x<-this.size&&(this.position.x=document.getElementById("gameScreen").width,this.size=_B(20,40),this.cloudSpeed=_B(1,10)/10,this.position.y=_B(10,document.getElementById("gameScreen").height/2))}}]),e}(),DB=function(){function e(){f(this,e),this.position={x:document.getElementById("gameScreen").width+50,y:50},this.size=40,this.totalFrames=4,this.currentFrame=0,this.active=0}return p(e,[{key:"draw",value:function(e){if(1===this.active){var t=Math.floor(this.currentFrame)%this.totalFrames,n=document.getElementById("coinID_"+t);e.drawImage(n,this.position.x,this.position.y,this.size,this.size)}}},{key:"update",value:function(e){if(1===this.active){this.currentFrame+=.2;this.position.x-=2,this.position.y=document.getElementById("gameScreen").height/2-(document.getElementById("gameScreen").height-50-50)/2*Math.sin(document.getElementById("gameScreen").width-this.position.x/200),this.position.x+this.size<0&&(this.active=0)}else this.position.x=document.getElementById("gameScreen").width+50}}]),e}(),BB=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(0),2),a=i[0],o=i[1];function s(){return s=Je(T().mark((function e(){var t,n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(1),t=parseInt(localStorage.getItem("id"))){e.next=8;break}return e.next=5,OD.getRecordIds();case 5:n=e.sent,t=Math.max.apply(Math,h(n))+1,localStorage.setItem("id",t);case 8:if(1===t){e.next=12;break}return r=Date.now(),e.next=12,OD.addRecord(r,t);case 12:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function u(){return(u=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return f.apply(this,arguments)}function f(){return(f=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OD.loginUser(t,n);case 2:"object"===typeof(vB=e.sent)?(cB=vB.highscore,console.log("username is "+vB.username),console.log("HIGH_SCORE is "+cB),sessionStorage.setItem("savedUsername",t),sessionStorage.setItem("savedPassword",n),r(t),N()):alert(vB);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return(p=Je(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("savedUsername"))){e.next=5;break}return e.next=4,OD.updatePoints(t,uB);case 4:vB.points+=uB;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){var e="sunnyBackground";return e}function y(){return g.apply(this,arguments)}function g(){return g=Je(T().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f,d;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("game has begun, speed is "+aB[oB]),bB.paused,bB.play(),v(),(t=new xB).gameState=1,n=document.getElementsByClassName("menuBtns"),r=0;r<n.length;r++)n[r].disabled=!0;i=new CB,a=new RB,document.addEventListener("keydown",(function(e){if(" "===e.key)e.preventDefault(),i.jump()})),(o=document.getElementById("gameScreen")).addEventListener("click",(function(){i.jump()})),w(s=o.getContext("2d")),s.font="60px harryPotterFont",i.draw(s),u=4;case 18:if(!(u>0)){e.next=34;break}if(s.clearRect(0,0,document.getElementById("gameScreen").width,document.getElementById("gameScreen").height),4!==u){e.next=27;break}return s.fillStyle="#fff",s.fillText("Starting...",-document.getElementById("gameScreen").width,0),e.next=25,new Promise((function(e){setTimeout((function(){e(2)}),100)}));case 25:e.next=31;break;case 27:return s.fillStyle="rgb(100, 100, 100)",s.fillText(u,.5*document.getElementById("gameScreen").width,document.getElementById("gameScreen").height/2),e.next=31,new Promise((function(e){setTimeout((function(){e(2)}),1e3)}));case 31:u--,e.next=18;break;case 34:(c=new SB).create(),(l=new TB).top1=c.tops[1],l.top2=c.tops[3],l.speed=c.speed,l.window=c.window,l.xRadius=c.xRadius,l.positionX=c.positionX,h=new NB,f=[],d=new DB,requestAnimationFrame((function(e){k(e,s,t,i,c,h,a,f,d,l)}));case 47:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function m(){_B(2,10)}(0,t.useEffect)((function(){console.log("starting app..."),document.getElementById("menuBackground").width=nB,document.getElementById("menuBackground").height=tB,document.getElementById("menuScreen").style.width=nB+"px";for(var e=document.getElementsByClassName("levelSprite"),t=document.getElementsByClassName("levelSpriteText"),n=0;n<e.length;n++)e[n].width=nB/5+50,e[n].style.left=(2*(n+1)-1)*nB/6-e[n].width/2+"px",e[n].style.top=tB/2-2*e[n].height/3+"px",t[n].style.left=(2*(n+1)-1)*nB/6-e[n].width/2+"px",t[n].style.width=e[n].width+"px",t[n].style.top=parseInt(e[n].style.top.split("px"[0]))+e[n].height+"px";if(0===a){console.log("loaded: "+a);var r=sessionStorage.getItem("savedUsername");if(r){var i=sessionStorage.getItem("savedPassword");document.getElementById("userID").innerText=r,function(e,t){u.apply(this,arguments)}(r,i)}!function(){s.apply(this,arguments)}()}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.getElementById("resetBtn").style.right="10px")}));var A=0;function k(e,t,n,r,i,a,o,s,u,c){var l=e-A;if(A=e,function(e){var t=document.getElementById("backgroundSkyID"),n=document.getElementById("backgroundTowersID"),r=document.getElementById("quid01"),i=document.getElementById("quid02"),a=document.getElementById("quid03"),o=document.getElementById("quid04"),s=document.getElementById("gameScreen").height/3.5,u=s/n.height;n.height*=u,n.width*=u,u=s/r.height,r.height*=u,r.width*=u,i.height*=u,i.width*=u,a.height*=u,a.width*=u,o.height*=u,o.width*=u;var c=uB/15;e.clearRect(0,0,document.getElementById("gameScreen").width,document.getElementById("gameScreen").height),e.drawImage(t,0,0,document.getElementById("gameScreen").width,document.getElementById("gameScreen").height);for(var l=[r,i,a,o],h=Math.ceil(document.getElementById("gameScreen").width/(l.length*l[0].width))+1,f=0;f<h;f++)for(var d=0;d<l.length;d++)e.drawImage(l[d],l[d].width*d-c%(l[d].width*l.length)+f*l[d].width*l.length,document.getElementById("gameScreen").height-l[d].height,l[d].width,l[d].height)}(t),function(e,t,n){if(t.length<5){var r=new PB;t.push(r)}for(var i=0;i<t.length;i++)t[i].update(n),t[i].draw(e)}(t,s,l),0===u.active&&1===_B(1,1e3)&&(console.log("coin has been activated"),u.active=1,IB.play()),r.position.x+r.width>u.position.x&&r.position.x<u.position.x+u.size&&r.position.y+r.height>u.position.y&&r.position.y<u.position.y+u.size&&(u.active=0,IB.pause(),EB.play(),fB++),u.draw(t),u.update(l),t.font="60px harryPotterFont",t.fillStyle="rgb(100, 100, 100)",t.font="40px harryPotterFont",t.fillText("Level "+sB,10,50),1===n.gameState&&(r.update(l),r.position.x>i.positionX&&!1===i.passed&&(sB++,hB+=.1,i.passed=!0),function(e,t,n,r){t.transform.y>document.getElementById("gameScreen").height&&(t.transform.y=document.getElementById("gameScreen").height,e.gameState=-1,AB.play());var i=!0;t.position.x+t.k1>n.positionX&&t.position.x<n.positionX+rB&&(i=!1,t.position.y>n.tops[n.correct]&&t.position.y+t.h1<n.tops[n.correct]+n.window&&(i=!0,kB.play())),!1===i&&(e.gameState=-2,dB=!0,t.draw(r),AB.play())}(n,r,i,t)),-2===n.gameState&&0===i.incorrectAnswerA&&(i.incorrectAnswerA=i.a,i.incorrectAnswerB=i.b),i.update(l),i.draw(t),r.draw(t),o.update(l),o.draw(t),c.update(l,i),c.draw(t),1!==n.gameState&&0===a.bludger_hit&&(a.update(l),a.draw(t)),1!==n.gameState&&1===a.bludger_hit&&0===r.fallen&&(r.fall(),r.draw(t)),r.position.y<document.getElementById("gameScreen").height)1!==n.gameState&&0!==a.bludger_hit&&0!==r.fallen||requestAnimationFrame((function(e){k(e,t,n,r,i,a,o,s,u,c)}));else{console.log("game over"),IB.pause(),sB>1?(hB>10&&(hB=10),uB=parseInt((sB*(hB+1)*100).toFixed(0))+500*fB):uB=0,t.fillStyle="rgb(250, 250, 250, 0.8)",t.fillRect(0,0,document.getElementById("gameScreen").width,document.getElementById("gameScreen").height),-2===n.gameState?function(e){document.getElementById("correctAnswer").style.display="block",document.getElementById("nextBtn").style.display="block",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.getElementById("nextBtn").style.right="10px");document.getElementById("resetBtn").style.display="none";for(var t=["rgb(255, 0, 0","rgb(255, 136, 0","rgb(255, 0, 255","rgb(255, 247, 0","rgb(26, 255, 0","rgb(0, 128, 255"],n="",r="",i=0;i<=12;i++){n+="<tr>";for(var a=0;a<=12;a++)r=i<=a?t[a%t.length]:t[i%t.length],n+=0===a?0===i?'<th style="background-color:'+r+')">X</th>':'<th style="background-color:'+r+')">'+i+"</th>":0===i?'<th style="background-color:'+r+')">'+a+"</th>":'<td style="background-color:'+r+', 0.5)">'+a*i+"</td>";n+="</tr>"}document.getElementById("correctAnswer").innerHTML="<h4>"+e.incorrectAnswerA+" x "+e.incorrectAnswerB+", please answer below to proceed</h4><table><tbody>"+n+"</tbody></table>",document.getElementById("inputAns").value="",document.getElementById("inputAns").style.display="block",yB=e.incorrectAnswerA*e.incorrectAnswerB,document.getElementById("inputAns").style.left=20+76*e.incorrectAnswerA+"px",document.getElementById("inputAns").style.top=52+34*e.incorrectAnswerB+"px"}(i):C();for(var h=document.getElementsByClassName("menuBtns"),f=0;f<h.length;f++)h[f].disabled=!1}}function w(e){e.font="1px harryPotterFont",e.fillText("a",0,document.getElementById("gameScreen").height+10),e.font="1px bladeRunnerFont",e.fillText("a",0,document.getElementById("gameScreen").height+10),e.font="1px goodTimesFont",e.fillText("a",0,document.getElementById("gameScreen").height+10)}function b(){return I.apply(this,arguments)}function I(){return I=Je(T().mark((function e(){var t,r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("savedUsername"))){e.next=14;break}return alert("Congrats! You've beaten your high score!"),e.next=5,OD.updateHighScore(n,cB);case 5:if(r=[],console.log(lB),!(lB.length>0)){e.next=14;break}for(i=!1,a=0;a<lB.length;a++)!1===i&&cB>lB[a].highscore&&(o={username:t,highscore:cB},r.push(o),i=!0),r.length<lB.length&&lB[a].username!==t&&r.push(lB[a]);if(!0!==i){e.next=14;break}return e.next=13,OD.updateHighScoresList(r);case 13:lB=r;case 14:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function E(){document.getElementById("lvlResetBtn").style.display="block",document.getElementById("resetBtn").style.display="block",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.getElementById("resetBtn").style.right="10px"),document.getElementById("highScoresList").innerHTML="<table><tbody>";for(var e="",t=0;t<lB.length;t++)0===t&&(e="<table><tbody>"),e+="<tr><td>"+lB[t].username+"</td><td>"+lB[t].highscore+"</td></tr>",t===lB.length-1&&(e+="</tbody></table>");document.getElementById("highScoresList").innerHTML=e}function _(){return(_=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uB=0,sB=1,hB=0,fB=0,console.log("reset"),document.getElementById("startGameBackBtn").style.display="none",document.getElementById("lvlResetBtn").style.display="none",document.getElementById("resetBtn").style.display="none",document.getElementById("nextBtn").style.display="none",document.getElementById("gameOptionsMenu").style.display="none",dB=!1,document.getElementsByClassName("showScores")[0].style.display="none",m(),y();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){0===oB&&(document.getElementById("speedImgID").src=$e),1===oB&&(document.getElementById("speedImgID").src=et),2===oB&&(document.getElementById("speedImgID").src=tt)}function C(){return S.apply(this,arguments)}function S(){return(S=Je(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("correctAnswer").style.display="none",document.getElementById("inputAns").style.display="none",document.getElementById("nextBtn").style.display="none",document.getElementsByClassName("showScores")[0].style.display="block",document.getElementById("scoresBreakdown").innerHTML="\n            <table>\n                <tbody>\n                    <tr><td>Level:</td><td>"+sB.toFixed(0)+" x 100</td></tr>\n                    <tr><td>Streak multiplier:</td><td>x"+(hB+1).toFixed(1)+"</td></tr>\n                    <tr><td>Coin bonus:</td><td>+500 x "+fB.toFixed(0)+"</td></tr>\n                </tbody>\n            </table>\n        ",document.getElementById("totalScore").innerHTML="Total Score: "+uB.toFixed(0),e.next=8,d();case 8:return e.next=10,OD.getTopHighScores();case 10:if(lB=e.sent,!(uB>cB)){e.next=15;break}return cB=uB,e.next=15,b();case 15:E();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){"block"===document.getElementById("loginFormID").style.display?(document.getElementById("loginFormID").style.display="none",document.getElementById("openLoginBtnID").style.display="block",document.getElementById("openSignUpBtnID").style.display="block"):(document.getElementById("loginFormID").style.display="block",document.getElementById("openLoginBtnID").style.display="none",document.getElementById("openSignUpBtnID").style.display="none")}var R=function(e,t){gB=t,console.log(gB),document.getElementById("menuScreenOne").style.display="none",document.getElementById("menuScreenTwo").style.display="block",document.getElementById("menuScreenTwo").style.width=nB+"px",document.getElementById("canvasGameScreen").style.display="none",document.getElementById("canvasGameScreen").style.width=nB+"px",document.getElementById("menuScreenTwoText").innerText=document.getElementsByClassName("levelSpriteText")[t-1].innerText,document.getElementById("timesLevelTable").style.left=nB/6+"px",1===t&&(document.getElementById("menuScreenTwoImg").src=ot),2===t&&(document.getElementById("menuScreenTwoImg").src=st),3===t&&(document.getElementById("menuScreenTwoImg").src=ut,document.getElementById("menuScreenTwo").style.display="none",P(0));for(var n=document.getElementsByClassName("timesLevelTd"),r=0;r<n.length;r++)n[r].style.width=nB/6+"px",n[r].style.height=tB/8+"px"},P=function(e,t){mB=t,document.getElementById("menuScreenOne").style.display="none",document.getElementById("menuScreen").style.display="none",document.getElementById("canvasGameScreen").style.display="block",document.getElementById("resetBtn").style.display="block",document.getElementById("startGameBackBtn").style.display="block",document.getElementById("gameOptionsMenu").style.display="block";var n=document.getElementById("gameScreen");n.getContext("2d").drawImage(document.getElementById("menuBackground"),0,0,n.width,n.height),document.getElementById("optionsLevel").innerText=t?t+"x":"All",1===gB&&(document.getElementById("gameOptionsImg").src=ot),2===gB&&(document.getElementById("gameOptionsImg").src=st),3===gB&&(document.getElementById("gameOptionsImg").src=ut)};function D(){document.getElementById("gameScreen").width===nB?(document.getElementById("gameScreen").style.position="absolute",document.getElementById("gameScreen").width=window.innerWidth-10,document.getElementById("gameScreen").height=window.innerHeight-10,document.getElementById("gameScreen").style.top="0px",document.getElementById("gameScreen").style.left="0px",document.getElementById("resetBtn").style.bottom="-500px",document.getElementById("resetBtn").style.right="40px",document.getElementById("nextBtn").style.bottom="-500px",document.getElementById("nextBtn").style.right="40px",document.getElementById("fullScrBtnCls").style.display="block",document.getElementById("fullScrBtn").style.display="none"):(document.getElementById("gameScreen").style.position="static",document.getElementById("resetBtn").style.bottom="20px",document.getElementById("resetBtn").style.right="40px",document.getElementById("nextBtn").style.bottom="20px",document.getElementById("nextBtn").style.right="40px",document.getElementById("gameScreen").width=nB,document.getElementById("gameScreen").height=tB,document.getElementById("fullScrBtnCls").style.display="none",document.getElementById("fullScrBtn").style.display="block")}var B=function(e,t){document.getElementById("optionsLevel")&&"All"===document.getElementById("optionsLevel").innerText&&(t=1),document.getElementsByClassName("showScores")[0].style.display="none",document.getElementById("menuScreenOne").style.display="none",document.getElementById("menuScreenTwo").style.display="none",document.getElementById("canvasGameScreen").style.display="none",1===t&&(document.getElementById("menuScreen").style.display="block",document.getElementById("menuScreenOne").style.display="block",document.getElementById("menuScreenTwo").style.display="none"),2===t&&(document.getElementById("menuScreen").style.display="block",document.getElementById("menuScreenOne").style.display="none",document.getElementById("menuScreenTwo").style.display="block")};return(0,ZD.jsxs)("div",{className:"Home",children:[(0,ZD.jsxs)("div",{id:"gameScreenDiv",children:[(0,ZD.jsx)("button",{id:"fullScrBtnCls",className:"btn btn-light menuBtns",onClick:D,children:"Close Full Screen X"}),(0,ZD.jsxs)("div",{id:"menuScreen",children:[(0,ZD.jsx)("img",{id:"menuBackground",alt:"menu-background",src:Xe}),(0,ZD.jsxs)("div",{id:"menuScreenOne",children:[(0,ZD.jsx)("h3",{children:"Choose your level:"}),(0,ZD.jsx)("p",{children:"Wizards in training will be tested with times tables of your choosing, in numerical order."}),(0,ZD.jsx)("p",{children:"Maths Wizards will be tested with times tables of your choosing, in a randomised order. "}),(0,ZD.jsx)("p",{children:"For the Maths Genius, you will be tested with randomised times tables."}),(0,ZD.jsx)("img",{className:"levelSprite",alt:"level-1",src:ot,onClick:function(e){return R(0,1)}}),(0,ZD.jsx)("div",{className:"levelSpriteText",children:"Wizard in training"}),(0,ZD.jsx)("img",{className:"levelSprite",alt:"level-2",src:st,onClick:function(e){return R(0,2)}}),(0,ZD.jsx)("div",{className:"levelSpriteText",children:"Maths wizard"}),(0,ZD.jsx)("img",{className:"levelSprite",alt:"level-3",src:ut,onClick:function(e){return R(0,3)}}),(0,ZD.jsx)("div",{className:"levelSpriteText",children:"Maths genius"})]}),(0,ZD.jsxs)("div",{id:"menuScreenTwo",style:{display:"none"},children:[(0,ZD.jsxs)("div",{className:"backBtn",onClick:function(e){return B(0,1)},children:[(0,ZD.jsx)("img",{src:Ze,alt:"back"}),(0,ZD.jsx)("div",{children:"Go back"})]}),(0,ZD.jsx)("img",{id:"menuScreenTwoImg",alt:"level-1",src:ot}),(0,ZD.jsx)("h2",{id:"menuScreenTwoText",children:"Wizard level"}),(0,ZD.jsx)("table",{id:"timesLevelTable",style:{marginLeft:nB/6},children:(0,ZD.jsxs)("tbody",{children:[(0,ZD.jsxs)("tr",{children:[(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,1)},children:"1x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,4)},children:"4x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,7)},children:"7x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,10)},children:"10x"})})]}),(0,ZD.jsxs)("tr",{children:[(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,2)},children:"2x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,5)},children:"5x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,8)},children:"8x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,11)},children:"11x"})})]}),(0,ZD.jsxs)("tr",{children:[(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,3)},children:"3x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,6)},children:"6x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,9)},children:"9x"})}),(0,ZD.jsx)("td",{className:"timesLevelTd",children:(0,ZD.jsx)("button",{className:"btn btn-light timesLevel",onClick:function(e){return P(e,12)},children:"12x"})})]})]})})]}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{})]}),(0,ZD.jsxs)("div",{id:"canvasGameScreen",height:tB,width:nB,style:{display:"none"},children:[(0,ZD.jsx)("canvas",{id:"gameScreen",height:tB,width:nB}),(0,ZD.jsx)("div",{id:"correctAnswer"}),(0,ZD.jsx)("input",{id:"inputAns",type:"text",autoComplete:"off",className:"form-control",placeholder:"?",style:{display:"none"}}),(0,ZD.jsx)("button",{id:"resetBtn",className:"btn btn-primary menuBtns",onClick:function(){return _.apply(this,arguments)},children:"Play Again?"}),(0,ZD.jsx)("button",{id:"lvlResetBtn",className:"btn btn-secondary menuBtns",onClick:function(e){return B(0,1)},style:{display:"none"},children:"Different level"}),(0,ZD.jsx)("button",{id:"nextBtn",className:"btn btn-primary menuBtns",onClick:function(){var e=!1,t=document.getElementById("inputAns").value;isNaN(t)||parseInt(t)===yB&&(e=!0,alert("That's correct! well done"),C()),e||alert(t+" is incorrect, that's ok. Have another go :)")},style:{display:"none"},children:"Ok"}),(0,ZD.jsx)("button",{id:"fullScrBtn",className:"btn btn-dark menuBtns",onClick:D,children:"Full Screen"}),(0,ZD.jsxs)("div",{id:"startGameBackBtn",className:"backBtn",onClick:function(e){return B(0,2)},children:[(0,ZD.jsx)("img",{src:Ze,alt:"back"}),(0,ZD.jsx)("div",{children:"Go back"})]}),(0,ZD.jsxs)("div",{id:"gameOptionsMenu",children:[(0,ZD.jsxs)("div",{id:"speedDiv",children:[(0,ZD.jsx)("p",{className:"optionsText",style:{display:"inline"},children:"Speed:"}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("img",{className:"speenBtn",alt:"speed-decrease",src:at,onClick:function(){(oB-=1)<0&&(oB=0),x()}}),(0,ZD.jsx)("img",{id:"speedImgID",alt:"speed",src:$e}),(0,ZD.jsx)("img",{className:"speenBtn",alt:"speed-increase",src:it,onClick:function(){(oB+=1)>=aB.length&&(oB=aB.length-1),x()}})]}),(0,ZD.jsxs)("div",{id:"sfxDiv",children:[(0,ZD.jsx)("p",{className:"optionsText",style:{display:"inline"},children:"Music:"}),(0,ZD.jsx)("img",{onClick:function(){document.getElementsByClassName("musicOptionImg")[0].style.display="none",document.getElementsByClassName("musicOptionImg")[1].style.display="block",bB.muted=!0},className:"musicOptionImg",alt:"music-on",src:nt}),(0,ZD.jsx)("img",{onClick:function(){document.getElementsByClassName("musicOptionImg")[0].style.display="block",document.getElementsByClassName("musicOptionImg")[1].style.display="none",bB.muted=!1},className:"musicOptionImg",alt:"music-off",src:rt,style:{display:"none"}}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("p",{className:"optionsText",style:{display:"inline"},children:"SFX:"}),(0,ZD.jsx)("img",{onClick:function(){document.getElementsByClassName("sfxOptionImg")[0].style.display="none",document.getElementsByClassName("sfxOptionImg")[1].style.display="block",AB.muted=!0,kB.muted=!0,wB.muted=!0,IB.muted=!0},className:"sfxOptionImg",alt:"sfx-on",src:nt}),(0,ZD.jsx)("img",{onClick:function(){document.getElementsByClassName("sfxOptionImg")[0].style.display="block",document.getElementsByClassName("sfxOptionImg")[1].style.display="none",AB.muted=!1,kB.muted=!1,wB.muted=!1,IB.muted=!1},className:"sfxOptionImg",alt:"sfx-off",src:rt,style:{display:"none"}})]}),(0,ZD.jsxs)("div",{id:"gameOptions",children:[(0,ZD.jsx)("img",{id:"gameOptionsImg",alt:"level-1",src:ot}),(0,ZD.jsx)("div",{id:"optionsLevel",children:"x10"})]})]}),(0,ZD.jsx)("img",{id:"spriteID",alt:"potter",src:ct,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"draco",alt:"draco",src:GD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"potter4",alt:"potter4",src:HD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"dementor",alt:"dementor",src:YD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"ron1",alt:"ron1",src:JD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"ginny",alt:"ginny",src:XD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"coinID_0",alt:"coin",src:lt,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"coinID_1",alt:"coin",src:ht,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"coinID_2",alt:"coin",src:ft,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"coinID_3",alt:"coin",src:dt,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"backgroundSkyID",alt:"background",src:pt,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"quid01",alt:"background",src:jD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"quid02",alt:"background",src:VD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"quid03",alt:"background",src:zD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"quid04",alt:"background",src:KD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"backgroundTowersID",alt:"background",src:vt,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"cloudID",alt:"background",src:yt,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"snitch",alt:"snitch",src:WD,style:{display:"none"}}),(0,ZD.jsx)("img",{id:"snitch",alt:"snitch",src:WD,style:{display:"none"}})]}),(0,ZD.jsxs)("div",{className:"showScores",style:{display:"none"},children:[(0,ZD.jsxs)("div",{id:"userScores",children:[(0,ZD.jsx)("h3",{children:"Your Scores"}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("div",{id:"scoresBreakdown"}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("div",{id:"totalScore"})]}),(0,ZD.jsxs)("div",{id:"highScores",children:[(0,ZD.jsx)("h3",{children:"High Scores"}),(0,ZD.jsx)("br",{}),(0,ZD.jsx)("div",{id:"highScoresList"})]})]})]}),(0,ZD.jsx)("br",{})]})},OB=function(){return(0,ZD.jsx)("div",{children:(0,ZD.jsx)("p",{children:"Error: Page does not exist!"})})},LB=function(){function e(){var e=sessionStorage.getItem("savedUsername");console.log("Saved username is "+e),e?(document.getElementById("userID").innerText=e,document.getElementById("userLogin").style.display="inline-block",document.getElementById("signUpDiv").style.display="none"):(document.getElementById("userLogin").style.display="none",document.getElementById("signUpDiv").style.display="inline-block")}return(0,t.useEffect)((function(){e()})),(0,ZD.jsxs)("div",{className:"Nav",children:[(0,ZD.jsx)(We,{to:"/",className:"navbar_link",children:"Home"}),(0,ZD.jsx)(We,{to:"/profile",className:"navbar_link",children:"My Account"}),(0,ZD.jsxs)("div",{id:"signUpDiv",children:[(0,ZD.jsx)(We,{to:"/login",className:"navbar_link",children:"Login"}),(0,ZD.jsx)(We,{to:"/signup",className:"navbar_link",children:"Sign Up"})]}),(0,ZD.jsxs)("div",{id:"userLogin",children:[(0,ZD.jsx)("p",{id:"userID",children:"Username"}),(0,ZD.jsx)("button",{className:"btn btn-primary logout",onClick:function(){sessionStorage.clear(),sessionStorage.setItem("savedUsername",""),e(),console.log("logging out"),console.log(window.location.protocol+"//"+window.location.host+"/jump-game"),window.open(window.location.protocol+"//"+window.location.host+"/jump-game","_self")},children:"Logout"})]})]})},MB=!1,FB=0,UB=function(){function e(){return(e=Je(T().mark((function e(){var t,n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("savedUsername"),n=sessionStorage.getItem("savedPassword"),r=t,i=n,e.next=6,OD.loginUser(r,i);case 6:MB=e.sent,FB=MB.highscore,document.getElementById("usernameID").innerHTML="Welcome "+MB.username,document.getElementById("pointsID").innerHTML="You have "+MB.points+" points",document.getElementById("pointsID").innerHTML+="<br>High Score: "+FB+" points";case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return r.apply(this,arguments)}function r(){return(r=Je(T().mark((function e(){var t,n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("savedUsername"),n=document.getElementsByClassName("characterBtnEquipSet"),r=document.getElementsByClassName("characterBtnPurch"),i=sessionStorage.getItem("savedPassword"),e.next=6,OD.loginUser(t,i);case 6:for(MB=e.sent,a=0;a<n.length;a++)t?MB.items%parseInt(n[a].value)===0&&(n[a].style.display="block",r[a].style.display="none",n[a].innerHTML="Equip character",MB.equipped===parseInt(n[a].value)&&(n[a].innerHTML="Character equipped")):a>0&&(n[a].style.display="none",r[a].style.display="block");document.getElementsByClassName("loader")[0].style.display="none",document.getElementsByClassName("profilePage")[0].style.display="block";case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return a.apply(this,arguments)}function a(){return(a=Je(T().mark((function e(t){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=sessionStorage.getItem("savedUsername"))){e.next=8;break}return i=1,"draco"===t?i=2:"potter4"===t?i=3:"dementor"===t?i=5:"ron1"===t?i=7:"ginny"===t&&(i=11),e.next=6,OD.updateCharacter(r,i);case 6:MB.equipped=i,n();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return(s=Je(T().mark((function e(t){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("savedUsername")){e.next=16;break}if(console.log(t),r=1,i=0,"draco"===t?(r=2,i=5e3):"potter4"===t?(r=3,i=7500):"dementor"===t?(r=5,i=1e5):"ron1"===t?(r=7,i=2e5):"ginny"===t?(r=11,i=2e5):console.log("ERR: character is "+t),!(r>1&&i>0)){e.next=14;break}if(!(i<=MB.points)){e.next=13;break}return e.next=10,OD.purchaseCharacter(MB.username,r,i);case 10:alert("Character "+t+" was successfully purchased"),e.next=14;break;case 13:alert("You do not have enough points to purchase this character");case 14:e.next=17;break;case 16:alert("you need to have an account and be signed in to purchase other characters");case 17:n();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){sessionStorage.getItem("savedUsername")?function(){e.apply(this,arguments)}():document.getElementById("loggedOut").style.display="block",n()})),(0,ZD.jsxs)("div",{className:"Profile",children:[(0,ZD.jsx)("div",{class:"loader"}),(0,ZD.jsxs)("div",{className:"profilePage",style:{display:"none"},children:[(0,ZD.jsx)("h3",{children:"Profile"}),(0,ZD.jsxs)("div",{className:"signIn",children:[(0,ZD.jsx)("h4",{id:"usernameID",children:" "}),(0,ZD.jsx)("p",{id:"pointsID",children:" "})]}),(0,ZD.jsx)("p",{id:"loggedOut",style:{display:"none"},children:"Create an account and sign in to unlock other characters for gameplay!"}),(0,ZD.jsx)("h4",{children:"Characters"}),(0,ZD.jsx)("br",{}),(0,ZD.jsxs)("div",{className:"store",children:[(0,ZD.jsxs)("div",{className:"character",children:[(0,ZD.jsx)("h5",{children:"Harry"}),(0,ZD.jsx)("img",{id:"potter",alt:"background",src:ct}),(0,ZD.jsx)("button",{className:"characterBtnEquipSet",onClick:function(){return i("potter")},value:"1",style:{display:"block"},children:"Equip character"}),(0,ZD.jsx)("button",{className:"characterBtnPurch",onClick:function(){return o("potter")},value:"1",style:{display:"none"},children:"Purchase for 0 points"})]}),(0,ZD.jsxs)("div",{className:"character",children:[(0,ZD.jsx)("h5",{children:"Draco"}),(0,ZD.jsx)("img",{id:"draco",alt:"background",src:GD}),(0,ZD.jsx)("button",{className:"characterBtnEquipSet",onClick:function(){return i("draco")},value:"2",style:{display:"none"},children:"Equip character"}),(0,ZD.jsx)("button",{className:"characterBtnPurch",onClick:function(){return o("draco")},value:"2",children:"Purchase for 5000 points"})]}),(0,ZD.jsxs)("div",{className:"character",children:[(0,ZD.jsx)("h5",{children:"Harry - Quidditch"}),(0,ZD.jsx)("img",{id:"potter4",alt:"background",src:HD}),(0,ZD.jsx)("button",{className:"characterBtnEquipSet",onClick:function(){return i("potter4")},value:"3",style:{display:"none"},children:"Equip character"}),(0,ZD.jsx)("button",{className:"characterBtnPurch",onClick:function(){return o("potter4")},value:"3",children:"Purchase for 7500 points"})]}),(0,ZD.jsxs)("div",{className:"character",children:[(0,ZD.jsx)("h5",{children:"Dementor"}),(0,ZD.jsx)("img",{id:"dementor",alt:"background",src:YD}),(0,ZD.jsx)("button",{className:"characterBtnEquipSet",onClick:function(){return i("dementor")},value:"5",style:{display:"none"},children:"Equip character"}),(0,ZD.jsx)("button",{className:"characterBtnPurch",onClick:function(){return o("dementor")},value:"5",children:"Purchase for 100,000 points"})]}),(0,ZD.jsxs)("div",{className:"character",children:[(0,ZD.jsx)("h5",{children:"Ron"}),(0,ZD.jsx)("img",{id:"ron1",alt:"background",src:JD}),(0,ZD.jsx)("button",{className:"characterBtnEquipSet",onClick:function(){return i("ron1")},value:"7",style:{display:"none"},children:"Equip character"}),(0,ZD.jsx)("button",{className:"characterBtnPurch",onClick:function(){return o("ron1")},value:"7",children:"Purchase for 200,000 points"})]}),(0,ZD.jsxs)("div",{className:"character",children:[(0,ZD.jsx)("h5",{children:"Ginny"}),(0,ZD.jsx)("img",{id:"ginny",alt:"background",src:XD}),(0,ZD.jsx)("button",{className:"characterBtnEquipSet",onClick:function(){return i("ginny")},value:"11",style:{display:"none"},children:"Equip character"}),(0,ZD.jsx)("button",{className:"characterBtnPurch",onClick:function(){return o("ginny")},value:"11",children:"Purchase for 200,000 points"})]})]})]})]})},qB=!1,QB=0,jB=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1];function s(e,t){return u.apply(this,arguments)}function u(){return(u=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OD.loginUser(t,n);case 2:"object"===typeof(qB=e.sent)?(QB=qB.highscore,console.log("username is "+qB.username),console.log("HIGH_SCORE is "+QB),sessionStorage.setItem("savedUsername",t),sessionStorage.setItem("savedPassword",n),r(t),window.open(window.location.protocol+"//"+window.location.host+"/jump-game","_self")):alert(qB);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.length>=4&&n.length<=50?a.length>=4&&a.length<=50?(qB=s(n,a),console.log("'"+n+"'"),console.log("'"+a+"'")):(alert("Password must be between 4 and 50 characters long"),o("")):alert("Username must be between 4 and 50 characters long");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Je(T().mark((function e(){var t,n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("savedUsername"),n=sessionStorage.getItem("savedPassword"),r=t,i=n,e.next=6,OD.loginUser(r,i);case 6:qB=e.sent,QB=qB.highscore,document.getElementById("usernameID").innerHTML="Welcome "+qB.username,document.getElementById("pointsID").innerHTML="You have "+qB.points+" points",document.getElementById("pointsID").innerHTML+="<br>High Score: "+QB+" points";case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){sessionStorage.getItem("savedUsername")&&function(){h.apply(this,arguments)}()})),(0,ZD.jsxs)("div",{className:"Login",children:[(0,ZD.jsx)("h3",{children:"Login"}),(0,ZD.jsx)("div",{className:"login",children:(0,ZD.jsxs)("form",{id:"loginFormID",onSubmit:function(e){return l.apply(this,arguments)},children:[(0,ZD.jsxs)("div",{className:"form-group",children:[(0,ZD.jsx)("label",{children:"Username"}),(0,ZD.jsx)("input",{type:"text",required:!0,value:n,onChange:function(e){return r(e.target.value)},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Username"})]}),(0,ZD.jsxs)("div",{className:"form-group",children:[(0,ZD.jsx)("label",{children:"Password"}),(0,ZD.jsx)("input",{type:"password",required:!0,value:a,onChange:function(e){return o(e.target.value)},className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),(0,ZD.jsx)("button",{id:"formSubmitMsg",type:"submit",className:"btn btn-primary",children:"Login"})]})})]})},VB=!1,zB=0,KB=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1];function s(e,t){return u.apply(this,arguments)}function u(){return(u=Je(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OD.loginUser(t,n);case 2:"object"===typeof(VB=e.sent)?(zB=VB.highscore,console.log("username is "+VB.username),console.log("HIGH_SCORE is "+zB),sessionStorage.setItem("savedUsername",t),sessionStorage.setItem("savedPassword",n),r(t),window.open(window.location.protocol+"//"+window.location.host+"/jump-game","_self")):alert(VB);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Je(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n.length>=4&&n.length<=50)){e.next=16;break}if(!(a.length>=4&&a.length<=50)){e.next=12;break}return console.log("creating user"),e.next=6,OD.signUpUser(n,a);case 6:!1===e.sent?alert("A username with that email already exists. Please use a different email"):VB=s(n,a),console.log("'"+n+"'"),console.log("'"+a+"'"),e.next=14;break;case 12:alert("Password must be between 4 and 50 characters long"),o("");case 14:e.next=17;break;case 16:alert("Username must be between 4 and 50 characters long");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Je(T().mark((function e(){var t,n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("savedUsername"),n=sessionStorage.getItem("savedPassword"),r=t,i=n,e.next=6,OD.loginUser(r,i);case 6:VB=e.sent,zB=VB.highscore,document.getElementById("usernameID").innerHTML="Welcome "+VB.username,document.getElementById("pointsID").innerHTML="You have "+VB.points+" points",document.getElementById("pointsID").innerHTML+="<br>High Score: "+zB+" points";case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){sessionStorage.getItem("savedUsername")&&function(){h.apply(this,arguments)}()})),(0,ZD.jsxs)("div",{className:"Signup",children:[(0,ZD.jsx)("h3",{children:"Sign Up"}),(0,ZD.jsx)("div",{className:"signUp",children:(0,ZD.jsxs)("form",{id:"loginFormID",onSubmit:function(e){return l.apply(this,arguments)},children:[(0,ZD.jsxs)("div",{className:"form-group",children:[(0,ZD.jsx)("label",{children:"Username"}),(0,ZD.jsx)("input",{type:"text",required:!0,value:n,onChange:function(e){return r(e.target.value)},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Username"})]}),(0,ZD.jsxs)("div",{className:"form-group",children:[(0,ZD.jsx)("label",{children:"Password"}),(0,ZD.jsx)("input",{type:"password",required:!0,value:a,onChange:function(e){return o(e.target.value)},className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),(0,ZD.jsx)("button",{id:"formSubmitMsg",type:"submit",className:"btn btn-primary",children:"Sign up"})]})})]})},WB=function(){return(0,ZD.jsx)("div",{className:"App",children:(0,ZD.jsxs)(je,{children:[(0,ZD.jsx)(LB,{}),(0,ZD.jsx)("br",{}),(0,ZD.jsxs)(Be,{children:[(0,ZD.jsx)(Pe,{path:"/",element:(0,ZD.jsx)(BB,{}),exact:!0}),(0,ZD.jsx)(Pe,{path:"/jump-game",element:(0,ZD.jsx)(BB,{}),exact:!0}),(0,ZD.jsx)(Pe,{path:"/profile",element:(0,ZD.jsx)(UB,{})}),(0,ZD.jsx)(Pe,{path:"/login",element:(0,ZD.jsx)(jB,{})}),(0,ZD.jsx)(Pe,{path:"/signup",element:(0,ZD.jsx)(KB,{})}),(0,ZD.jsx)(Pe,{path:"*",element:(0,ZD.jsx)(OB,{})})]})]})})},GB=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,ZD.jsx)(t.StrictMode,{children:(0,ZD.jsx)(WB,{})}),document.getElementById("root")),GB()}()}();
//# sourceMappingURL=main.998f63fa.js.map